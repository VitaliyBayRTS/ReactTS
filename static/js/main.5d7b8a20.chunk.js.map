{"version":3,"sources":["dal/dal.ts","redux/dialogReducer.ts","assets/img/preloader.gif","assets/img/cub.png","redux/authMeReducer.ts","component/NavBar/NavBar.module.scss","redux/sidebarReducer.ts","utilities/objectHelpers/objectHelper.ts","redux/usersReducer.ts","redux/redux-store.ts","component/NavBar/NavBar.tsx","utilities/Paginator/Paginator.tsx","component/Users/User/User.tsx","component/Users/Users.tsx","redux/usersSelectors.ts","component/Users/UsersContainer.tsx","component/Header/Header.tsx","component/Header/HeaderContainer.tsx","component/Login/Login.tsx","component/Login/LoginContainer.tsx","hoc/withSuspense.tsx","App.tsx","index.tsx","utilities/ReduxForm/ReduxForm.module.scss","App.module.scss","redux/appReducer.ts","utilities/Paginator/Paginator.module.scss","utilities/ReduxForm/Form.tsx","redux/profileReducer.ts","component/common/Preloader/Preloader.tsx","utilities/validator/validator.ts","component/Users/Users.module.scss","component/Header/Header.module.scss","assets/img/user.jpeg"],"names":["resultCodeEnum","resultCodeForCaptcha","instance","Axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollow","userId","delete","follow","post","getProfile","console","warn","profileAPI","getUserStatus","updateUserStatus","status","put","savePhoto","photo","formData","FormData","append","res","saveProfileInfo","profile","authApi","me","result","login","email","password","rememberMe","captcha","logout","securityApi","getCaptcha","DialogActions","addMessageActionCreator","messageBody","type","initialState","DialogItemData","id","name","DialogMessageData","text","dialogReducer","state","action","length","module","exports","authMeActions","setUserData","isAuth","payload","getCaptchaUrlSuccess","captchaUrl","setUserFoto","userImage","meThunk","dispatch","a","responsData","resultCode","Success","initializeApp","getCaptchaUrl","errorMessage","messages","stopSubmit","_error","log","url","authMeReducer","sidebarData","newNoteText","sidebarReducer","unfollowFollowChanging","items","itemId","actionId","newObject","map","u","userActions","users","page","count","value","isDisable","usersId","followUnfollowFlow","dal","actionCreator","error","usersCount","isFetching","disableUsers","usersReducer","followed","filter","reducers","combineReducers","dialogPage","profilePage","profileReducer","sidebarPage","usersPage","auth","form","formReducer","app","appReducer","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","NavBar","props","className","s","nav","to","item","activeClassName","active","Paginator","pageCount","Math","ceil","itemCount","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","paginatorBox","btn","disabled","onClick","p","key","cn","paginationItem","selectedPage","e","onPaginationClick","User","userBox","userData","src","photos","small","userIcon","alt","avatar","some","unfollowThunk","followThunk","Users","getUsersSelector","createSelector","getUserCount","getPageSize","getCurrentPage","getIsFetching","getDisableUsers","UsersClassComponent","getUsersThunk","this","Preloader","React","Component","UserContainer","connect","totalCount","Header","header","profileImage","cub","HeaderContainer","LoginReduxForm","reduxForm","onSubmit","handleSubmit","Field","placeholder","component","Input","validate","required","suggested","commonError","captchaImg","Login","LoginContainer","withSuspense","Suspense","fallback","ProfileContainer","lazy","DialogContainer","App","isOpenMenu","appInitialized","container","menu","setState","app_wrapper","navBar","mobileNavBar","content","exact","path","render","AppContainer","initialazed","SocialApp","rerenderEntireTree","ReactDOM","document","getElementById","getState","subscribe","appActions","getProfileThunk","Textarea","input","meta","hasError","touched","errorText","profileActions","addPostActionCreator","postBody","setPofileInfo","setUserStatus","deletePost","postId","savePhotoSuccess","photoFile","getUserStatusThunk","updateUserStatusThunk","responseData","field","indexOf","socialNetworkName","substr","toLowerCase","objError","object","Promise","reject","PostData","like","profileInfo","newPost","preloader","maxLength"],"mappings":"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","file":"static/js/main.5d7b8a20.chunk.js","sourcesContent":["import { usersType, profileInfoType, photosType } from './../types/types';\r\nimport Axios from 'axios';\r\n\r\n\r\nlet instance = Axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"767f330b-ea1f-4316-94ad-051b6e7ad9dd\"\r\n    },\r\n})\r\n\r\ntype getUsersType = {\r\n    items: Array<usersType>,\r\n    totalCount: number,\r\n    error: string | null\r\n}\r\n\r\ntype unfollowFollowTypes = {\r\n    data?: {},\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get<getUsersType>(`users?page=${currentPage}&count=${pageSize}`).then( response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete<unfollowFollowTypes>(`follow/${userId}`).then( response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post<unfollowFollowTypes>(`follow/${userId}`).then((response) => {\r\n            return response.data;\r\n        })\r\n    },\r\n    getProfile(userId: number | null) {\r\n        console.warn(\"Obsolete method. Please use profileAPI.\")\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\n\r\ntype updateUserStatusType = {\r\n    data?: {},\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\ntype savePhotoType = {\r\n    data: {\r\n        photos: photosType\r\n    },\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\ntype saveProfileInfoType = {\r\n    data?: {},\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number | null) {\r\n        return instance.get<profileInfoType>(`profile/${userId}`)\r\n    },\r\n    getUserStatus(userId: number) {\r\n        return instance.get<string>(`profile/status/${userId}`)\r\n    },\r\n    updateUserStatus(status: string) {\r\n        return instance.put<updateUserStatusType>(`profile/status`, {status: status})\r\n    },\r\n    savePhoto(photo: File) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photo)\r\n        return instance.put<savePhotoType>(`profile/photo`, formData, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(res => res.data)\r\n    },\r\n    saveProfileInfo(profile: profileInfoType) {\r\n        return instance.put<saveProfileInfoType>(`profile`, profile)\r\n    }\r\n}\r\n\r\nexport enum resultCodeEnum {\r\n    Success = 0,\r\n    Error = 1\r\n}\r\n\r\nexport enum resultCodeForCaptcha {\r\n    CaptchaREquired = 10\r\n}\r\n\r\ntype meType = {\r\n    data: {\r\n        id: number,\r\n        email: string,\r\n        login: string\r\n    },\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\ntype loginType = {\r\n    data: {\r\n        userId?: number\r\n    },\r\n    resultCode: resultCodeEnum | resultCodeForCaptcha | null,\r\n    messages: Array<string>\r\n}\r\n\r\nexport const authApi = {\r\n    me() {\r\n        return instance.get<meType>(`auth/me`).then(result => result.data);\r\n    },\r\n    login(email: string, password: string, rememberMe = false, captcha: string | null = null) {\r\n        return instance.post<loginType>(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete<loginType>(`auth/login`)\r\n    }\r\n}\r\n\r\ntype getCaptchaType = {\r\n    url: string\r\n}\r\n\r\nexport const securityApi = {\r\n    getCaptcha() {\r\n        return instance.get<getCaptchaType>(`security/get-captcha-url`);\r\n    }\r\n}","import { InferActionsTypes } from './redux-store';\r\nimport { DialogItemDataType, DialogMessageDataType } from './../types/types';\r\n\r\ntype ActionsType = InferActionsTypes<typeof DialogActions>\r\n\r\nexport const DialogActions = {\r\n    addMessageActionCreator: (messageBody: string) => ({ type: 'ADD_MESSAGE', messageBody } as const)\r\n}\r\n\r\n\r\ntype stateType = typeof initialState;\r\n\r\nlet initialState = {\r\n    DialogItemData: [\r\n        { id: 1, name: \"User 1\" },\r\n        { id: 2, name: \"User 2\" },\r\n        { id: 3, name: \"User 3\" },\r\n        { id: 4, name: \"User 4\" },\r\n        { id: 5, name: \"User 5\" },\r\n        { id: 6, name: \"User 6\" }\r\n    ] as Array<DialogItemDataType>,\r\n    DialogMessageData: [\r\n        { id: 1, text: \"First message\" },\r\n        { id: 2, text: \"This part of social network is just somulation\" },\r\n        { id: 3, text: \"This is static message\" }\r\n    ] as Array<DialogMessageDataType>\r\n}\r\n\r\nlet dialogReducer = (state = initialState, action: ActionsType): stateType => {\r\n    switch (action.type) {\r\n        case 'ADD_MESSAGE':\r\n            return {\r\n                ...state,\r\n                DialogMessageData: [...state.DialogMessageData, {\r\n                    id: state.DialogMessageData.length + 1,\r\n                    text: action.messageBody }],\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default dialogReducer;","module.exports = __webpack_public_path__ + \"static/media/preloader.4c140210.gif\";","module.exports = \"data:image/png;base64,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\"","import { InferActionsTypes, stateType } from './redux-store';\r\nimport { authApi, securityApi, resultCodeEnum } from './../dal/dal';\r\nimport { stopSubmit } from 'redux-form';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport { initializeApp } from './appReducer';\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof authMeActions>;\r\n\r\nexport const authMeActions = {\r\n    setUserData: (userId: number | null, login: string  | null, email: string  | null, isAuth: boolean) =>\r\n    ({type: 'SET_USER_DATA', payload: {userId, login, email, isAuth} } as const),\r\n    getCaptchaUrlSuccess: (captchaUrl: string) =>\r\n    ({type: 'GET_CAPTCHA_URL', payload: {captchaUrl} } as const),\r\n    setUserFoto: (userImage: string) => ({type: 'GET_USER_IMAGE', userImage} as const)\r\n}\r\n\r\n\r\ntype DispatchType = ThunkAction<Promise<void | resultCodeEnum | null>, stateType, unknown, ActionsTypes>\r\n\r\nexport const meThunk = (): DispatchType => async (dispatch) => {\r\n    const responsData = await authApi.me();\r\n    if(responsData.resultCode === resultCodeEnum.Success) {\r\n        let {id, login, email} = responsData.data;\r\n        dispatch(authMeActions.setUserData(id, login, email, true));\r\n    } else {\r\n        return responsData.resultCode;\r\n    }\r\n}\r\n\r\nexport const login = \r\n(email: string, password: string, rememberMe: boolean, captcha: string): DispatchType => \r\nasync (dispatch) => {\r\n    const response = await authApi.login(email, password, rememberMe, captcha);\r\n    if(response.data.resultCode === 0) {\r\n        // dispatch(meThunk());\r\n        dispatch(initializeApp());\r\n    } else {\r\n        if(response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        let errorMessage = response.data.messages\r\n        //@ts-ignore\r\n        dispatch(stopSubmit('login', {_error: errorMessage}));\r\n    }\r\n}\r\n\r\nexport const logout = (): DispatchType => async (dispatch: any) => {\r\n    const response = await authApi.logout();\r\n    if(response.data.resultCode === 0) {\r\n        dispatch(authMeActions.setUserData(null, null, null, false));\r\n    } else {\r\n        console.log(response.data.messages);\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = (): DispatchType => async (dispatch: any) => {\r\n    const response = await securityApi.getCaptcha();\r\n    const url = response.data.url;\r\n    dispatch(authMeActions.getCaptchaUrlSuccess(url))\r\n}\r\n\r\ntype authStateType = typeof initialState;\r\n\r\nlet initialState = {\r\n    userId: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false as boolean,\r\n    captchaUrl: null as string | null,\r\n    userImage: null as string | null\r\n}\r\n\r\nlet authMeReducer = (state = initialState , action: ActionsTypes): authStateType => {\r\n    switch (action.type) {\r\n        case 'SET_USER_DATA':\r\n        case 'GET_CAPTCHA_URL':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case 'GET_USER_IMAGE':\r\n            return {...state, userImage: action.userImage}\r\n        default:\r\n           return state\r\n    }\r\n}\r\n\r\nexport default authMeReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__1MHgl\",\"item\":\"NavBar_item__3TPM-\",\"active\":\"NavBar_active__2gaxY\"};","import { InferActionsTypes } from \"./redux-store\";\r\n\r\ntype ActionsType = InferActionsTypes<typeof sidebarActions>\r\n\r\n\r\nexport const sidebarActions = {\r\n    addNoteActionCreator: () => ({type: 'ADD_NOTE' } as const),\r\n    newNoteTextActionCreator: (text: string) => ({type: 'CHANGE_NOTE_MESSAGE', text: text} as const)\r\n}\r\n\r\ntype sidebarDataType = {\r\n    id: number,\r\n    text: string\r\n}\r\n\r\nlet initialState = {\r\n    sidebarData: [\r\n        { id: 1, text: \"Hay que terminar React.ts\" }\r\n    ] as Array<sidebarDataType>,\r\n    newNoteText: \"\"\r\n}\r\n\r\ntype stateType = typeof initialState;\r\n\r\nlet sidebarReducer = (state = initialState, action: ActionsType): stateType => {\r\n    switch (action.type) {\r\n        case 'ADD_NOTE':\r\n            return {...state,\r\n            sidebarData: [...state.sidebarData, {\r\n                id: state.sidebarData.length + 1,\r\n                text: state.newNoteText\r\n            }],\r\n            newNoteText: \"\"\r\n        }\r\n        case 'CHANGE_NOTE_MESSAGE':\r\n            return {...state,\r\n                newNoteText: action.text\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default sidebarReducer;","import { usersType } from './../../types/types';\r\nexport const unfollowFollowChanging = (items: Array<usersType>, itemId: any, actionId: number, newObject: {}) => {\r\n    return items.map((u: any) => {\r\n        if (u[itemId] === actionId) {\r\n            return { ...u, ...newObject };\r\n        }\r\n        return u;\r\n    })\r\n}","import { unfollowFollowChanging } from './../utilities/objectHelpers/objectHelper';\r\nimport { usersAPI } from \"../dal/dal\";\r\nimport { usersType } from '../types/types';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport { Dispatch } from 'redux';\r\nimport { InferActionsTypes } from './redux-store';\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof userActions>\r\n\r\nexport const userActions = {\r\n    follow: (userId: number) => ({ type: 'FOLLOW', userId } as const),\r\n    unfollow: (userId: number) => ({ type: 'UNFOLLOW', userId } as const),\r\n    setUsers: (users: Array<usersType>) => ({ type: 'SET_USERS', users } as const),\r\n    setCurrentPage: (page: number) => ({ type: 'SET_CURRENT_PAGE', page } as const),\r\n    setUsersCount: (count: number) => ({ type: 'SET_USERS_COUNT', count } as const),\r\n    setFetching: (value: boolean) => ({ type: 'SET_FETCHING', value } as const),\r\n    setDisableUsers: (isDisable: boolean, usersId: number) => ({ type: 'DISABLE_USERS', isDisable, usersId } as const)\r\n}\r\n\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, stateType, unknown, ActionsTypes>\r\ntype DispatchType = Dispatch<ActionsTypes>\r\n\r\nexport const getUsersThunk = \r\n(currentPage: number, pageSize: number): ThunkType => async (dispatch) => {\r\n    dispatch(userActions.setFetching(true)) // Enable Preloader component\r\n    const data = await usersAPI.getUsers(currentPage, pageSize);\r\n    if (data.error === null) {\r\n        dispatch(userActions.setUsers(data.items))\r\n        dispatch(userActions.setUsersCount(data.totalCount))\r\n        dispatch(userActions.setCurrentPage(currentPage))\r\n        dispatch(userActions.setFetching(false)) // Disable Preloader component\r\n    } \r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: DispatchType, \r\n                                userId: number, \r\n                                dal: any, \r\n                                actionCreator: (userId: number) => ActionsTypes) => {\r\n    dispatch(userActions.setDisableUsers(true, userId))\r\n    const data = await dal(userId)\r\n    if (data.error == null) {\r\n        dispatch(userActions.setDisableUsers(false, userId))\r\n        dispatch(actionCreator(userId))\r\n    }\r\n}\r\n\r\nexport const unfollowThunk = (userId: number): ThunkType => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollow, userActions.unfollow);\r\n}\r\nexport const followThunk = (userId: number): ThunkType => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow, userActions.follow);\r\n}\r\n\r\n\r\nlet initialState = {\r\n    users: [] as Array<usersType>,\r\n    usersCount: 0,\r\n    pageSize: 5,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    disableUsers: [] as Array<number> // Aray of users id\r\n}\r\n\r\ntype stateType = typeof initialState;\r\n\r\n\r\nlet usersReducer = (state = initialState, action: ActionsTypes): stateType => {\r\n    switch (action.type) {\r\n        case 'FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: unfollowFollowChanging(state.users, [\"id\"], action.userId, {followed: true})\r\n            }\r\n        case 'UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: unfollowFollowChanging(state.users, [\"id\"], action.userId, {followed: false})\r\n            }\r\n        case 'SET_USERS':\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case 'SET_CURRENT_PAGE':\r\n            return {\r\n                ...state,\r\n                currentPage: action.page\r\n            }\r\n        case 'SET_USERS_COUNT':\r\n            return {\r\n                ...state,\r\n                usersCount: action.count\r\n            }\r\n        case 'SET_FETCHING':\r\n            return {\r\n                ...state,\r\n                isFetching: action.value\r\n            }\r\n        case 'DISABLE_USERS':\r\n            return {\r\n                ...state,\r\n                disableUsers: action.isDisable ? [...state.disableUsers, action.usersId]\r\n                    : state.disableUsers.filter((id: any) => id !== action.usersId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport dialogReducer from './dialogReducer';\r\nimport profileReducer from './profileReducer';\r\nimport sidebarReducer from './sidebarReducer';\r\nimport usersReducer from './usersReducer';\r\nimport authMeReducer from './authMeReducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from './appReducer';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nlet reducers = combineReducers({    \r\n    dialogPage: dialogReducer,\r\n    profilePage: profileReducer,\r\n    sidebarPage: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authMeReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\ntype RootReducerType = typeof reducers;\r\nexport type stateType = ReturnType<RootReducerType>;\r\n\r\ntype PropertieesType<T> = T extends {[key: string]: infer U} ? U : never\r\n\r\nexport type InferActionsTypes<T extends {[key: string]: (...args: any[]) => any}> = ReturnType<PropertieesType<T>>\r\n\r\nlet store = createStore(reducers, composeWithDevTools(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\nexport default store;","import React, { FunctionComponent } from 'react';\r\nimport s from './NavBar.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\ninterface PropsInterface {\r\n}\r\n\r\n\r\nconst NavBar: FunctionComponent<PropsInterface> = (props) => {\r\n    return (\r\n        <div className={s.nav}>\r\n            <nav>\r\n                <ul>\r\n                    <li>\r\n                        <NavLink to=\"/profile\" className={s.item} activeClassName={s.active} >Profile</NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/dialog\" className={s.item} activeClassName={s.active}>Messages</NavLink>\r\n                    </li>\r\n                    {/* <li>\r\n                        <NavLink to=\"/news\" className={s.item} activeClassName={s.active}>News</NavLink>\r\n                    </li> */}\r\n                    <li>\r\n                        <NavLink to=\"/users\" className={s.item} activeClassName={s.active}>Users</NavLink>\r\n                    </li>\r\n                    {/* <li>\r\n                        <NavLink to=\"/music\" className={s.item} activeClassName={s.active}>Music</NavLink>\r\n                    </li> */}\r\n                    <li>\r\n                        <NavLink to=\"/setting\" className={s.item} activeClassName={s.active}>Settings</NavLink>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavBar;","import React, { FunctionComponent, useState } from \"react\";\r\nimport s from \"./Paginator.module.scss\";\r\nimport cn from 'classnames';\r\n\r\ninterface PropsInterface {\r\n    itemCount: number,\r\n    pageSize: number,\r\n    currentPage: number,\r\n    onPaginationClick: (p: number) => void\r\n}\r\n\r\nlet Paginator: FunctionComponent<PropsInterface> = (props) => {\r\n\r\n    let pageCount = Math.ceil(props.itemCount / props.pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionSize = 10;\r\n    let portionCount = Math.ceil(pageCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionNumber = (portionNumber -1) * portionSize + 1;\r\n    let rightPortionNumber = portionNumber * portionSize;\r\n\r\n    return <div className={s.paginatorBox}>\r\n        <button className={s.btn} disabled={portionNumber <= 1}\r\n        onClick={() => {setPortionNumber(portionNumber - 1)}\r\n        }>Prev</button>\r\n        {pages.filter((p: any) => p >= leftPortionNumber && p <= rightPortionNumber).map((p: any) => {\r\n            return <span key={p} className={cn(s.paginationItem, {\r\n                    [s.selectedPage]: props.currentPage === p\r\n                })}\r\n                onClick={(e) => { \r\n                    props.onPaginationClick(p)\r\n                 }}>{p}</span>\r\n        })}\r\n        <button className={s.btn} onClick={() => {setPortionNumber(portionNumber + 1)}}\r\n        disabled={portionNumber >= portionCount}>Next</button>\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React, { FunctionComponent } from \"react\";\r\nimport s from \"../Users.module.scss\";\r\nimport userIcon from \"../../../assets/img/user.jpeg\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { usersType } from \"../../../types/types\";\r\n\r\ninterface PropsType {\r\n    userData: usersType,\r\n    disableUsers: Array<number>,\r\n    isAuth: boolean,\r\n    unfollowThunk: (userId: number) => void,\r\n    followThunk: (userId: number) => void\r\n}\r\n\r\nlet User: FunctionComponent<PropsType> = (props) => {\r\n\r\n    return <div className={s.userBox}>\r\n        <div>\r\n            <NavLink to={\"/profile/\" + props.userData.id}>\r\n                <img src={props.userData.photos.small != null ? props.userData.photos.small : userIcon} alt=\"\" className={s.avatar} />\r\n            </NavLink>\r\n            {props.userData.followed ?\r\n                <button disabled={props.disableUsers.some((id: number) => id === props.userData.id )} onClick={() => {\r\n                    props.unfollowThunk(props.userData.id);\r\n                }}>Unfollow</button> :\r\n                <button disabled={props.disableUsers.some((id: number) => id === props.userData.id) && props.isAuth} onClick={() => {\r\n                    props.followThunk(props.userData.id);\r\n                }}>Follow</button>}\r\n        </div>\r\n        <div>\r\n            <span><b>User name:</b> {props.userData.name}</span>\r\n            <span><b>Satus:</b> {props.userData.status || \"-----\" }</span>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default User;","import React, { FunctionComponent } from \"react\";\r\nimport Paginator from \"../../utilities/Paginator/Paginator\";\r\nimport User from \"./User/User\";\r\nimport { usersType } from \"../../types/types\";\r\n\r\ntype PropsInterface = {\r\n    users: Array<usersType>,\r\n    usersCount: number,\r\n    pageSize: number,\r\n    currentPage: number,\r\n    isAuth: boolean,\r\n    onPaginationClick: (p: number) => void,\r\n    disableUsers: Array<number>,\r\n    unfollowThunk: (userId: number) => void,\r\n    followThunk: (userId: number) => void\r\n}\r\n\r\nlet Users: FunctionComponent<PropsInterface> = (props) => {\r\n\r\n    return <div>\r\n        <Paginator itemCount={props.usersCount} \r\n                    pageSize={props.pageSize} \r\n                    currentPage={props.currentPage}\r\n                    onPaginationClick={props.onPaginationClick}\r\n                    />\r\n        {props.users.map((u: any) => <User disableUsers={props.disableUsers}\r\n                        isAuth={props.isAuth}\r\n                        unfollowThunk={props.unfollowThunk}\r\n                        followThunk={props.followThunk}\r\n                        key={u.id}\r\n                        userData={u}\r\n            /> \r\n        )}\r\n    </div>\r\n}\r\n\r\nexport default Users;","import { createSelector } from 'reselect';\r\nimport { stateType } from './redux-store';\r\nimport { usersType } from '../types/types';\r\n\r\n// At this moment i dont need reselector, so i just tested how its work\r\n\r\nconst getUsers = (state: stateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersSelector = createSelector(getUsers, (users: Array<usersType>) => {\r\n    return users.filter((a: usersType) => true)\r\n})\r\n\r\nexport const getUserCount = (state: stateType) => {\r\n    return state.usersPage.usersCount\r\n}\r\nexport const getPageSize = (state: stateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getCurrentPage = (state: stateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: stateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getDisableUsers = (state: stateType) => {\r\n    return state.usersPage.disableUsers\r\n}\r\nexport const isAuth = (state: stateType) => {\r\n    return state.auth.isAuth\r\n}","import { connect } from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport { getUsersThunk, unfollowThunk, followThunk } from \"../../redux/usersReducer\";\r\nimport React from \"react\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { getUsersSelector, getUserCount, getPageSize, getCurrentPage, getIsFetching, getDisableUsers, isAuth } from \"../../redux/usersSelectors\";\r\nimport { usersType } from \"../../types/types\";\r\nimport { stateType } from \"../../redux/redux-store\";\r\n\r\ntype mapStateToPropsType = {\r\n    users: Array<usersType>,\r\n    usersCount: number,\r\n    pageSize: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    disableUsers: Array<number>,\r\n    isAuth: boolean\r\n}\r\n\r\ntype mapDispatchToPropsType = {\r\n    getUsersThunk: (currentPage: number, pageSize: number) => void,\r\n    unfollowThunk: (userId: number) => void,\r\n    followThunk: (userId: number) => void\r\n}\r\n\r\ntype MyProps = mapStateToPropsType & mapDispatchToPropsType\r\n\r\nclass UsersClassComponent extends React.Component<MyProps>{\r\n\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props;\r\n        this.props.getUsersThunk(currentPage, pageSize);\r\n    }\r\n\r\n    onPaginationClick = (p: number) => {\r\n        this.props.getUsersThunk(p, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : <Users users={this.props.users}\r\n                usersCount={this.props.usersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                isAuth = {this.props.isAuth}\r\n                onPaginationClick={this.onPaginationClick}\r\n                disableUsers={this.props.disableUsers}\r\n                unfollowThunk={this.props.unfollowThunk}\r\n                followThunk={this.props.followThunk} />}\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: stateType): mapStateToPropsType => {\r\n    return {\r\n        users: getUsersSelector(state),\r\n        usersCount: getUserCount(state),\r\n        pageSize: getPageSize(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        disableUsers: getDisableUsers(state),\r\n        isAuth: isAuth(state)\r\n    }\r\n}\r\n\r\nlet UserContainer = connect<mapStateToPropsType, mapDispatchToPropsType, {}, stateType>\r\n(mapStateToProps, {getUsersThunk, unfollowThunk, followThunk})(UsersClassComponent);\r\n\r\nexport default UserContainer;","import React, { FunctionComponent } from 'react';\r\nimport s from './Header.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport cub from '../../assets/img/cub.png';\r\n\r\ninterface myProps {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout: () => void\r\n    profileImage: string | null\r\n}\r\n\r\n\r\n\r\nconst Header: FunctionComponent<myProps> = (props) => {\r\n    return (\r\n        <div className={s.header}>\r\n             <header>\r\n                {props.isAuth && props.profileImage ?\r\n                <div className={s.userBox}>  \r\n                    <img src={props.profileImage} alt=\"\"/>\r\n                    <span>{props.login}</span>\r\n                </div> : <div></div> }\r\n                <div>\r\n                    <img src={cub} alt=\"\"/>\r\n                </div>\r\n                <div>\r\n                    {props.isAuth ? <button onClick={props.logout}>LogOut</button> \r\n                    : <div><NavLink to=\"/login\">Login</NavLink></div>}\r\n                </div>\r\n            </header>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { logout } from './../../redux/authMeReducer';\r\nimport { stateType } from '../../redux/redux-store';\r\n\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    profileImage: string | null\r\n}\r\n\r\ntype mapDipatchToPropsType = {\r\n    logout: () => void\r\n}\r\n\r\ntype OwnProps = {\r\n\r\n}\r\n\r\ntype MyProps = mapStateToPropsType & mapDipatchToPropsType & OwnProps\r\n\r\nclass HeaderContainer extends React.Component<MyProps>{\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n    \r\n}\r\n\r\nlet mapStateToProps = (state: stateType): mapStateToPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        profileImage: state.auth.userImage\r\n    }\r\n}\r\n\r\nexport default connect<mapStateToPropsType, mapDipatchToPropsType, OwnProps, stateType>\r\n(mapStateToProps, { logout})(HeaderContainer);","import React, { FunctionComponent }from 'react';\r\nimport {Field, reduxForm, InjectedFormProps} from 'redux-form';\r\nimport { Input } from '../../utilities/ReduxForm/Form';\r\nimport { required } from '../../utilities/validator/validator';\r\nimport { Redirect } from 'react-router-dom';\r\nimport s from './../../utilities/ReduxForm/ReduxForm.module.scss';\r\n\r\ntype IFormProps = {\r\n    handleSubmit: () => void,\r\n    error: string,\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n    captcha: string\r\n}\r\n\r\ntype IDispatchProps = {\r\n    captchaUrl: string\r\n}\r\n\r\nlet LoginForm = (props: IDispatchProps & InjectedFormProps<IFormProps, IDispatchProps>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div onSubmit={props.handleSubmit}>\r\n                <Field placeholder=\"Email\" name=\"email\" component={Input} validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder=\"Password\" suggested=\"current-password\" name=\"password\" component={Input} type=\"password\" validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field type=\"checkbox\" name=\"rememberMe\" component={Input}/> Remember me\r\n            </div>\r\n            {props.error && <div className={s.commonError}> {props.error} </div>}\r\n            {props.captchaUrl && <img src={props.captchaUrl} className={s.captchaImg} alt=\"captch\"/>}\r\n            { props.captchaUrl && <div>\r\n                <Field placeholder=\"Input symbols of image\" name=\"captcha\" component={Input} validate={[required]}/>\r\n            </div> }\r\n            <div>\r\n                <button>Login</button>\r\n            </div> \r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nlet LoginReduxForm = reduxForm<IFormProps, IDispatchProps>({form: 'login'})(LoginForm);\r\n\r\ntype propsInter = {\r\n    login: (email: string, password: string, rememberMe: boolean, captcha: string) => void,\r\n    isAuth: boolean\r\n    captchaUrl: string\r\n}\r\n\r\ntype formDataType = {\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n    captcha: string\r\n}\r\n\r\n\r\n\r\nlet Login: FunctionComponent<propsInter> = (props) => {\r\n    let onSubmit = (formData: formDataType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    }\r\n\r\n    if(props.isAuth) return <Redirect to=\"/profile\" />\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport Login from './Login';\r\nimport { connect } from 'react-redux';\r\nimport { login } from './../../redux/authMeReducer';\r\nimport { stateType } from '../../redux/redux-store';\r\n\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean,\r\n    captchaUrl: string\r\n}\r\n\r\ntype mapDispatchToPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean, captcha: string) => void,\r\n}\r\n\r\ntype OwnProps = {\r\n\r\n}\r\n\r\ntype PropsType = mapStateToPropsType & mapDispatchToPropsType & OwnProps\r\n\r\nclass LoginContainer extends React.Component<PropsType> {\r\n    render() {\r\n        return <Login login={this.props.login} isAuth={this.props.isAuth} captchaUrl={this.props.captchaUrl}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: any) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl\r\n    }\r\n}\r\n\r\nexport default connect<mapStateToPropsType, mapDispatchToPropsType, OwnProps, stateType>\r\n(mapStateToProps,{login})(LoginContainer);","import React from \"react\";\r\n\r\nexport const withSuspense = (Component: any) => {\r\n    return (props: any) => {\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    }\r\n}\r\n\r\n","import React, { FunctionComponent } from 'react';\nimport s from './App.module.scss';\nimport NavBar from './component/NavBar/NavBar';\nimport { Route, HashRouter, Switch, Redirect } from 'react-router-dom';\nimport UserContainer from './component/Users/UsersContainer';\nimport HeaderContainer from './component/Header/HeaderContainer';\nimport LoginContainer from './component/Login/LoginContainer';\nimport { initializeApp } from './redux/appReducer';\nimport { connect, Provider } from 'react-redux';\nimport Preloader from './component/common/Preloader/Preloader';\nimport store, { stateType } from './redux/redux-store';\nimport { withSuspense } from './hoc/withSuspense';\nimport cn from 'classnames';\n\nconst ProfileContainer = React.lazy(() => import('./component/Profile/ProfileContainer'));\nconst DialogContainer = React.lazy(() => import('./component/Dialog/DialogContainer'));\n\ntype mapStateToPropsType = {\n  appInitialized: boolean\n}\ntype mapDispatchToPropsType = {\n  initializeApp: () => void\n}\n\n\ntype PropsType = mapStateToPropsType & mapDispatchToPropsType\n\ntype LocalStateType = {\n  isOpenMenu: boolean\n}\n\nclass App extends React.Component<PropsType> {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  state: LocalStateType = {\n    isOpenMenu: false\n}\n\n  render() {\n    if(!this.props.appInitialized) return <Preloader />\n\n    return (\n      <div className={s.container}>\n        <button className={s.menu} onClick={() => this.setState({\n          isOpenMenu: !this.state.isOpenMenu\n        })}>☰</button>\n        <div className={s.header}></div>\n        <HashRouter> {// Instead of hashRouter i was used BrowserRouter, but BrowserRouter is working incorrect with \n                      // GitHub pages\n                    }\n          <div className={s.app_wrapper}>\n            <HeaderContainer />\n            <div className={cn(s.navBar, {\n              [s.mobileNavBar]: this.state.isOpenMenu \n            })}>\n              <NavBar/>\n            </div>\n            <div className={s.content}>\n              <Switch>\n                <Route exact path=\"/\" render={() => <Redirect to=\"/profile\" />}/>\n                <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}/>\n                <Route path=\"/dialog\" render={withSuspense(DialogContainer)}/>\n                <Route path=\"/users\" render={() => <UserContainer />} />\n                <Route path=\"/login\" render={() => <LoginContainer />} />\n                <Route path=\"*\" render={() => <div>404 Page not Found</div>}/>\n              </Switch>\n            </div>\n          </div>\n      </HashRouter>\n      </div>\n    );\n  }\n}\n\nlet mapStateToProps = (state: stateType): mapStateToPropsType => {\n  return {\n    appInitialized: state.app.initialazed\n  }\n}\n\nlet AppContainer =  connect<mapStateToPropsType, mapDispatchToPropsType, {}, stateType>\n(mapStateToProps, {initializeApp})(App);\n\ntype SocialApp = {}\n\nlet SocialApp: FunctionComponent<SocialApp> = (props) => {\n  return <Provider store={store}>\n    <AppContainer />\n  </Provider>\n}\n\nexport default SocialApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport store from './redux/redux-store';\nimport SocialApp from './App';\n\nlet rerenderEntireTree = (state: any): void => {\n    ReactDOM.render(<SocialApp />, document.getElementById('root'));\n}\nrerenderEntireTree(store.getState());\n\nstore.subscribe(() => {\n    let state = store.getState();\n    rerenderEntireTree(state);\n});","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"ReduxForm_error__233NZ\",\"commonError\":\"ReduxForm_commonError__cBGbG\",\"errorText\":\"ReduxForm_errorText__1DGgE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__3z5rM\",\"menu\":\"App_menu__1RU7z\",\"header\":\"App_header__2qVPg\",\"app_wrapper\":\"App_app_wrapper__1LIpW\",\"content\":\"App_content__19Ox-\",\"navBar\":\"App_navBar__19uDn\",\"mobileNavBar\":\"App_mobileNavBar__3a9zf\"};","import { meThunk, authMeActions } from './authMeReducer';\r\nimport { getProfileThunk } from './profileReducer';\r\nimport { stateType, InferActionsTypes } from './redux-store';\r\n\r\ntype ActionsType = InferActionsTypes<typeof appActions>\r\n\r\nexport const appActions = {\r\n    InitializedSuccess: () => ({type: 'SUCCESS_INITIALIZING' } as const)\r\n}\r\n\r\ntype getStateType = () => stateType\r\n// type dispatchType = Dispatch<ActioType>\r\n\r\nexport const initializeApp = () => async (dispatch: any, getState: getStateType) => {\r\n    let result = await dispatch(meThunk())\r\n    if(result !== 1) { // If user is authorized\r\n        let userId = getState().auth.userId;\r\n        let profile = await dispatch(getProfileThunk(userId))\r\n        dispatch(authMeActions.setUserFoto(profile.data.photos.small)) //Add foto of ayhorized user to store\r\n    }   \r\n    dispatch(appActions.InitializedSuccess()) \r\n}\r\n\r\ntype InicialStateType = {\r\n    initialazed: boolean\r\n}\r\n\r\nlet initialState: InicialStateType = {\r\n    initialazed: false\r\n}\r\n\r\nlet appReducer = (state = initialState , action: ActionsType): InicialStateType => {\r\n    switch (action.type) {\r\n        case 'SUCCESS_INITIALIZING':\r\n            return {\r\n                ...state,\r\n                initialazed: true\r\n            }\r\n        default:\r\n           return state\r\n    }\r\n}\r\n\r\nexport default appReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginatorBox\":\"Paginator_paginatorBox__1XIWO\",\"selectedPage\":\"Paginator_selectedPage__aL2Pb\",\"paginationItem\":\"Paginator_paginationItem__1uHLo\",\"btn\":\"Paginator_btn__1ItAy\",\"captchaImg\":\"Paginator_captchaImg__28son\"};","import React, { FunctionComponent } from 'react';\r\nimport s from './ReduxForm.module.scss';\r\nimport { WrappedFieldProps } from 'redux-form';\r\n\r\nexport const Textarea: FunctionComponent<WrappedFieldProps> = ({input, meta, ...props}) => {\r\n    let hasError = meta.error && meta.touched;\r\n   return (<div>\r\n        <textarea className={hasError ? s.error : \"\"} {...input} {...props}/>\r\n        {hasError && <span className={s.errorText}>{meta.error}</span>}\r\n   </div>)\r\n}\r\n\r\nexport const Input: FunctionComponent<WrappedFieldProps> = ({input, meta, ...props}) => {\r\n    let hasError = meta.error && meta.touched;\r\n   return (<div>\r\n        <input className={hasError ? s.error : \"\"} {...input} {...props}/>\r\n        {hasError && <span className={s.errorText}>{meta.error}</span>}\r\n   </div>)\r\n}","import { authMeActions } from './authMeReducer';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport { profileInfoType, photosType, postDataType } from './../types/types';\r\nimport { usersAPI, profileAPI, resultCodeEnum } from \"../dal/dal\";\r\nimport { stopSubmit } from \"redux-form\";\r\nimport { InferActionsTypes, stateType } from './redux-store';\r\nimport { AxiosResponse } from 'axios';\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof profileActions>\r\n\r\nexport const profileActions = {\r\n    addPostActionCreator: (postBody: string) => ({ type: 'ADD_POST', postBody } as const),\r\n    setPofileInfo: (profile: profileInfoType) => ({ type: 'SET_PROFILE_INFO', profile } as const),\r\n    setUserStatus: (status: string) => ({ type: 'SET_STATUS', status } as const),\r\n    deletePost: (postId: number) => ({ type: 'DELETE_POST', postId } as const),\r\n    savePhotoSuccess: (photoFile: photosType) => ({ type: 'SAVE_PHOTO', photoFile } as const),\r\n    setUserFoto: authMeActions.setUserFoto\r\n}\r\n\r\ntype DispatchType = ThunkAction<Promise<void | resultCodeEnum | null | AxiosResponse<profileInfoType>>, stateType, unknown, ActionsTypes >\r\n\r\nexport const getProfileThunk = (userId: number | null): DispatchType => async (dispatch) => {\r\n    const response = await usersAPI.getProfile(userId);\r\n    dispatch(profileActions.setPofileInfo(response.data));\r\n    return response;\r\n}\r\n\r\nexport const getUserStatusThunk = (userId: number): DispatchType => async (dispatch) => {\r\n    const response = await profileAPI.getUserStatus(userId)\r\n    dispatch(profileActions.setUserStatus(response.data))\r\n    \r\n}\r\n\r\nexport const updateUserStatusThunk = (status: string): DispatchType => async (dispatch) => {\r\n    const response = await profileAPI.updateUserStatus(status)\r\n    if(response.data.resultCode === resultCodeEnum.Success) {\r\n        dispatch(profileActions.setUserStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (photo: File): DispatchType => async (dispatch) => { //Update image of user account\r\n    const responseData = await profileAPI.savePhoto(photo)\r\n    if(responseData.resultCode === resultCodeEnum.Success) {\r\n        dispatch(profileActions.savePhotoSuccess(responseData.data.photos))\r\n        dispatch(authMeActions.setUserFoto(responseData.data.photos.small))\r\n    }\r\n}\r\n\r\n\r\nexport const saveProfileInfo = (profile: profileInfoType): DispatchType => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfileInfo(profile)\r\n    if(response.data.resultCode === resultCodeEnum.Success) {\r\n        dispatch(getProfileThunk(userId))\r\n    } else {\r\n        const errorMessage = response.data.messages[0];\r\n        let field = errorMessage.indexOf(\"Contacts->\") + 10;\r\n        if(field === 9) { // Handle general error\r\n            //@ts-ignore\r\n            dispatch(stopSubmit(\"profileData\", {_error: errorMessage}));\r\n        } else { // Handle error of some social network link\r\n            let socialNetworkName = errorMessage.substr(field, errorMessage.length - field - 1).toLowerCase();\r\n            let objError: Record<string, any> = {};\r\n            objError[socialNetworkName] = errorMessage;\r\n            const object = {\"contacts\": objError}\r\n            //@ts-ignore\r\n            dispatch(stopSubmit(\"profileData\", object));\r\n        }\r\n        return Promise.reject(errorMessage)\r\n    }\r\n}\r\n\r\n\r\ntype profileStateType = typeof initialState;\r\n\r\nlet initialState = {\r\n    PostData: [\r\n        { id: 1, text: \"Super puper ninja 1\", like: 4 },\r\n        { id: 2, text: \"OMG I'm in Internet\", like: 2 },\r\n        { id: 3, text: \"Join to my way of samurai\", like: 13 }\r\n    ] as Array<postDataType>,\r\n    profileInfo: null as profileInfoType | null,\r\n    status: \"\"\r\n}\r\n\r\nlet profileReducer = (state = initialState, action: ActionsTypes): profileStateType => {\r\n    switch (action.type) {\r\n        case 'ADD_POST': {\r\n            let newPost: postDataType = {\r\n                id: state.PostData.length + 1,\r\n                text: action.postBody,\r\n                like: 0\r\n            };\r\n            return { ...state,\r\n                PostData: [...state.PostData, newPost]\r\n            }\r\n        }\r\n        case 'DELETE_POST': \r\n            return {...state, PostData: state.PostData.filter( (p: any) => p.id !== action.postId)}\r\n        case 'SET_PROFILE_INFO': \r\n            return {\r\n                ...state,\r\n                profileInfo: {...action.profile}\r\n            }\r\n        case 'SET_STATUS': \r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case 'SAVE_PHOTO': \r\n            return {\r\n                ...state,\r\n                //@ts-ignore\r\n                profileInfo: {...state.profileInfo, photos: action.photoFile}\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import React, { FunctionComponent } from 'react';\r\nimport preloader from '../../../assets/img/preloader.gif';\r\n\r\ninterface propsInterface {\r\n\r\n}\r\n\r\nlet Preloader: FunctionComponent<propsInterface> = (props) => {\r\n    return <div>\r\n        <img src={preloader} alt=\"\"/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","export const required = (value: any) => {\r\n    if(value) return undefined;\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLength = (length: number) => (value?: string) => {\r\n    if(value) {\r\n        if(value.length > length) return `Max length is ${length} symbols`;\r\n    }\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userBox\":\"Users_userBox__3CZSm\",\"avatar\":\"Users_avatar__sR2i7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3AoGm\",\"userBox\":\"Header_userBox__QXeqq\"};","module.exports = __webpack_public_path__ + \"static/media/user.5e1a27cf.jpeg\";"],"sourceRoot":""}