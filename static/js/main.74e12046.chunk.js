(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return l}));var a,r,c=n(142),u=n.n(c).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"fdd75b8c-6436-43ef-9820-ed9356461c34"}}),o={getUsers:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0;return u.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===a?"":"&friend=".concat(a))).then((function(e){return e.data}))},unfollow:function(e){return u.delete("follow/".concat(e)).then((function(e){return e.data}))},follow:function(e){return u.post("follow/".concat(e)).then((function(e){return e.data}))},getProfile:function(e){return console.warn("Obsolete method. Please use profileAPI."),i.getProfile(e)}},i={getProfile:function(e){return u.get("profile/".concat(e)).then((function(e){return e.data}))},getUserStatus:function(e){return u.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateUserStatus:function(e){return u.put("profile/status",{status:e}).then((function(e){return e.data}))},savePhoto:function(e){var t=new FormData;return t.append("image",e),u.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},saveProfileInfo:function(e){return u.put("profile",e).then((function(e){return e.data}))}};!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(a||(a={})),function(e){e[e.CaptchaRequired=10]="CaptchaRequired"}(r||(r={}));var s={me:function(){return u.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return u.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a}).then((function(e){return e.data}))},logout:function(){return u.delete("auth/login").then((function(e){return e.data}))}},l={getCaptcha:function(){return u.get("security/get-captcha-url").then((function(e){return e.data}))}}},100:function(e,t,n){e.exports={header:"Header_header__3AoGm",userBox:"Header_userBox__QXeqq"}},107:function(e,t,n){e.exports=n.p+"static/media/user.5e1a27cf.jpeg"},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(33),r=n(4),c={addMessageActionCreator:function(e){return{type:"ADD_MESSAGE",messageBody:e}}},u={DialogItemData:[{id:1,name:"User 1"},{id:2,name:"User 2"},{id:3,name:"User 3"},{id:4,name:"User 4"},{id:5,name:"User 5"},{id:6,name:"User 6"}],DialogMessageData:[{id:1,text:"First message"},{id:2,text:"This part of social network is just simulation"},{id:3,text:"This is static message"}]};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return Object(r.a)(Object(r.a)({},e),{},{DialogMessageData:[].concat(Object(a.a)(e.DialogMessageData),[{id:e.DialogMessageData.length+1,text:t.messageBody}])});default:return e}}},151:function(e,t,n){e.exports=n.p+"static/media/preloader.4c140210.gif"},152:function(e,t,n){e.exports={preloaderImg:"Preloader_preloaderImg__KVjXn"}},153:function(e,t){e.exports="data:image/png;base64,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"},179:function(e,t,n){e.exports=n(302)},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return d}));var a=n(4),r=n(6),c=n.n(r),u=n(13),o=n(10),i=n(37),s=n(44),l={setUserData:function(e,t,n,a){return{type:"SET_USER_DATA",payload:{userId:e,login:t,email:n,isAuth:a}}},getCaptchaUrlSuccess:function(e){return{type:"GET_CAPTCHA_URL",payload:{captchaUrl:e}}},setUserFoto:function(e){return{type:"GET_USER_IMAGE",userImage:e}}},f=function(){return function(){var e=Object(u.a)(c.a.mark((function e(t){var n,a,r,u,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.me();case 2:if((n=e.sent).resultCode!==o.c.Success){e.next=8;break}a=n.data,r=a.id,u=a.login,i=a.email,t(l.setUserData(r,u,i,!0)),e.next=9;break;case 8:return e.abrupt("return",n.resultCode);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e,t,n,a){return function(){var r=Object(u.a)(c.a.mark((function r(u){var l,f;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.a.login(e,t,n,a);case 2:(l=r.sent).resultCode===o.c.Success?u(Object(s.b)()):(l.resultCode===o.d.CaptchaRequired&&u(m()),f=l.messages,u(Object(i.a)("login",{_error:f})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},d=function(){return function(){var e=Object(u.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.logout();case 2:(n=e.sent).resultCode===o.c.Success?t(l.setUserData(null,null,null,!1)):console.log(n.messages);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(){return function(){var e=Object(u.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.e.getCaptcha();case 2:n=e.sent,a=n.url,t(l.getCaptchaUrlSuccess(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null,userImage:null};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":case"GET_CAPTCHA_URL":return Object(a.a)(Object(a.a)({},e),t.payload);case"GET_USER_IMAGE":return Object(a.a)(Object(a.a)({},e),{},{userImage:t.userImage});default:return e}}},27:function(e,t,n){e.exports={nav:"NavBar_nav__1MHgl",item:"NavBar_item__3TPM-",active:"NavBar_active__2gaxY"}},302:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(71),u=n.n(c),o=n(11),i=n(110),s=n(61),l=n(33),f=n(4),p={sidebarData:[{id:1,text:"Hay que terminar React.ts"}],newNoteText:""},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTE":return Object(f.a)(Object(f.a)({},e),{},{sidebarData:[].concat(Object(l.a)(e.sidebarData),[{id:e.sidebarData.length+1,text:e.newNoteText}]),newNoteText:""});case"CHANGE_NOTE_MESSAGE":return Object(f.a)(Object(f.a)({},e),{},{newNoteText:t.text});default:return e}},m=n(6),b=n.n(m),E=n(13),g=function(e,t,n,a){return e.map((function(e){return e[t]===n?Object(f.a)(Object(f.a)({},e),a):e}))},h=n(10),v=function(e){return{type:"FOLLOW",userId:e}},O=function(e){return{type:"UNFOLLOW",userId:e}},A=function(e){return{type:"SET_USERS",users:e}},j=function(e){return{type:"SET_CURRENT_PAGE",page:e}},S=function(e){return{type:"SET_FILTER",payload:e}},w=function(e){return{type:"SET_USERS_COUNT",count:e}},I=function(e){return{type:"SET_FETCHING",value:e}},x=function(e,t){return{type:"DISABLE_USERS",isDisable:e,usersId:t}},_=function(e,t,n){return function(){var a=Object(E.a)(b.a.mark((function a(r){var c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(I(!0)),a.next=3,h.f.getUsers(e,t,n.term,n.friend);case 3:null===(c=a.sent).error&&(r(A(c.items)),r(w(c.totalCount)),r(j(e)),r(S(n)),r(I(!1)));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},y=function(){var e=Object(E.a)(b.a.mark((function e(t,n,a,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(x(!0,n)),e.next=3,a(n);case 3:e.sent.resultCode===h.c.Success&&(t(x(!1,n)),t(r(n)));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),P={users:[],usersCount:0,pageSize:5,currentPage:1,isFetching:!0,disableUsers:[],filter:{term:"",friend:null}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(f.a)(Object(f.a)({},e),{},{users:g(e.users,["id"],t.userId,{followed:!0})});case"UNFOLLOW":return Object(f.a)(Object(f.a)({},e),{},{users:g(e.users,["id"],t.userId,{followed:!1})});case"SET_USERS":return Object(f.a)(Object(f.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(f.a)(Object(f.a)({},e),{},{currentPage:t.page});case"SET_USERS_COUNT":return Object(f.a)(Object(f.a)({},e),{},{usersCount:t.count});case"SET_FETCHING":return Object(f.a)(Object(f.a)({},e),{},{isFetching:t.value});case"DISABLE_USERS":return Object(f.a)(Object(f.a)({},e),{},{disableUsers:t.isDisable?[].concat(Object(l.a)(e.disableUsers),[t.usersId]):e.disableUsers.filter((function(e){return e!==t.usersId}))});case"SET_FILTER":return Object(f.a)(Object(f.a)({},e),{},{filter:t.payload});default:return e}},U=n(21),C=n(143),N=n(141),T=n(44),k=n(144),R=Object(o.combineReducers)({dialogPage:i.b,profilePage:s.a,sidebarPage:d,usersPage:D,auth:U.b,form:N.a,app:T.a}),G=Object(o.createStore)(R,Object(k.composeWithDevTools)(Object(o.applyMiddleware)(C.a))),M=n(42),F=n(103),B=n(104),L=n(106),H=n(105),V=n(36),z=n.n(V),J=n(27),q=n.n(J),Q=n(20),X=function(e){return r.a.createElement("div",{className:q.a.nav},r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(Q.b,{to:"/profile",className:q.a.item,activeClassName:q.a.active},"Profile")),r.a.createElement("li",null,r.a.createElement(Q.b,{to:"/dialog",className:q.a.item,activeClassName:q.a.active},"Messages")),r.a.createElement("li",null,r.a.createElement(Q.b,{to:"/users",className:q.a.item,activeClassName:q.a.active},"Users")),r.a.createElement("li",null,r.a.createElement(Q.b,{to:"/setting",className:q.a.item,activeClassName:q.a.active},"Settings")))))},W=n(35),Z=n(9),K=n(108),Y=n(48),$=n.n(Y),ee=n(72),te=n.n(ee),ne=function(e){for(var t=Math.ceil(e.itemCount/e.pageSize),n=[],c=1;c<=t;c++)n.push(c);var u=Math.ceil(t/10),o=Object(a.useState)(1),i=Object(K.a)(o,2),s=i[0],l=i[1],f=10*(s-1)+1,p=10*s;return r.a.createElement("div",{className:$.a.paginatorBox},r.a.createElement("button",{className:$.a.btn,disabled:s<=1,onClick:function(){l(s-1)}},"Prev"),n.filter((function(e){return e>=f&&e<=p})).map((function(t){return r.a.createElement("span",{key:t,className:te()($.a.paginationItem,Object(M.a)({},$.a.selectedPage,e.currentPage===t)),onClick:function(n){e.onPaginationClick(t)}},t)})),r.a.createElement("button",{className:$.a.btn,onClick:function(){l(s+1)},disabled:s>=u},"Next"))},ae=n(99),re=n.n(ae),ce=n(107),ue=n.n(ce),oe=function(e){return r.a.createElement("div",{className:re.a.userBox},r.a.createElement("div",null,r.a.createElement(Q.b,{to:"/profile/"+e.userData.id},r.a.createElement("img",{src:null!=e.userData.photos.small?e.userData.photos.small:ue.a,alt:"",className:re.a.avatar})),e.userData.followed?r.a.createElement("button",{disabled:e.disableUsers.some((function(t){return t===e.userData.id})),onClick:function(){e.unfollowThunk(e.userData.id)}},"Unfollow"):r.a.createElement("button",{disabled:e.disableUsers.some((function(t){return t===e.userData.id}))&&e.isAuth,onClick:function(){e.followThunk(e.userData.id)}},"Follow")),r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("b",null,"User name:")," ",e.userData.name),r.a.createElement("span",null,r.a.createElement("b",null,"Satus:")," ",e.userData.status||"-----")))},ie=n(60),se=r.a.memo((function(e){return r.a.createElement("div",null,r.a.createElement(ie.c,{initialValues:{term:"",friend:"null"},onSubmit:function(t,n){var a=n.setSubmitting,r={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterApply(r),a(!1)}},(function(e){var t=e.isSubmitting;return r.a.createElement(ie.b,null,r.a.createElement(ie.a,{type:"text",name:"term"}),r.a.createElement(ie.a,{name:"friend",as:"select"},r.a.createElement("option",{value:"null"},"All"),r.a.createElement("option",{value:"true"},"Only followed"),r.a.createElement("option",{value:"false"},"Onlu Unfolowed")),r.a.createElement("button",{type:"submit",disabled:t},"Find"))})))})),le=n(150),fe=Object(le.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),pe=function(e){return e.usersPage.usersCount},de=function(e){return e.usersPage.pageSize},me=function(e){return e.usersPage.currentPage},be=function(e){return e.usersPage.isFetching},Ee=function(e){return e.usersPage.disableUsers},ge=function(e){return e.auth.isAuth},he=function(e){return e.usersPage.filter},ve=function(){var e=Object(Z.d)(fe),t=Object(Z.d)(pe),n=Object(Z.d)(de),c=Object(Z.d)(me),u=Object(Z.d)(ge),o=Object(Z.d)(Ee),i=Object(Z.d)(he),s=Object(Z.c)();Object(a.useEffect)((function(){s(_(c,n,i))}),[]);var l=function(e){s(function(e){return function(){var t=Object(E.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(n,e,h.f.follow,v);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},f=function(e){s(function(e){return function(){var t=Object(E.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(n,e,h.f.unfollow,O);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return r.a.createElement("div",null,r.a.createElement(se,{onFilterApply:function(e){s(_(1,n,e))}}),r.a.createElement(ne,{itemCount:t,pageSize:n,currentPage:c,onPaginationClick:function(e){s(_(e,n,i))}}),e.map((function(e){return r.a.createElement(oe,{disableUsers:o,isAuth:u,unfollowThunk:f,followThunk:l,key:e.id,userData:e})})))},Oe=n(73),Ae=function(){var e=Object(Z.d)(be);return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(Oe.a,null):null,r.a.createElement(ve,null))},je=n(100),Se=n.n(je),we=n(153),Ie=n.n(we),xe=function(){var e=Object(Z.d)(ge),t=Object(Z.d)((function(e){return e.auth.login})),n=Object(Z.d)((function(e){return e.auth.userImage})),a=Object(Z.c)();return r.a.createElement("div",{className:Se.a.header},r.a.createElement("header",null,e&&n?r.a.createElement("div",{className:Se.a.userBox},r.a.createElement("img",{src:n,alt:""}),r.a.createElement("span",null,t)):r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("img",{src:Ie.a,alt:""})),r.a.createElement("div",null,e?r.a.createElement("button",{onClick:function(){a(Object(U.d)())}},"LogOut"):r.a.createElement("div",null,r.a.createElement(Q.b,{to:"/login"},"Login")))))},_e=function(){return r.a.createElement(xe,null)},ye=function(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(e,t))}},Pe=n(139),De=n(140),Ue=n(53),Ce=n(74),Ne=n(34),Te=n.n(Ne),ke=Object(De.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{onSubmit:e.handleSubmit},r.a.createElement(Pe.a,{placeholder:"Email",name:"email",component:Ue.a,validate:[Ce.b]})),r.a.createElement("div",null,r.a.createElement(Pe.a,{placeholder:"Password",suggested:"current-password",name:"password",component:Ue.a,type:"password",validate:[Ce.b]})),r.a.createElement("div",null,r.a.createElement(Pe.a,{type:"checkbox",name:"rememberMe",component:Ue.a})," Remember me"),e.error&&r.a.createElement("div",{className:Te.a.commonError}," ",e.error," "),e.captchaUrl&&r.a.createElement("img",{src:e.captchaUrl,className:Te.a.captchaImg,alt:"captch"}),e.captchaUrl&&r.a.createElement("div",null,r.a.createElement(Pe.a,{placeholder:"Input symbols of image",name:"captcha",component:Ue.a,validate:[Ce.b]})),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))})),Re=function(){var e=Object(Z.d)(ge),t=Object(Z.d)((function(e){return e.auth.captchaUrl})),n=Object(Z.c)();return e?r.a.createElement(W.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(ke,{onSubmit:function(e){n(Object(U.c)(e.email,e.password,e.rememberMe,e.captcha))},captchaUrl:t}))},Ge=r.a.lazy((function(){return n.e(3).then(n.bind(null,317))})),Me=r.a.lazy((function(){return n.e(4).then(n.bind(null,318))})),Fe=function(e){Object(L.a)(n,e);var t=Object(H.a)(n);function n(){var e;Object(F.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isOpenMenu:!1},e}return Object(B.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){var e=this;return this.props.appInitialized?r.a.createElement("div",{className:z.a.container},r.a.createElement("button",{className:z.a.menu,onClick:function(){return e.setState({isOpenMenu:!e.state.isOpenMenu})}},"\u2630"),r.a.createElement("div",{className:z.a.header}),r.a.createElement(Q.a,null," ",r.a.createElement("div",{className:z.a.app_wrapper},r.a.createElement(_e,null),r.a.createElement("div",{className:te()(z.a.navBar,Object(M.a)({},z.a.mobileNavBar,this.state.isOpenMenu))},r.a.createElement(X,null)),r.a.createElement("div",{className:z.a.content},r.a.createElement(W.d,null,r.a.createElement(W.b,{exact:!0,path:"/",render:function(){return r.a.createElement(W.a,{to:"/profile"})}}),r.a.createElement(W.b,{path:"/profile/:userId?",render:ye(Ge)}),r.a.createElement(W.b,{path:"/dialog",render:ye(Me)}),r.a.createElement(W.b,{path:"/users",render:function(){return r.a.createElement(Ae,null)}}),r.a.createElement(W.b,{path:"/login",render:function(){return r.a.createElement(Re,null)}}),r.a.createElement(W.b,{path:"*",render:function(){return r.a.createElement("div",null,"404 Page not Found")}})))))):r.a.createElement(Oe.a,null)}}]),n}(r.a.Component),Be=Object(Z.b)((function(e){return{appInitialized:e.app.initialazed}}),{initializeApp:T.b})(Fe),Le=function(e){return r.a.createElement(Z.a,{store:G},r.a.createElement(Be,null))},He=function(e){u.a.render(r.a.createElement(Le,null),document.getElementById("root"))};He(G.getState()),G.subscribe((function(){G.getState();He()}))},34:function(e,t,n){e.exports={error:"ReduxForm_error__233NZ",commonError:"ReduxForm_commonError__cBGbG",errorText:"ReduxForm_errorText__1DGgE",captchaImg:"ReduxForm_captchaImg__2FHiG"}},36:function(e,t,n){e.exports={container:"App_container__3z5rM",menu:"App_menu__1RU7z",header:"App_header__2qVPg",app_wrapper:"App_app_wrapper__1LIpW",content:"App_content__19Ox-",navBar:"App_navBar__19uDn",mobileNavBar:"App_mobileNavBar__3a9zf"}},44:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var a=n(4),r=n(6),c=n.n(r),u=n(13),o=n(21),i=n(61),s=function(){return{type:"SUCCESS_INITIALIZING"}},l=function(){return function(){var e=Object(u.a)(c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(o.e)());case 2:if(1===e.sent){e.next=9;break}return a=n().auth.userId,e.next=7,t(Object(i.b)(a));case 7:r=e.sent,t(o.a.setUserFoto(r.photos.small));case 9:t(s());case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},f={initialazed:!1};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESS_INITIALIZING":return Object(a.a)(Object(a.a)({},e),{},{initialazed:!0});default:return e}}},48:function(e,t,n){e.exports={paginatorBox:"Paginator_paginatorBox__1XIWO",selectedPage:"Paginator_selectedPage__aL2Pb",paginationItem:"Paginator_paginationItem__1uHLo",btn:"Paginator_btn__1ItAy",captchaImg:"Paginator_captchaImg__28son"}},53:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(96),r=n(0),c=n.n(r),u=n(34),o=n.n(u),i=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]),u=n.error&&n.touched;return c.a.createElement("div",null,c.a.createElement("textarea",Object.assign({className:u?o.a.error:""},t,r)),u&&c.a.createElement("span",{className:o.a.errorText},n.error))},s=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]),u=n.error&&n.touched;return c.a.createElement("div",null,c.a.createElement("input",Object.assign({className:u?o.a.error:""},t,r)),u&&c.a.createElement("span",{className:o.a.errorText},n.error))}},61:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return E}));var a=n(33),r=n(4),c=n(6),u=n.n(c),o=n(13),i=n(21),s=n(10),l=n(37),f={addPostActionCreator:function(e){return{type:"ADD_POST",postBody:e}},setPofileInfo:function(e){return{type:"SET_PROFILE_INFO",profile:e}},setUserStatus:function(e){return{type:"SET_STATUS",status:e}},deletePost:function(e){return{type:"DELETE_POST",postId:e}},savePhotoSuccess:function(e){return{type:"SAVE_PHOTO",photoFile:e}},setUserFoto:function(e){return i.a.setUserFoto(e)}},p=function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.getProfile(e);case 2:return a=t.sent,n(f.setPofileInfo(a)),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.getUserStatus(e);case 2:a=t.sent,n(f.setUserStatus(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.updateUserStatus(e);case 2:t.sent.resultCode===s.c.Success&&n(f.setUserStatus(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.savePhoto(e);case 2:(a=t.sent).resultCode===s.c.Success&&(n(f.savePhotoSuccess(a.data.photos)),n(i.a.setUserFoto(a.data.photos.small)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n,a){var r,c,o,i,f,d,m;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.userId,t.next=3,s.b.saveProfileInfo(e);case 3:if((c=t.sent).resultCode!==s.c.Success){t.next=8;break}p(r),t.next=12;break;case 8:return o=c.messages[0],9===(i=o.indexOf("Contacts->")+10)?n(Object(l.a)("profileData",{_error:o})):(f=o.substr(i,o.length-i-1).toLowerCase(),(d={})[f]=o,m={contacts:d},n(Object(l.a)("profileData",m))),t.abrupt("return",Promise.reject(o));case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},g={PostData:[{id:1,text:"Super puper ninja 1",like:4},{id:2,text:"OMG I'm in Internet",like:2},{id:3,text:"Join to my way of samurai",like:13}],profileInfo:null,status:""};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var n={id:e.PostData.length+1,text:t.postBody,like:0};return Object(r.a)(Object(r.a)({},e),{},{PostData:[].concat(Object(a.a)(e.PostData),[n])});case"DELETE_POST":return Object(r.a)(Object(r.a)({},e),{},{PostData:e.PostData.filter((function(e){return e.id!==t.postId}))});case"SET_PROFILE_INFO":return Object(r.a)(Object(r.a)({},e),{},{profileInfo:Object(r.a)({},t.profile)});case"SET_STATUS":return Object(r.a)(Object(r.a)({},e),{},{status:t.status});case"SAVE_PHOTO":return Object(r.a)(Object(r.a)({},e),{},{profileInfo:Object(r.a)(Object(r.a)({},e.profileInfo),{},{photos:t.photoFile})});default:return e}}},73:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(151),u=n.n(c),o=n(152),i=n.n(o);t.a=function(e){return r.a.createElement("div",null,r.a.createElement("img",{src:u.a,className:i.a.preloaderImg,alt:""}))}},74:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}}},99:function(e,t,n){e.exports={userBox:"Users_userBox__3CZSm",avatar:"Users_avatar__sR2i7"}}},[[179,1,2]]]);
//# sourceMappingURL=main.74e12046.chunk.js.map