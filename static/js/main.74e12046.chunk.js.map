{"version":3,"sources":["dal/dal.ts","component/Header/Header.module.scss","assets/img/user.jpeg","redux/dialogReducer.ts","assets/img/preloader.gif","component/common/Preloader/Preloader.module.scss","assets/img/cub.png","redux/authMeReducer.ts","component/NavBar/NavBar.module.scss","redux/sidebarReducer.ts","utilities/objectHelpers/objectHelper.ts","redux/usersReducer.ts","redux/redux-store.ts","component/NavBar/NavBar.tsx","utilities/Paginator/Paginator.tsx","component/Users/User/User.tsx","component/UserSearchForm/UserSearchForm.tsx","redux/usersSelectors.ts","component/Users/Users.tsx","component/Users/UsersPage.tsx","component/Header/Header.tsx","component/Header/HeaderPage.tsx","hoc/withSuspense.tsx","component/Login/Login.tsx","App.tsx","index.tsx","utilities/ReduxForm/ReduxForm.module.scss","App.module.scss","redux/appReducer.ts","utilities/Paginator/Paginator.module.scss","utilities/ReduxForm/Form.tsx","redux/profileReducer.ts","component/common/Preloader/Preloader.tsx","utilities/validator/validator.ts","component/Users/Users.module.scss"],"names":["resultCodeEnum","resultCodeForCaptcha","instance","Axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","term","friend","get","then","response","data","unfollow","userId","delete","follow","post","getProfile","console","warn","profileAPI","getUserStatus","updateUserStatus","status","put","savePhoto","photo","formData","FormData","append","res","saveProfileInfo","profile","authApi","me","result","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptcha","module","exports","DialogActions","addMessageActionCreator","messageBody","type","initialState","DialogItemData","id","name","DialogMessageData","text","dialogReducer","state","action","length","authMeActions","setUserData","isAuth","payload","getCaptchaUrlSuccess","captchaUrl","setUserFoto","userImage","meThunk","dispatch","a","responsData","resultCode","Success","initializeApp","CaptchaRequired","getCaptchaUrl","errorMessage","messages","stopSubmit","_error","log","url","authMeReducer","sidebarData","newNoteText","sidebarReducer","unfollowFollowChanging","items","itemId","actionId","newObject","map","u","userActions","users","page","filter","count","value","isDisable","usersId","getUsersThunk","error","totalCount","followUnfollowFlow","userAPI","actionCreator","usersCount","isFetching","disableUsers","usersReducer","followed","reducers","combineReducers","dialogPage","profilePage","profileReducer","sidebarPage","usersPage","auth","form","formReducer","app","appReducer","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","NavBar","props","className","s","nav","to","item","activeClassName","active","Paginator","pageCount","Math","ceil","itemCount","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","paginatorBox","btn","disabled","onClick","p","key","cn","paginationItem","selectedPage","e","onPaginationClick","User","userBox","userData","src","photos","small","userIcon","alt","avatar","some","unfollowThunk","followThunk","UserSearchForm","React","memo","initialValues","onSubmit","values","setSubmitting","onFilterApply","isSubmitting","as","getUsersSelector","createSelector","getUserCount","getPageSize","getCurrentPage","getIsFetching","getDisableUsers","getFilter","Users","useSelector","isAuthValue","useDispatch","useEffect","PageNumber","UsersPage","Preloader","Header","profileImage","header","logo","logoutThunk","HeaderPage","withSuspense","Component","Suspense","fallback","LoginReduxForm","reduxForm","handleSubmit","Field","placeholder","component","Input","validate","required","suggested","commonError","captchaImg","Login","ProfileContainer","lazy","DialogContainer","App","isOpenMenu","this","appInitialized","container","menu","setState","app_wrapper","navBar","mobileNavBar","content","exact","path","render","AppContainer","connect","initialazed","SocialApp","rerenderEntireTree","ReactDOM","document","getElementById","getState","subscribe","appActions","getProfileThunk","Textarea","input","meta","hasError","touched","errorText","profileActions","addPostActionCreator","postBody","setPofileInfo","setUserStatus","deletePost","postId","savePhotoSuccess","photoFile","getUserStatusThunk","updateUserStatusThunk","responseData","field","indexOf","socialNetworkName","substr","toLowerCase","objError","object","Promise","reject","PostData","like","profileInfo","newPost","preloader","preloaderImg","maxLength"],"mappings":"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","file":"static/js/main.74e12046.chunk.js","sourcesContent":["import { usersType, profileInfoType, photosType } from './../types/types';\r\nimport Axios from 'axios';\r\nimport { FilterType } from '../redux/usersReducer';\r\n\r\n\r\nlet instance = Axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"fdd75b8c-6436-43ef-9820-ed9356461c34\"\r\n    },\r\n})\r\n\r\nexport type getUsersType = {\r\n    items: Array<usersType>,\r\n    totalCount: number,\r\n    error: string | null\r\n}\r\n\r\nexport type unfollowFollowTypes = {\r\n    data?: {},\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number, term: string = '', friend: null | boolean) {\r\n        return instance.get<getUsersType>(`users?page=${currentPage}&count=${pageSize}&term=${term}` + (friend === null ? '' : `&friend=${friend}`))\r\n        .then( response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete<unfollowFollowTypes>(`follow/${userId}`).then( response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post<unfollowFollowTypes>(`follow/${userId}`).then((response) => {\r\n            return response.data;\r\n        })\r\n    },\r\n    getProfile(userId: number | null) {\r\n        console.warn(\"Obsolete method. Please use profileAPI.\")\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\n\r\nexport type updateUserStatusType = {\r\n    data?: {},\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\nexport type savePhotoType = {\r\n    data: {\r\n        photos: photosType\r\n    },\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\nexport type saveProfileInfoType = {\r\n    data?: {},\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number | null) {\r\n        return instance.get<profileInfoType>(`profile/${userId}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    getUserStatus(userId: number) {\r\n        return instance.get<string>(`profile/status/${userId}`).then(response => {return response.data})\r\n    },\r\n    updateUserStatus(status: string) {\r\n        return instance.put<updateUserStatusType>(`profile/status`, {status: status}).then(response => response.data)\r\n    },\r\n    savePhoto(photo: File) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photo)\r\n        return instance.put<savePhotoType>(`profile/photo`, formData, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(res => res.data)\r\n    },\r\n    saveProfileInfo(profile: profileInfoType) {\r\n        return instance.put<saveProfileInfoType>(`profile`, profile).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport enum resultCodeEnum {\r\n    Success = 0,\r\n    Error = 1\r\n}\r\n\r\nexport enum resultCodeForCaptcha {\r\n    CaptchaRequired = 10\r\n}\r\n\r\nexport type meType = {\r\n    data: {\r\n        id: number,\r\n        email: string,\r\n        login: string\r\n    },\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\nexport type loginType = {\r\n    data: {\r\n        userId?: number\r\n    },\r\n    resultCode: resultCodeEnum | resultCodeForCaptcha,\r\n    messages: Array<string>\r\n}\r\n\r\nexport const authApi = {\r\n    me() {\r\n        return instance.get<meType>(`auth/me`).then(result => result.data);\r\n    },\r\n    login(email: string, password: string, rememberMe = false, captcha: string | null = null) {\r\n        return instance.post<loginType>(`auth/login`, {email, password, rememberMe, captcha}).then( response => response.data)\r\n    },\r\n    logout() {\r\n        return instance.delete<loginType>(`auth/login`).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport type getCaptchaType = {\r\n    url: string\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get<getCaptchaType>(`security/get-captcha-url`).then(response => response.data)\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3AoGm\",\"userBox\":\"Header_userBox__QXeqq\"};","module.exports = __webpack_public_path__ + \"static/media/user.5e1a27cf.jpeg\";","import { InferActionsTypes } from './redux-store';\r\nimport { DialogItemDataType, DialogMessageDataType } from './../types/types';\r\n\r\ntype ActionsType = InferActionsTypes<typeof DialogActions>\r\n\r\nexport const DialogActions = {\r\n    addMessageActionCreator: (messageBody: string) => ({ type: 'ADD_MESSAGE', messageBody } as const)\r\n}\r\n\r\n\r\nexport type dialogStateType = typeof initialState;\r\n\r\nlet initialState = {\r\n    DialogItemData: [\r\n        { id: 1, name: \"User 1\" },\r\n        { id: 2, name: \"User 2\" },\r\n        { id: 3, name: \"User 3\" },\r\n        { id: 4, name: \"User 4\" },\r\n        { id: 5, name: \"User 5\" },\r\n        { id: 6, name: \"User 6\" }\r\n    ] as Array<DialogItemDataType>,\r\n    DialogMessageData: [\r\n        { id: 1, text: \"First message\" },\r\n        { id: 2, text: \"This part of social network is just simulation\" },\r\n        { id: 3, text: \"This is static message\" }\r\n    ] as Array<DialogMessageDataType>\r\n}\r\n\r\nlet dialogReducer = (state = initialState, action: ActionsType): dialogStateType => {\r\n    switch (action.type) {\r\n        case 'ADD_MESSAGE':\r\n            return {\r\n                ...state,\r\n                DialogMessageData: [...state.DialogMessageData, {\r\n                    id: state.DialogMessageData.length + 1,\r\n                    text: action.messageBody }],\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default dialogReducer;","module.exports = __webpack_public_path__ + \"static/media/preloader.4c140210.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderImg\":\"Preloader_preloaderImg__KVjXn\"};","module.exports = \"data:image/png;base64,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\"","import { InferActionsTypes, stateType } from './redux-store';\r\nimport { authApi, securityAPI, resultCodeEnum, resultCodeForCaptcha } from './../dal/dal';\r\nimport { stopSubmit } from 'redux-form';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport { initializeApp } from './appReducer';\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof authMeActions>;\r\n\r\nexport const authMeActions = {\r\n    setUserData: (userId: number | null, login: string  | null, email: string  | null, isAuth: boolean) =>\r\n    ({type: 'SET_USER_DATA', payload: {userId, login, email, isAuth} } as const),\r\n    getCaptchaUrlSuccess: (captchaUrl: string) =>\r\n    ({type: 'GET_CAPTCHA_URL', payload: {captchaUrl} } as const),\r\n    setUserFoto: (userImage: string) => ({type: 'GET_USER_IMAGE', userImage} as const)\r\n}\r\n\r\n\r\ntype DispatchType = ThunkAction<Promise<void | resultCodeEnum | null>, stateType, unknown, ActionsTypes>\r\n\r\nexport const meThunk = (): DispatchType => async (dispatch) => {\r\n    const responsData = await authApi.me();\r\n    if(responsData.resultCode === resultCodeEnum.Success) {\r\n        let {id, login, email} = responsData.data;\r\n        dispatch(authMeActions.setUserData(id, login, email, true));\r\n    } else {\r\n        return responsData.resultCode;\r\n    }\r\n}\r\n\r\nexport const login = \r\n(email: string, password: string, rememberMe: boolean, captcha: string): DispatchType => \r\nasync (dispatch) => {\r\n    const data = await authApi.login(email, password, rememberMe, captcha);\r\n    if(data.resultCode === resultCodeEnum.Success) {\r\n        // dispatch(meThunk());\r\n        dispatch(initializeApp());\r\n    } else {\r\n        if(data.resultCode === resultCodeForCaptcha.CaptchaRequired) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        let errorMessage = data.messages\r\n        //@ts-ignore\r\n        dispatch(stopSubmit('login', {_error: errorMessage}));\r\n    }\r\n}\r\n\r\nexport const logout = (): DispatchType => async (dispatch: any) => {\r\n    const data = await authApi.logout();\r\n    if(data.resultCode === resultCodeEnum.Success) {\r\n        dispatch(authMeActions.setUserData(null, null, null, false));\r\n    } else {\r\n        console.log(data.messages);\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = (): DispatchType => async (dispatch: any) => {\r\n    const data = await securityAPI.getCaptcha();\r\n    const url = data.url;\r\n    dispatch(authMeActions.getCaptchaUrlSuccess(url))\r\n}\r\n\r\nexport type authStateType = typeof initialState;\r\n\r\nlet initialState = {\r\n    userId: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false as boolean,\r\n    captchaUrl: null as string | null,\r\n    userImage: null as string | null\r\n}\r\n\r\nlet authMeReducer = (state = initialState , action: ActionsTypes): authStateType => {\r\n    switch (action.type) {\r\n        case 'SET_USER_DATA':\r\n        case 'GET_CAPTCHA_URL':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case 'GET_USER_IMAGE':\r\n            return {...state, userImage: action.userImage}\r\n        default:\r\n           return state\r\n    }\r\n}\r\n\r\nexport default authMeReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__1MHgl\",\"item\":\"NavBar_item__3TPM-\",\"active\":\"NavBar_active__2gaxY\"};","import { InferActionsTypes } from \"./redux-store\";\r\n\r\ntype ActionsType = InferActionsTypes<typeof sidebarActions>\r\n\r\n\r\nexport const sidebarActions = {\r\n    addNoteActionCreator: () => ({type: 'ADD_NOTE' } as const),\r\n    newNoteTextActionCreator: (text: string) => ({type: 'CHANGE_NOTE_MESSAGE', text: text} as const)\r\n}\r\n\r\ntype sidebarDataType = {\r\n    id: number,\r\n    text: string\r\n}\r\n\r\nlet initialState = {\r\n    sidebarData: [\r\n        { id: 1, text: \"Hay que terminar React.ts\" }\r\n    ] as Array<sidebarDataType>,\r\n    newNoteText: \"\"\r\n}\r\n\r\nexport type sidebarStateType = typeof initialState;\r\n\r\nlet sidebarReducer = (state = initialState, action: ActionsType): sidebarStateType => {\r\n    switch (action.type) {\r\n        case 'ADD_NOTE':\r\n            return {...state,\r\n            sidebarData: [...state.sidebarData, {\r\n                id: state.sidebarData.length + 1,\r\n                text: state.newNoteText\r\n            }],\r\n            newNoteText: \"\"\r\n        }\r\n        case 'CHANGE_NOTE_MESSAGE':\r\n            return {...state,\r\n                newNoteText: action.text\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default sidebarReducer;","import { usersType } from './../../types/types';\r\nexport const unfollowFollowChanging = (items: Array<usersType>, itemId: any, actionId: number, newObject: {}) => {\r\n    return items.map((u: any) => {\r\n        if (u[itemId] === actionId) {\r\n            return { ...u, ...newObject };\r\n        }\r\n        return u;\r\n    })\r\n}","import { unfollowFollowChanging } from './../utilities/objectHelpers/objectHelper';\r\nimport { usersAPI, unfollowFollowTypes, resultCodeEnum } from \"../dal/dal\";\r\nimport { usersType } from '../types/types';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport { Dispatch } from 'redux';\r\nimport { InferActionsTypes } from './redux-store';\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof userActions>\r\n\r\nexport const userActions = {\r\n    follow: (userId: number) => ({ type: 'FOLLOW', userId } as const),\r\n    unfollow: (userId: number) => ({ type: 'UNFOLLOW', userId } as const),\r\n    setUsers: (users: Array<usersType>) => ({ type: 'SET_USERS', users } as const),\r\n    setCurrentPage: (page: number) => ({ type: 'SET_CURRENT_PAGE', page } as const),\r\n    setFilter: (filter: FilterType) => ({ type: 'SET_FILTER', payload: filter } as const),\r\n    setUsersCount: (count: number) => ({ type: 'SET_USERS_COUNT', count } as const),\r\n    setFetching: (value: boolean) => ({ type: 'SET_FETCHING', value } as const),\r\n    setDisableUsers: (isDisable: boolean, usersId: number) => ({ type: 'DISABLE_USERS', isDisable, usersId } as const)\r\n}\r\n\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, userStateType, unknown, ActionsTypes>\r\ntype DispatchType = Dispatch<ActionsTypes>\r\n\r\nexport const getUsersThunk =\r\n(currentPage: number, pageSize: number, filter: FilterType): ThunkType => async (dispatch) => {\r\n    dispatch(userActions.setFetching(true)) // Enable Preloader component\r\n    const data = await usersAPI.getUsers(currentPage, pageSize, filter.term, filter.friend);\r\n    if (data.error === null) {\r\n        dispatch(userActions.setUsers(data.items))\r\n        dispatch(userActions.setUsersCount(data.totalCount))\r\n        dispatch(userActions.setCurrentPage(currentPage))\r\n        dispatch(userActions.setFilter(filter))\r\n        dispatch(userActions.setFetching(false)) // Disable Preloader component\r\n    } \r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: DispatchType, \r\n                                userId: number, \r\n                                userAPI: (userId: number) => Promise<unfollowFollowTypes>, \r\n                                actionCreator: (userId: number) => ActionsTypes) => {\r\n    dispatch(userActions.setDisableUsers(true, userId))\r\n    const data = await userAPI(userId)\r\n    if (data.resultCode === resultCodeEnum.Success) {\r\n        dispatch(userActions.setDisableUsers(false, userId))\r\n        dispatch(actionCreator(userId))\r\n    }\r\n} \r\n\r\nexport const unfollowThunk = (userId: number): ThunkType => async (dispatch) => {\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.unfollow, userActions.unfollow);\r\n}\r\nexport const followThunk = (userId: number): ThunkType => async (dispatch) => {\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.follow, userActions.follow);\r\n}\r\n\r\n\r\nlet initialState = {\r\n    users: [] as Array<usersType>,\r\n    usersCount: 0,\r\n    pageSize: 5,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    disableUsers: [] as Array<number>, // Aray of users id\r\n    filter: {\r\n        term: '',\r\n        friend: null as null | boolean\r\n    }\r\n}\r\n\r\nexport type userStateType = typeof initialState;\r\nexport type FilterType = typeof initialState.filter\r\n\r\n\r\nlet usersReducer = (state = initialState, action: ActionsTypes): userStateType => {\r\n    switch (action.type) {\r\n        case 'FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: unfollowFollowChanging(state.users, [\"id\"], action.userId, {followed: true})\r\n            }\r\n        case 'UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: unfollowFollowChanging(state.users, [\"id\"], action.userId, {followed: false})\r\n            }\r\n        case 'SET_USERS':\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case 'SET_CURRENT_PAGE':\r\n            return {\r\n                ...state,\r\n                currentPage: action.page\r\n            }\r\n        case 'SET_USERS_COUNT':\r\n            return {\r\n                ...state,\r\n                usersCount: action.count\r\n            }\r\n        case 'SET_FETCHING':\r\n            return {\r\n                ...state,\r\n                isFetching: action.value\r\n            }\r\n        case 'DISABLE_USERS':\r\n            return {\r\n                ...state,\r\n                disableUsers: action.isDisable ? [...state.disableUsers, action.usersId]\r\n                    : state.disableUsers.filter((id: number) => id !== action.usersId)\r\n            }\r\n        case 'SET_FILTER':\r\n            return {...state, filter: action.payload}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport dialogReducer from './dialogReducer';\r\nimport profileReducer from './profileReducer';\r\nimport sidebarReducer from './sidebarReducer';\r\nimport usersReducer from './usersReducer';\r\nimport authMeReducer from './authMeReducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from './appReducer';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nexport let reducers = combineReducers({    \r\n    dialogPage: dialogReducer,\r\n    profilePage: profileReducer,\r\n    sidebarPage: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authMeReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\ntype RootReducerType = typeof reducers;\r\nexport type stateType = ReturnType<RootReducerType>;\r\n\r\ntype PropertieesType<T> = T extends {[key: string]: infer U} ? U : never\r\n\r\nexport type InferActionsTypes<T extends {[key: string]: (...args: any[]) => any}> = ReturnType<PropertieesType<T>>\r\n\r\nlet store = createStore(reducers, composeWithDevTools(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\nexport default store;","import React, { FunctionComponent } from 'react';\r\nimport s from './NavBar.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\ninterface PropsInterface {\r\n}\r\n\r\n\r\nconst NavBar: React.FC<PropsInterface> = (props) => {\r\n    return (\r\n        <div className={s.nav}>\r\n            <nav>\r\n                <ul>\r\n                    <li>\r\n                        <NavLink to=\"/profile\" className={s.item} activeClassName={s.active} >Profile</NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/dialog\" className={s.item} activeClassName={s.active}>Messages</NavLink>\r\n                    </li>\r\n                    {/* <li>\r\n                        <NavLink to=\"/news\" className={s.item} activeClassName={s.active}>News</NavLink>\r\n                    </li> */}\r\n                    <li>\r\n                        <NavLink to=\"/users\" className={s.item} activeClassName={s.active}>Users</NavLink>\r\n                    </li>\r\n                    {/* <li>\r\n                        <NavLink to=\"/music\" className={s.item} activeClassName={s.active}>Music</NavLink>\r\n                    </li> */}\r\n                    <li>\r\n                        <NavLink to=\"/setting\" className={s.item} activeClassName={s.active}>Settings</NavLink>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavBar;","import React, { FunctionComponent, useState } from \"react\";\r\nimport s from \"./Paginator.module.scss\";\r\nimport cn from 'classnames';\r\n\r\ninterface PropsInterface {\r\n    itemCount: number,\r\n    pageSize: number,\r\n    currentPage: number,\r\n    onPaginationClick: (p: number) => void\r\n}\r\n\r\nlet Paginator: FunctionComponent<PropsInterface> = (props) => {\r\n\r\n    let pageCount = Math.ceil(props.itemCount / props.pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionSize = 10;\r\n    let portionCount = Math.ceil(pageCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionNumber = (portionNumber -1) * portionSize + 1;\r\n    let rightPortionNumber = portionNumber * portionSize;\r\n\r\n    return <div className={s.paginatorBox}>\r\n        <button className={s.btn} disabled={portionNumber <= 1}\r\n        onClick={() => {setPortionNumber(portionNumber - 1)}\r\n        }>Prev</button>\r\n        {pages.filter((p: any) => p >= leftPortionNumber && p <= rightPortionNumber).map((p: any) => {\r\n            return <span key={p} className={cn(s.paginationItem, {\r\n                    [s.selectedPage]: props.currentPage === p\r\n                })}\r\n                onClick={(e) => { \r\n                    props.onPaginationClick(p)\r\n                 }}>{p}</span>\r\n        })}\r\n        <button className={s.btn} onClick={() => {setPortionNumber(portionNumber + 1)}}\r\n        disabled={portionNumber >= portionCount}>Next</button>\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React, { FunctionComponent } from \"react\";\r\nimport s from \"../Users.module.scss\";\r\nimport userIcon from \"../../../assets/img/user.jpeg\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { usersType } from \"../../../types/types\";\r\n\r\ninterface PropsType {\r\n    userData: usersType,\r\n    disableUsers: Array<number>,\r\n    isAuth: boolean,\r\n    unfollowThunk: (userId: number) => void,\r\n    followThunk: (userId: number) => void\r\n}\r\n\r\nlet User: FunctionComponent<PropsType> = (props) => {\r\n\r\n    return <div className={s.userBox}>\r\n        <div>\r\n            <NavLink to={\"/profile/\" + props.userData.id}>\r\n                <img src={props.userData.photos.small != null ? props.userData.photos.small : userIcon} alt=\"\" className={s.avatar} />\r\n            </NavLink>\r\n            {props.userData.followed ?\r\n                <button disabled={props.disableUsers.some((id: number) => id === props.userData.id )} onClick={() => {\r\n                    props.unfollowThunk(props.userData.id);\r\n                }}>Unfollow</button> :\r\n                <button disabled={props.disableUsers.some((id: number) => id === props.userData.id) && props.isAuth} onClick={() => {\r\n                    props.followThunk(props.userData.id);\r\n                }}>Follow</button>}\r\n        </div>\r\n        <div>\r\n            <span><b>User name:</b> {props.userData.name}</span>\r\n            <span><b>Satus:</b> {props.userData.status || \"-----\" }</span>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default User;","import React from \"react\"\r\nimport { Formik, Form, Field } from 'formik';\r\nimport { FilterType } from \"../../redux/usersReducer\";\r\n\r\ntype PropsType = {\r\n    onFilterApply: (fitler: FilterType) => void\r\n}\r\n\r\ntype FormType = {\r\n    term: string,\r\n    friend: \"true\" | \"false\" | \"null\"\r\n}\r\n\r\nlet UserSearchForm: React.FC<PropsType> = React.memo((props) => {\r\n\r\n    let onSubmitForm = (values: FormType, {setSubmitting}: {setSubmitting: (value: boolean) => void}) => {\r\n        const filter: FilterType = {\r\n            term: values.term,\r\n            friend: values.friend === \"null\" ? null : values.friend === \"true\" ? true : false\r\n        }\r\n        props.onFilterApply(filter)\r\n        setSubmitting(false)\r\n    }\r\n\r\n    return <div>\r\n        <Formik\r\n       initialValues={{ term: '', friend: 'null'}}\r\n       onSubmit={onSubmitForm}\r\n     >\r\n       {({ isSubmitting }) => (\r\n         <Form>\r\n           <Field type=\"text\" name=\"term\" />\r\n           <Field name=\"friend\" as=\"select\">\r\n                <option value=\"null\">All</option>\r\n                <option value=\"true\">Only followed</option>\r\n                <option value=\"false\">Onlu Unfolowed</option>\r\n            </Field>\r\n           <button type=\"submit\" disabled={isSubmitting}>\r\n             Find\r\n           </button>\r\n         </Form>\r\n       )}\r\n     </Formik>\r\n    </div>\r\n})\r\n\r\nexport default UserSearchForm","import { createSelector } from 'reselect';\r\nimport { stateType } from './redux-store';\r\nimport { usersType } from '../types/types';\r\n\r\n// At this moment i dont need reselector, so i just tested how its work\r\n\r\nconst getUsers = (state: stateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersSelector = createSelector(getUsers, (users: Array<usersType>) => {\r\n    return users.filter((a: usersType) => true)\r\n})\r\n\r\nexport const getUserCount = (state: stateType) => {\r\n    return state.usersPage.usersCount\r\n}\r\nexport const getPageSize = (state: stateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getCurrentPage = (state: stateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: stateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getDisableUsers = (state: stateType) => {\r\n    return state.usersPage.disableUsers\r\n}\r\nexport const isAuth = (state: stateType) => {\r\n    return state.auth.isAuth\r\n}\r\nexport const getFilter = (state: stateType) => {\r\n    return state.usersPage.filter\r\n}","import React, { useEffect } from \"react\";\r\nimport Paginator from \"../../utilities/Paginator/Paginator\";\r\nimport User from \"./User/User\";\r\nimport { usersType } from \"../../types/types\";\r\nimport UserSearchForm from \"../UserSearchForm/UserSearchForm\";\r\nimport { FilterType, getUsersThunk, unfollowThunk, followThunk } from \"../../redux/usersReducer\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getUsersSelector, getUserCount, getPageSize, getCurrentPage, isAuth, getDisableUsers, getFilter } from \"../../redux/usersSelectors\";\r\n\r\nconst Users: React.FC = () => {\r\n\r\n    const users = useSelector(getUsersSelector)\r\n    const usersCount = useSelector(getUserCount)\r\n    const pageSize = useSelector(getPageSize)\r\n    const currentPage = useSelector(getCurrentPage)\r\n    const isAuthValue = useSelector(isAuth)\r\n    const disableUsers = useSelector(getDisableUsers)\r\n    const filter = useSelector(getFilter)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(getUsersThunk(currentPage, pageSize, filter))\r\n    }, [])\r\n\r\n    const onPaginationClick = (PageNumber: number) => {\r\n        dispatch(getUsersThunk(PageNumber, pageSize, filter));\r\n    }\r\n\r\n    const onFilterApply = (filter: FilterType) => {\r\n        dispatch(getUsersThunk(1, pageSize, filter))\r\n    }\r\n\r\n    const follow = (userId: number) => {\r\n        dispatch(followThunk(userId))\r\n    }\r\n    const unfollow = (userId: number) => {\r\n        dispatch(unfollowThunk(userId))\r\n    }\r\n\r\n    return <div>\r\n        <UserSearchForm onFilterApply={onFilterApply}/>\r\n        <Paginator itemCount={usersCount} \r\n                    pageSize={pageSize} \r\n                    currentPage={currentPage}\r\n                    onPaginationClick={onPaginationClick}\r\n                    />\r\n        {users.map((u: usersType) => <User disableUsers={disableUsers}\r\n                        isAuth={isAuthValue}\r\n                        unfollowThunk={unfollow}\r\n                        followThunk={follow}\r\n                        key={u.id}\r\n                        userData={u}\r\n            /> \r\n        )}\r\n    </div>\r\n}\r\n\r\nexport default Users;","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { getIsFetching } from \"../../redux/usersSelectors\";\r\n\r\nexport const UsersPage: React.FC = () => {\r\n\r\n    const isFetching = useSelector(getIsFetching)\r\n\r\n    return <>\r\n        {isFetching ? <Preloader /> : null}\r\n        <Users />\r\n    </>\r\n}\r\n","import React from 'react';\r\nimport s from './Header.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport logo from '../../assets/img/cub.png';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { isAuth } from '../../redux/usersSelectors';\r\nimport { stateType } from '../../redux/redux-store';\r\nimport { logout as logoutThunk } from './../../redux/authMeReducer';\r\n\r\n\r\nconst Header: React.FC = () => {\r\n\r\n    const isAuthValue = useSelector(isAuth)\r\n    const login = useSelector((state: stateType) => state.auth.login)\r\n    const profileImage = useSelector((state: stateType) => state.auth.userImage)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const logout = () => {\r\n        dispatch(logoutThunk())\r\n    }\r\n\r\n    return (\r\n        <div className={s.header}>\r\n             <header>\r\n                {isAuthValue && profileImage ?\r\n                <div className={s.userBox}>  \r\n                    <img src={profileImage} alt=\"\"/>\r\n                    <span>{login}</span>\r\n                </div> : <div></div> }\r\n                <div>\r\n                    <img src={logo} alt=\"\"/>\r\n                </div>\r\n                <div>\r\n                    {isAuthValue ? <button onClick={logout}>LogOut</button> \r\n                    : <div><NavLink to=\"/login\">Login</NavLink></div>}\r\n                </div>\r\n            </header>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\n\r\nexport const HeaderPage: React.FC = () => {\r\n    return <Header />\r\n}","import React from \"react\";\r\n\r\nexport const withSuspense = (Component: any) => {\r\n    return (props: any) => {\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    }\r\n}\r\n\r\n","import React, { FunctionComponent }from 'react';\r\nimport {Field, reduxForm, InjectedFormProps} from 'redux-form';\r\nimport { Input } from '../../utilities/ReduxForm/Form';\r\nimport { required } from '../../utilities/validator/validator';\r\nimport { Redirect } from 'react-router-dom';\r\nimport s from './../../utilities/ReduxForm/ReduxForm.module.scss';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { isAuth } from '../../redux/usersSelectors';\r\nimport {stateType} from '../../redux/redux-store';\r\nimport { login } from '../../redux/authMeReducer';\r\n\r\ntype IFormProps = {\r\n    handleSubmit: () => void,\r\n    error: string,\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n    captcha: string\r\n}\r\n\r\ntype IDispatchProps = {\r\n    captchaUrl: string | null\r\n}\r\n\r\nlet LoginForm = (props: IDispatchProps & InjectedFormProps<IFormProps, IDispatchProps>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div onSubmit={props.handleSubmit}>\r\n                <Field placeholder=\"Email\" name=\"email\" component={Input} validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder=\"Password\" suggested=\"current-password\" name=\"password\" component={Input} type=\"password\" validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field type=\"checkbox\" name=\"rememberMe\" component={Input}/> Remember me\r\n            </div>\r\n            {props.error && <div className={s.commonError}> {props.error} </div>}\r\n            {props.captchaUrl && <img src={props.captchaUrl} className={s.captchaImg} alt=\"captch\"/>}\r\n            { props.captchaUrl && <div>\r\n                <Field placeholder=\"Input symbols of image\" name=\"captcha\" component={Input} validate={[required]}/>\r\n            </div> }\r\n            <div>\r\n                <button>Login</button>\r\n            </div> \r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nlet LoginReduxForm = reduxForm<IFormProps, IDispatchProps>({form: 'login'})(LoginForm);\r\n\r\ntype formDataType = {\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n    captcha: string\r\n}\r\n\r\n\r\n\r\nexport const Login: FunctionComponent = () => {\r\n\r\n    const isAuthValue = useSelector(isAuth)\r\n    const captchaUrl = useSelector((state: stateType) => state.auth.captchaUrl)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    let onSubmit = (formData: formDataType) => {\r\n        dispatch(login(formData.email, formData.password, formData.rememberMe, formData.captcha))\r\n    }\r\n\r\n    if(isAuthValue) return <Redirect to=\"/profile\" />\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl}/>\r\n        </div>\r\n    )\r\n}","import React, { FunctionComponent } from 'react';\nimport s from './App.module.scss';\nimport NavBar from './component/NavBar/NavBar';\nimport { Route, HashRouter, Switch, Redirect } from 'react-router-dom';\nimport { UsersPage } from './component/Users/UsersPage';\nimport { HeaderPage } from './component/Header/HeaderPage';\nimport { initializeApp } from './redux/appReducer';\nimport { connect, Provider } from 'react-redux';\nimport Preloader from './component/common/Preloader/Preloader';\nimport store, { stateType } from './redux/redux-store';\nimport { withSuspense } from './hoc/withSuspense';\nimport cn from 'classnames';\nimport { Login } from './component/Login/Login';\n\nconst ProfileContainer = React.lazy(() => import('./component/Profile/ProfileContainer'));\nconst DialogContainer = React.lazy(() => import('./component/Dialog/DialogContainer'));\n\ntype mapStateToPropsType = {\n  appInitialized: boolean\n}\ntype mapDispatchToPropsType = {\n  initializeApp: () => void\n}\n\n\ntype PropsType = mapStateToPropsType & mapDispatchToPropsType\n\ntype LocalStateType = {\n  isOpenMenu: boolean\n}\n\nclass App extends React.Component<PropsType> {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  state: LocalStateType = {\n    isOpenMenu: false\n}\n\n  render() {\n    if(!this.props.appInitialized) return <Preloader />\n\n    return (\n      <div className={s.container}>\n        <button className={s.menu} onClick={() => this.setState({\n          isOpenMenu: !this.state.isOpenMenu\n        })}></button>\n        <div className={s.header}></div>\n        <HashRouter> {// Instead of hashRouter I was used BrowserRouter, but BrowserRouter is working incorrect with \n                      // GitHub pages\n                    }\n          <div className={s.app_wrapper}>\n            <HeaderPage />\n            <div className={cn(s.navBar, {\n              [s.mobileNavBar]: this.state.isOpenMenu \n            })}>\n              <NavBar/>\n            </div>\n            <div className={s.content}>\n              <Switch>\n                <Route exact path=\"/\" render={() => <Redirect to=\"/profile\" />}/>\n                <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}/>\n                <Route path=\"/dialog\" render={withSuspense(DialogContainer)}/>\n                <Route path=\"/users\" render={() => <UsersPage />} />\n                <Route path=\"/login\" render={() => <Login />} />\n                <Route path=\"*\" render={() => <div>404 Page not Found</div>}/>\n              </Switch>\n            </div>\n          </div>\n      </HashRouter>\n      </div>\n    );\n  }\n}\n\nlet mapStateToProps = (state: stateType): mapStateToPropsType => {\n  return {\n    appInitialized: state.app.initialazed\n  }\n}\n\nlet AppContainer =  connect<mapStateToPropsType, mapDispatchToPropsType, {}, stateType>\n(mapStateToProps, {initializeApp})(App);\n\ntype SocialApp = {}\n\nconst SocialApp: FunctionComponent<SocialApp> = (props) => {\n  return <Provider store={store}>\n    <AppContainer />\n  </Provider>\n}\n\nexport default SocialApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport store from './redux/redux-store';\nimport SocialApp from './App';\n\nlet rerenderEntireTree = (state: any): void => {\n    ReactDOM.render(<SocialApp />, document.getElementById('root'));\n}\nrerenderEntireTree(store.getState());\n\nstore.subscribe(() => {\n    let state = store.getState();\n    rerenderEntireTree(state);\n});","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"ReduxForm_error__233NZ\",\"commonError\":\"ReduxForm_commonError__cBGbG\",\"errorText\":\"ReduxForm_errorText__1DGgE\",\"captchaImg\":\"ReduxForm_captchaImg__2FHiG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__3z5rM\",\"menu\":\"App_menu__1RU7z\",\"header\":\"App_header__2qVPg\",\"app_wrapper\":\"App_app_wrapper__1LIpW\",\"content\":\"App_content__19Ox-\",\"navBar\":\"App_navBar__19uDn\",\"mobileNavBar\":\"App_mobileNavBar__3a9zf\"};","import { meThunk, authMeActions } from './authMeReducer';\r\nimport { getProfileThunk } from './profileReducer';\r\nimport { stateType, InferActionsTypes } from './redux-store';\r\n\r\ntype ActionsType = InferActionsTypes<typeof appActions>\r\n\r\nexport const appActions = {\r\n    InitializedSuccess: () => ({type: 'SUCCESS_INITIALIZING' } as const)\r\n}\r\n\r\ntype getStateType = () => stateType\r\n// type dispatchType = Dispatch<ActioType>\r\n\r\nexport const initializeApp = () => async (dispatch: any, getState: getStateType) => {\r\n    let result = await dispatch(meThunk())\r\n    if(result !== 1) { // If user is authorized\r\n        let userId = getState().auth.userId;\r\n        let profile = await dispatch(getProfileThunk(userId))\r\n        dispatch(authMeActions.setUserFoto(profile.photos.small)) //Add foto of aythorized user to store\r\n    }   \r\n    dispatch(appActions.InitializedSuccess()) \r\n}\r\n\r\n export type inicialStateType = {\r\n    initialazed: boolean\r\n}\r\n\r\nlet initialState: inicialStateType = {\r\n    initialazed: false\r\n}\r\n\r\nlet appReducer = (state = initialState , action: ActionsType): inicialStateType => {\r\n    switch (action.type) {\r\n        case 'SUCCESS_INITIALIZING':\r\n            return {\r\n                ...state,\r\n                initialazed: true\r\n            }\r\n        default:\r\n           return state\r\n    }\r\n}\r\n\r\nexport default appReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginatorBox\":\"Paginator_paginatorBox__1XIWO\",\"selectedPage\":\"Paginator_selectedPage__aL2Pb\",\"paginationItem\":\"Paginator_paginationItem__1uHLo\",\"btn\":\"Paginator_btn__1ItAy\",\"captchaImg\":\"Paginator_captchaImg__28son\"};","import React, { FunctionComponent } from 'react';\r\nimport s from './ReduxForm.module.scss';\r\nimport { WrappedFieldProps } from 'redux-form';\r\n\r\nexport const Textarea: FunctionComponent<WrappedFieldProps> = ({input, meta, ...props}) => {\r\n    let hasError = meta.error && meta.touched;\r\n   return (<div>\r\n        <textarea className={hasError ? s.error : \"\"} {...input} {...props}/>\r\n        {hasError && <span className={s.errorText}>{meta.error}</span>}\r\n   </div>)\r\n}\r\n\r\nexport const Input: FunctionComponent<WrappedFieldProps> = ({input, meta, ...props}) => {\r\n    let hasError = meta.error && meta.touched;\r\n   return (<div>\r\n        <input className={hasError ? s.error : \"\"} {...input} {...props}/>\r\n        {hasError && <span className={s.errorText}>{meta.error}</span>}\r\n   </div>)\r\n}","import { authMeActions } from './authMeReducer';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport { profileInfoType, photosType, postDataType } from './../types/types';\r\nimport { profileAPI, resultCodeEnum } from \"../dal/dal\";\r\nimport { stopSubmit } from \"redux-form\";\r\nimport { InferActionsTypes, stateType } from './redux-store';\r\nimport { AxiosResponse } from 'axios';\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof profileActions>\r\n\r\nexport const profileActions = {\r\n    addPostActionCreator: (postBody: string) => ({ type: 'ADD_POST', postBody } as const),\r\n    setPofileInfo: (profile: profileInfoType) => ({ type: 'SET_PROFILE_INFO', profile } as const),\r\n    setUserStatus: (status: string) => ({ type: 'SET_STATUS', status } as const),\r\n    deletePost: (postId: number) => ({ type: 'DELETE_POST', postId } as const),\r\n    savePhotoSuccess: (photoFile: photosType) => ({ type: 'SAVE_PHOTO', photoFile } as const),\r\n    setUserFoto: (userImage: string) => (authMeActions.setUserFoto(userImage))\r\n}\r\n\r\ntype DispatchType = ThunkAction<Promise<void | resultCodeEnum | null | AxiosResponse<profileInfoType> | profileInfoType>, stateType, unknown, ActionsTypes>\r\n\r\nexport const getProfileThunk = (userId: number | null): DispatchType => async (dispatch) => {\r\n    const response = await profileAPI.getProfile(userId);\r\n    dispatch(profileActions.setPofileInfo(response));\r\n    return response;\r\n}\r\n\r\nexport const getUserStatusThunk = (userId: number): DispatchType => async (dispatch) => {\r\n    const data = await profileAPI.getUserStatus(userId)\r\n    dispatch(profileActions.setUserStatus(data))\r\n    \r\n}\r\n\r\nexport const updateUserStatusThunk = (status: string): DispatchType => async (dispatch) => {\r\n    const data = await profileAPI.updateUserStatus(status)\r\n    if(data.resultCode === resultCodeEnum.Success) {\r\n        dispatch(profileActions.setUserStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (photo: File): DispatchType => async (dispatch) => { //Update image of user account\r\n    const responseData = await profileAPI.savePhoto(photo)\r\n    if(responseData.resultCode === resultCodeEnum.Success) {\r\n        dispatch(profileActions.savePhotoSuccess(responseData.data.photos))\r\n        dispatch(authMeActions.setUserFoto(responseData.data.photos.small))\r\n    }\r\n}\r\n\r\n\r\nexport const saveProfileInfo = (profile: profileInfoType): DispatchType => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const data = await profileAPI.saveProfileInfo(profile)\r\n    if(data.resultCode === resultCodeEnum.Success) {\r\n        getProfileThunk(userId)\r\n    } else {\r\n        const errorMessage = data.messages[0];\r\n        let field = errorMessage.indexOf(\"Contacts->\") + 10\r\n        if(field === 9) { // Handle general error\r\n            //@ts-ignore\r\n            dispatch(stopSubmit(\"profileData\", {_error: errorMessage}))\r\n        } else { // Handle error of some social network link\r\n            let socialNetworkName = errorMessage.substr(field, errorMessage.length - field - 1).toLowerCase()\r\n            let objError: Record<string, any> = {}\r\n            objError[socialNetworkName] = errorMessage\r\n            const object = {\"contacts\": objError}\r\n            //@ts-ignore\r\n            dispatch(stopSubmit(\"profileData\", object))\r\n        }\r\n        return Promise.reject(errorMessage)\r\n    }\r\n}\r\n\r\n\r\nexport type profileStateType = typeof initialState;\r\n\r\nlet initialState = {\r\n    PostData: [\r\n        { id: 1, text: \"Super puper ninja 1\", like: 4 },\r\n        { id: 2, text: \"OMG I'm in Internet\", like: 2 },\r\n        { id: 3, text: \"Join to my way of samurai\", like: 13 }\r\n    ] as Array<postDataType>,\r\n    profileInfo: null as profileInfoType | null,\r\n    status: \"\"\r\n}\r\n\r\nlet profileReducer = (state = initialState, action: ActionsTypes): profileStateType => {\r\n    switch (action.type) {\r\n        case 'ADD_POST': {\r\n            let newPost: postDataType = {\r\n                id: state.PostData.length + 1,\r\n                text: action.postBody,\r\n                like: 0\r\n            };\r\n            return { ...state,\r\n                PostData: [...state.PostData, newPost]\r\n            }\r\n        }\r\n        case 'DELETE_POST': \r\n            return {...state, PostData: state.PostData.filter( (p: any) => p.id !== action.postId)}\r\n        case 'SET_PROFILE_INFO': \r\n            return {\r\n                ...state,\r\n                profileInfo: {...action.profile}\r\n            }\r\n        case 'SET_STATUS': \r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case 'SAVE_PHOTO': \r\n            return {\r\n                ...state,\r\n                //@ts-ignore\r\n                profileInfo: {...state.profileInfo, photos: action.photoFile}\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import React, { FunctionComponent } from 'react';\r\nimport preloader from '../../../assets/img/preloader.gif';\r\nimport s from './Preloader.module.scss';\r\n\r\ninterface propsInterface {\r\n\r\n}\r\n\r\nconst Preloader: React.FC<propsInterface> = (props) => {\r\n    return <div>\r\n        <img src={preloader} className={s.preloaderImg} alt=\"\"/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","export const required = (value: any) => {\r\n    if(value) return undefined;\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLength = (length: number) => (value?: string) => {\r\n    if(value) {\r\n        if(value.length > length) return `Max length is ${length} symbols`;\r\n    }\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userBox\":\"Users_userBox__3CZSm\",\"avatar\":\"Users_avatar__sR2i7\"};"],"sourceRoot":""}