(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return l}));var a,r,u=n(134),c=n.n(u).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"767f330b-ea1f-4316-94ad-051b6e7ad9dd"}}),o={getUsers:function(e,t){return c.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unfollow:function(e){return c.delete("follow/".concat(e)).then((function(e){return e.data}))},follow:function(e){return c.post("follow/".concat(e)).then((function(e){return e.data}))},getProfile:function(e){return console.warn("Obsolete method. Please use profileAPI."),s.getProfile(e)}},s={getProfile:function(e){return c.get("profile/".concat(e))},getUserStatus:function(e){return c.get("profile/status/".concat(e))},updateUserStatus:function(e){return c.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),c.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},saveProfileInfo:function(e){return c.put("profile",e)}};!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(a||(a={})),function(e){e[e.CaptchaREquired=10]="CaptchaREquired"}(r||(r={}));var i={me:function(){return c.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return c.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a})},logout:function(){return c.delete("auth/login")}},l={getCaptcha:function(){return c.get("security/get-captcha-url")}}},120:function(e,t,n){e.exports=n.p+"static/media/user.5e1a27cf.jpeg"},140:function(e,t,n){e.exports=n.p+"static/media/preloader.4c140210.gif"},142:function(e,t){e.exports="data:image/png;base64,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"},168:function(e,t,n){e.exports=n(292)},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d}));var a=n(7),r=n(5),u=n.n(r),c=n(11),o=n(10),s=n(36),i=n(43),l={setUserData:function(e,t,n,a){return{type:"SET_USER_DATA",payload:{userId:e,login:t,email:n,isAuth:a}}},getCaptchaUrlSuccess:function(e){return{type:"GET_CAPTCHA_URL",payload:{captchaUrl:e}}},setUserFoto:function(e){return{type:"GET_USER_IMAGE",userImage:e}}},p=function(){return function(){var e=Object(c.a)(u.a.mark((function e(t){var n,a,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.me();case 2:if((n=e.sent).resultCode!==o.c.Success){e.next=8;break}a=n.data,r=a.id,c=a.login,s=a.email,t(l.setUserData(r,c,s,!0)),e.next=9;break;case 8:return e.abrupt("return",n.resultCode);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e,t,n,a){return function(){var r=Object(c.a)(u.a.mark((function r(c){var l,p;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.a.login(e,t,n,a);case 2:0===(l=r.sent).data.resultCode?c(Object(i.b)()):(10===l.data.resultCode&&c(m()),p=l.data.messages,c(Object(s.a)("login",{_error:p})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},d=function(){return function(){var e=Object(c.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.logout();case 2:0===(n=e.sent).data.resultCode?t(l.setUserData(null,null,null,!1)):console.log(n.data.messages);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(){return function(){var e=Object(c.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.d.getCaptcha();case 2:n=e.sent,a=n.data.url,t(l.getCaptchaUrlSuccess(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null,userImage:null};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":case"GET_CAPTCHA_URL":return Object(a.a)({},e,{},t.payload);case"GET_USER_IMAGE":return Object(a.a)({},e,{userImage:t.userImage});default:return e}}},24:function(e,t,n){e.exports={nav:"NavBar_nav__1MHgl",item:"NavBar_item__3TPM-",active:"NavBar_active__2gaxY"}},292:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(67),c=n.n(u),o=n(9),s=n(99),i=n(58),l=n(33),p=n(7),f={sidebarData:[{id:1,text:"Hay que terminar React.ts"}],newNoteText:""},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTE":return Object(p.a)({},e,{sidebarData:[].concat(Object(l.a)(e.sidebarData),[{id:e.sidebarData.length+1,text:e.newNoteText}]),newNoteText:""});case"CHANGE_NOTE_MESSAGE":return Object(p.a)({},e,{newNoteText:t.text});default:return e}},m=n(5),h=n.n(m),b=n(11),g=function(e,t,n,a){return e.map((function(e){return e[t]===n?Object(p.a)({},e,{},a):e}))},E=n(10),v=function(e){return{type:"FOLLOW",userId:e}},A=function(e){return{type:"UNFOLLOW",userId:e}},O=function(e){return{type:"SET_USERS",users:e}},w=function(e){return{type:"SET_CURRENT_PAGE",page:e}},S=function(e){return{type:"SET_USERS_COUNT",count:e}},P=function(e){return{type:"SET_FETCHING",value:e}},j=function(e,t){return{type:"DISABLE_USERS",isDisable:e,usersId:t}},I=function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(j(!0,n)),e.next=3,a(n);case 3:null==e.sent.error&&(t(j(!1,n)),t(r(n)));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),x={users:[],usersCount:0,pageSize:5,currentPage:1,isFetching:!0,disableUsers:[]},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(p.a)({},e,{users:g(e.users,["id"],t.userId,{followed:!0})});case"UNFOLLOW":return Object(p.a)({},e,{users:g(e.users,["id"],t.userId,{followed:!1})});case"SET_USERS":return Object(p.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(p.a)({},e,{currentPage:t.page});case"SET_USERS_COUNT":return Object(p.a)({},e,{usersCount:t.count});case"SET_FETCHING":return Object(p.a)({},e,{isFetching:t.value});case"DISABLE_USERS":return Object(p.a)({},e,{disableUsers:t.isDisable?[].concat(Object(l.a)(e.disableUsers),[t.usersId]):e.disableUsers.filter((function(e){return e!==t.usersId}))});default:return e}},y=n(19),C=n(135),D=n(133),k=n(43),T=n(136),_=Object(o.combineReducers)({dialogPage:s.b,profilePage:i.a,sidebarPage:d,usersPage:U,auth:y.b,form:D.a,app:k.a}),N=Object(o.createStore)(_,Object(T.composeWithDevTools)(Object(o.applyMiddleware)(C.a))),G=n(27),M=n(28),R=n(30),H=n(29),L=n(31),F=n(57),B=n.n(F),z=n(24),V=n.n(z),J=n(18),q=function(e){return r.a.createElement("div",{className:V.a.nav},r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(J.b,{to:"/profile",className:V.a.item,activeClassName:V.a.active},"Profile")),r.a.createElement("li",null,r.a.createElement(J.b,{to:"/dialog",className:V.a.item,activeClassName:V.a.active},"Messages")),r.a.createElement("li",null,r.a.createElement(J.b,{to:"/users",className:V.a.item,activeClassName:V.a.active},"Users")),r.a.createElement("li",null,r.a.createElement(J.b,{to:"/setting",className:V.a.item,activeClassName:V.a.active},"Settings")))))},Q=n(35),W=n(16),X=n(68),Z=n(97),Y=n(47),K=n.n(Y),$=n(119),ee=n.n($),te=function(e){for(var t=Math.ceil(e.itemCount/e.pageSize),n=[],u=1;u<=t;u++)n.push(u);var c=Math.ceil(t/10),o=Object(a.useState)(1),s=Object(Z.a)(o,2),i=s[0],l=s[1],p=10*(i-1)+1,f=10*i;return r.a.createElement("div",{className:K.a.paginatorBox},r.a.createElement("button",{className:K.a.btn,disabled:i<=1,onClick:function(){l(i-1)}},"Prev"),n.filter((function(e){return e>=p&&e<=f})).map((function(t){return r.a.createElement("span",{key:t,className:ee()(K.a.paginationItem,Object(X.a)({},K.a.selectedPage,e.currentPage===t)),onClick:function(n){e.onPaginationClick(t)}},t)})),r.a.createElement("button",{className:K.a.btn,onClick:function(){l(i+1)},disabled:i>=c},"Next"))},ne=n(93),ae=n.n(ne),re=n(120),ue=n.n(re),ce=function(e){return r.a.createElement("div",{className:ae.a.userBox},r.a.createElement("div",null,r.a.createElement(J.b,{to:"/profile/"+e.userData.id},r.a.createElement("img",{src:null!=e.userData.photos.small?e.userData.photos.small:ue.a,alt:"",className:ae.a.avatar})),e.userData.followed?r.a.createElement("button",{disabled:e.disableUsers.some((function(t){return t===e.userData.id})),onClick:function(){e.unfollowThunk(e.userData.id)}},"Unfollow"):r.a.createElement("button",{disabled:e.disableUsers.some((function(t){return t===e.userData.id})),onClick:function(){e.isAuth&&e.followThunk(e.userData.id)}},"Follow")),r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("b",null,"User name:")," ",e.userData.name),r.a.createElement("span",null,r.a.createElement("b",null,"Satus:")," ",e.userData.status||"-----")))},oe=function(e){return r.a.createElement("div",null,r.a.createElement(te,{itemCount:e.usersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPaginationClick:e.onPaginationClick}),e.users.map((function(t){return r.a.createElement(ce,{disableUsers:e.disableUsers,isAuth:e.isAuth,unfollowThunk:e.unfollowThunk,followThunk:e.followThunk,key:t.id,userData:t})})))},se=n(69),ie=n(141),le=Object(ie.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),pe=function(e){return e.usersPage.usersCount},fe=function(e){return e.usersPage.pageSize},de=function(e){return e.usersPage.currentPage},me=function(e){return e.usersPage.isFetching},he=function(e){return e.usersPage.disableUsers},be=function(e){return e.auth.isAuth},ge=function(e){function t(){var e,n;Object(G.a)(this,t);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(n=Object(R.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(r)))).onPaginationClick=function(e){n.props.getUsersThunk(e,n.props.pageSize)},n}return Object(L.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsersThunk(t,n)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(se.a,null):r.a.createElement(oe,{users:this.props.users,usersCount:this.props.usersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,isAuth:this.props.isAuth,onPaginationClick:this.onPaginationClick,disableUsers:this.props.disableUsers,unfollowThunk:this.props.unfollowThunk,followThunk:this.props.followThunk}))}}]),t}(r.a.Component),Ee=Object(W.b)((function(e){return{users:le(e),usersCount:pe(e),pageSize:fe(e),currentPage:de(e),isFetching:me(e),disableUsers:he(e),isAuth:be(e)}}),{getUsersThunk:function(e,t){return function(){var n=Object(b.a)(h.a.mark((function n(a){var r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(P(!0)),n.next=3,E.e.getUsers(e,t);case 3:null===(r=n.sent).error&&(a(O(r.items)),a(S(r.totalCount)),a(w(e)),a(P(!1)));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},unfollowThunk:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I(n,e,E.e.unfollow,A);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},followThunk:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I(n,e,E.e.follow,v);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(ge),ve=n(94),Ae=n.n(ve),Oe=n(142),we=n.n(Oe),Se=function(e){return r.a.createElement("div",{className:Ae.a.header},r.a.createElement("header",null,e.isAuth&&e.profileImage?r.a.createElement("div",{className:Ae.a.userBox},r.a.createElement("img",{src:e.profileImage,alt:""}),r.a.createElement("span",null,e.login)):r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("img",{src:we.a,alt:""})),r.a.createElement("div",null,e.isAuth?r.a.createElement("button",{onClick:e.logout},"LogOut"):r.a.createElement("div",null,r.a.createElement(J.b,{to:"/login"},"Login")))))},Pe=function(e){function t(){return Object(G.a)(this,t),Object(R.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return r.a.createElement(Se,this.props)}}]),t}(r.a.Component),je=Object(W.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,profileImage:e.auth.userImage}}),{logout:y.d})(Pe),Ie=n(131),xe=n(132),Ue=n(51),ye=n(70),Ce=n(40),De=n.n(Ce),ke=Object(xe.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{onSubmit:e.handleSubmit},r.a.createElement(Ie.a,{placeholder:"Email",name:"email",component:Ue.a,validate:[ye.b]})),r.a.createElement("div",null,r.a.createElement(Ie.a,{placeholder:"Password",suggested:"current-password",name:"password",component:Ue.a,type:"password",validate:[ye.b]})),r.a.createElement("div",null,r.a.createElement(Ie.a,{type:"checkbox",name:"rememberMe",component:Ue.a})," Remember me"),e.error&&r.a.createElement("div",{className:De.a.commonError}," ",e.error," "),e.captchaUrl&&r.a.createElement("img",{src:e.captchaUrl,alt:"asd"}),e.captchaUrl&&r.a.createElement("div",null,r.a.createElement(Ie.a,{placeholder:"Input symbols of image",name:"captcha",component:Ue.a,validate:[ye.b]})),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))})),Te=function(e){return e.isAuth?r.a.createElement(Q.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(ke,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl}))},_e=function(e){function t(){return Object(G.a)(this,t),Object(R.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return r.a.createElement(Te,{login:this.props.login,isAuth:this.props.isAuth,captchaUrl:this.props.captchaUrl})}}]),t}(r.a.Component),Ne=Object(W.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:y.c})(_e),Ge=function(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(e,t))}},Me=r.a.lazy((function(){return n.e(3).then(n.bind(null,306))})),Re=r.a.lazy((function(){return n.e(4).then(n.bind(null,307))})),He=function(e){function t(){return Object(G.a)(this,t),Object(R.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.appInitialized?r.a.createElement("div",{className:B.a.container},r.a.createElement("div",{className:B.a.header}),r.a.createElement(J.a,null," ",r.a.createElement("div",{className:B.a.app_wrapper},r.a.createElement(je,null),r.a.createElement(q,null),r.a.createElement("div",{className:B.a.content},r.a.createElement(Q.d,null,r.a.createElement(Q.b,{exact:!0,path:"/",render:function(){return r.a.createElement(Q.a,{to:"/profile"})}}),r.a.createElement(Q.b,{path:"/profile/:userId?",render:Ge(Me)}),r.a.createElement(Q.b,{path:"/dialog",render:Ge(Re)}),r.a.createElement(Q.b,{path:"/users",render:function(){return r.a.createElement(Ee,null)}}),r.a.createElement(Q.b,{path:"/login",render:function(){return r.a.createElement(Ne,null)}}),r.a.createElement(Q.b,{path:"*",render:function(){return r.a.createElement("div",null,"404 Page not Found")}})))))):r.a.createElement(se.a,null)}}]),t}(r.a.Component),Le=Object(W.b)((function(e){return{appInitialized:e.app.initialazed}}),{initializeApp:k.b})(He),Fe=function(e){return r.a.createElement(W.a,{store:N},r.a.createElement(Le,null))},Be=function(e){c.a.render(r.a.createElement(Fe,null),document.getElementById("root"))};Be(N.getState()),N.subscribe((function(){N.getState();Be()}))},40:function(e,t,n){e.exports={error:"ReduxForm_error__233NZ",commonError:"ReduxForm_commonError__cBGbG",errorText:"ReduxForm_errorText__1DGgE"}},43:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var a=n(7),r=n(5),u=n.n(r),c=n(11),o=n(19),s=n(58),i=function(){return{type:"SUCCESS_INITIALIZING"}},l=function(){return function(){var e=Object(c.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(o.e)());case 2:if(1===e.sent){e.next=9;break}return a=n().auth.userId,e.next=7,t(Object(s.b)(a));case 7:r=e.sent,t(o.a.setUserFoto(r.data.photos.small));case 9:t(i());case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},p={initialazed:!1};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESS_INITIALIZING":return Object(a.a)({},e,{initialazed:!0});default:return e}}},47:function(e,t,n){e.exports={paginatorBox:"Paginator_paginatorBox__1XIWO",selectedPage:"Paginator_selectedPage__aL2Pb",paginationItem:"Paginator_paginationItem__1uHLo",btn:"Paginator_btn__1ItAy"}},51:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var a=n(90),r=n(0),u=n.n(r),c=n(40),o=n.n(c),s=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]),c=n.error&&n.touched;return u.a.createElement("div",null,u.a.createElement("textarea",Object.assign({className:c?o.a.error:""},t,r)),c&&u.a.createElement("span",{className:o.a.errorText},n.error))},i=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]),c=n.error&&n.touched;return u.a.createElement("div",null,u.a.createElement("input",Object.assign({className:c?o.a.error:""},t,r)),c&&u.a.createElement("span",{className:o.a.errorText},n.error))}},57:function(e,t,n){e.exports={container:"App_container__3z5rM",header:"App_header__2qVPg",app_wrapper:"App_app_wrapper__1LIpW",content:"App_content__19Ox-"}},58:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return b}));var a=n(33),r=n(7),u=n(5),c=n.n(u),o=n(11),s=n(19),i=n(10),l=n(36),p={addPostActionCreator:function(e){return{type:"ADD_POST",postBody:e}},setPofileInfo:function(e){return{type:"SET_PROFILE_INFO",profile:e}},setUserStatus:function(e){return{type:"SET_STATUS",status:e}},deletePost:function(e){return{type:"DELETE_POST",postId:e}},savePhotoSuccess:function(e){return{type:"SAVE_PHOTO",photoFile:e}},setUserFoto:s.a.setUserFoto},f=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e.getProfile(e);case 2:return a=t.sent,n(p.setPofileInfo(a.data)),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getUserStatus(e);case 2:a=t.sent,n(p.setUserStatus(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.updateUserStatus(e);case 2:t.sent.data.resultCode===i.c.Success&&n(p.setUserStatus(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.savePhoto(e);case 2:(a=t.sent).resultCode===i.c.Success&&(n(p.savePhotoSuccess(a.data.photos)),n(s.a.setUserFoto(a.data.photos.small)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n,a){var r,u,o,s,p,d,m;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.userId,t.next=3,i.b.saveProfileInfo(e);case 3:if((u=t.sent).data.resultCode!==i.c.Success){t.next=8;break}n(f(r)),t.next=12;break;case 8:return o=u.data.messages[0],9===(s=o.indexOf("Contacts->")+10)?n(Object(l.a)("profileData",{_error:o})):(p=o.substr(s,o.length-s-1).toLowerCase(),(d={})[p]=o,m={contacts:d},n(Object(l.a)("profileData",m))),t.abrupt("return",Promise.reject(o));case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},g={PostData:[{id:1,text:"Super puper ninja 1",like:4},{id:2,text:"OMG I'm in Internet",like:2},{id:3,text:"Join to my way of samurai",like:13}],profileInfo:null,status:""};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var n={id:e.PostData.length+1,text:t.postBody,like:0};return Object(r.a)({},e,{PostData:[].concat(Object(a.a)(e.PostData),[n])});case"DELETE_POST":return Object(r.a)({},e,{PostData:e.PostData.filter((function(e){return e.id!==t.postId}))});case"SET_PROFILE_INFO":return Object(r.a)({},e,{profileInfo:Object(r.a)({},t.profile)});case"SET_STATUS":return Object(r.a)({},e,{status:t.status});case"SAVE_PHOTO":return Object(r.a)({},e,{profileInfo:Object(r.a)({},e.profileInfo,{photos:t.photoFile})});default:return e}}},69:function(e,t,n){"use strict";var a=n(0),r=n.n(a),u=n(140),c=n.n(u);t.a=function(e){return r.a.createElement("div",null,r.a.createElement("img",{src:c.a,alt:""}))}},70:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},93:function(e,t,n){e.exports={userBox:"Users_userBox__3CZSm",avatar:"Users_avatar__sR2i7"}},94:function(e,t,n){e.exports={header:"Header_header__3AoGm",userBox:"Header_userBox__QXeqq"}},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(33),r=n(7),u={addMessageActionCreator:function(e){return{type:"ADD_MESSAGE",messageBody:e}}},c={DialogItemData:[{id:1,name:"User 1"},{id:2,name:"User 2"},{id:3,name:"User 3"},{id:4,name:"User 4"},{id:5,name:"User 5"},{id:6,name:"User 6"}],DialogMessageData:[{id:1,text:"PrePrePre"},{id:2,text:"PrePrePrePrePrePrePrePrePre"},{id:3,text:"OMG, i am in YouTube"}]};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return Object(r.a)({},e,{DialogMessageData:[].concat(Object(a.a)(e.DialogMessageData),[{id:e.DialogMessageData.length+1,text:t.messageBody}])});default:return e}}}},[[168,1,2]]]);
//# sourceMappingURL=main.79cf0469.chunk.js.map