{"version":3,"sources":["dal/dal.ts","assets/img/user.jpeg","assets/img/preloader.gif","assets/img/cub.png","redux/authMeReducer.ts","component/NavBar/NavBar.module.scss","redux/sidebarReducer.ts","utilities/objectHelpers/objectHelper.ts","redux/usersReducer.ts","redux/redux-store.ts","component/NavBar/NavBar.tsx","utilities/Paginator/Paginator.tsx","component/Users/User/User.tsx","component/Users/Users.tsx","redux/usersSelectors.ts","component/Users/UsersContainer.tsx","component/Header/Header.tsx","component/Header/HeaderContainer.tsx","component/Login/Login.tsx","component/Login/LoginContainer.tsx","hoc/withSuspense.tsx","App.tsx","index.tsx","utilities/ReduxForm/ReduxForm.module.scss","redux/appReducer.ts","utilities/Paginator/Paginator.module.scss","utilities/ReduxForm/Form.tsx","App.module.scss","redux/profileReducer.ts","component/common/Preloader/Preloader.tsx","utilities/validator/validator.ts","component/Users/Users.module.scss","component/Header/Header.module.scss","redux/dialogReducer.ts"],"names":["resultCodeEnum","resultCodeForCaptcha","instance","Axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollow","userId","delete","follow","post","getProfile","console","warn","profileAPI","getUserStatus","updateUserStatus","status","put","savePhoto","photo","formData","FormData","append","res","saveProfileInfo","profile","authApi","me","result","login","email","password","rememberMe","captcha","logout","securityApi","getCaptcha","module","exports","authMeActions","setUserData","isAuth","type","payload","getCaptchaUrlSuccess","captchaUrl","setUserFoto","userImage","meThunk","dispatch","a","responsData","resultCode","Success","id","initializeApp","getCaptchaUrl","errorMessage","messages","stopSubmit","_error","log","url","initialState","authMeReducer","state","action","sidebarData","text","newNoteText","sidebarReducer","length","unfollowFollowChanging","items","itemId","actionId","newObject","map","u","userActions","users","page","count","value","isDisable","usersId","followUnfollowFlow","dal","actionCreator","error","usersCount","isFetching","disableUsers","usersReducer","followed","filter","reducers","combineReducers","dialogPage","dialogReducer","profilePage","profileReducer","sidebarPage","usersPage","auth","form","formReducer","app","appReducer","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","NavBar","props","className","s","nav","to","item","activeClassName","active","Paginator","pageCount","Math","ceil","itemCount","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","paginatorBox","btn","disabled","onClick","p","key","cn","paginationItem","selectedPage","e","onPaginationClick","User","userBox","userData","src","photos","small","userIcon","alt","avatar","some","unfollowThunk","followThunk","name","Users","getUsersSelector","createSelector","getUserCount","getPageSize","getCurrentPage","getIsFetching","getDisableUsers","UsersClassComponent","getUsersThunk","this","Preloader","React","Component","UserContainer","connect","totalCount","Header","header","profileImage","cub","HeaderContainer","LoginReduxForm","reduxForm","onSubmit","handleSubmit","Field","placeholder","component","Input","validate","required","suggested","commonError","Login","LoginContainer","withSuspense","Suspense","fallback","ProfileContainer","lazy","DialogContainer","App","appInitialized","container","app_wrapper","content","exact","path","render","AppContainer","initialazed","SocialApp","rerenderEntireTree","ReactDOM","document","getElementById","getState","subscribe","appActions","getProfileThunk","Textarea","input","meta","hasError","touched","errorText","profileActions","addPostActionCreator","postBody","setPofileInfo","setUserStatus","deletePost","postId","savePhotoSuccess","photoFile","getUserStatusThunk","updateUserStatusThunk","responseData","field","indexOf","socialNetworkName","substr","toLowerCase","objError","object","Promise","reject","PostData","like","profileInfo","newPost","preloader","maxLength","DialogActions","addMessageActionCreator","messageBody","DialogItemData","DialogMessageData"],"mappings":"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","file":"static/js/main.79cf0469.chunk.js","sourcesContent":["import { usersType, profileInfoType, photosType } from './../types/types';\r\nimport Axios from 'axios';\r\n\r\n\r\nlet instance = Axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"767f330b-ea1f-4316-94ad-051b6e7ad9dd\"\r\n    },\r\n})\r\n\r\ntype getUsersType = {\r\n    items: Array<usersType>,\r\n    totalCount: number,\r\n    error: string | null\r\n}\r\n\r\ntype unfollowFollowTypes = {\r\n    data?: {},\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get<getUsersType>(`users?page=${currentPage}&count=${pageSize}`).then( response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete<unfollowFollowTypes>(`follow/${userId}`).then( response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post<unfollowFollowTypes>(`follow/${userId}`).then((response) => {\r\n            return response.data;\r\n        })\r\n    },\r\n    getProfile(userId: number | null) {\r\n        console.warn(\"Obsolete method. Please use profileAPI.\")\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\n\r\ntype updateUserStatusType = {\r\n    data?: {},\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\ntype savePhotoType = {\r\n    data: {\r\n        photos: photosType\r\n    },\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\ntype saveProfileInfoType = {\r\n    data?: {},\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number | null) {\r\n        return instance.get<profileInfoType>(`profile/${userId}`)\r\n    },\r\n    getUserStatus(userId: number) {\r\n        return instance.get<string>(`profile/status/${userId}`)\r\n    },\r\n    updateUserStatus(status: string) {\r\n        return instance.put<updateUserStatusType>(`profile/status`, {status: status})\r\n    },\r\n    savePhoto(photo: File) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photo)\r\n        return instance.put<savePhotoType>(`profile/photo`, formData, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(res => res.data)\r\n    },\r\n    saveProfileInfo(profile: profileInfoType) {\r\n        return instance.put<saveProfileInfoType>(`profile`, profile)\r\n    }\r\n}\r\n\r\nexport enum resultCodeEnum {\r\n    Success = 0,\r\n    Error = 1\r\n}\r\n\r\nexport enum resultCodeForCaptcha {\r\n    CaptchaREquired = 10\r\n}\r\n\r\ntype meType = {\r\n    data: {\r\n        id: number,\r\n        email: string,\r\n        login: string\r\n    },\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\ntype loginType = {\r\n    data: {\r\n        userId?: number\r\n    },\r\n    resultCode: resultCodeEnum | resultCodeForCaptcha | null,\r\n    messages: Array<string>\r\n}\r\n\r\nexport const authApi = {\r\n    me() {\r\n        return instance.get<meType>(`auth/me`).then(result => result.data);\r\n    },\r\n    login(email: string, password: string, rememberMe = false, captcha: string | null = null) {\r\n        return instance.post<loginType>(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete<loginType>(`auth/login`)\r\n    }\r\n}\r\n\r\ntype getCaptchaType = {\r\n    url: string\r\n}\r\n\r\nexport const securityApi = {\r\n    getCaptcha() {\r\n        return instance.get<getCaptchaType>(`security/get-captcha-url`);\r\n    }\r\n}","module.exports = __webpack_public_path__ + \"static/media/user.5e1a27cf.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/preloader.4c140210.gif\";","module.exports = \"data:image/png;base64,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\"","import { InferActionsTypes, stateType } from './redux-store';\r\nimport { authApi, securityApi, resultCodeEnum } from './../dal/dal';\r\nimport { stopSubmit } from 'redux-form';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport { appActions, initializeApp } from './appReducer';\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof authMeActions>;\r\n\r\nexport const authMeActions = {\r\n    setUserData: (userId: number | null, login: string  | null, email: string  | null, isAuth: boolean) =>\r\n    ({type: 'SET_USER_DATA', payload: {userId, login, email, isAuth} } as const),\r\n    getCaptchaUrlSuccess: (captchaUrl: string) =>\r\n    ({type: 'GET_CAPTCHA_URL', payload: {captchaUrl} } as const),\r\n    setUserFoto: (userImage: string) => ({type: 'GET_USER_IMAGE', userImage} as const)\r\n}\r\n\r\n\r\ntype DispatchType = ThunkAction<Promise<void | resultCodeEnum | null>, stateType, unknown, ActionsTypes>\r\n\r\nexport const meThunk = (): DispatchType => async (dispatch) => {\r\n    const responsData = await authApi.me();\r\n    if(responsData.resultCode === resultCodeEnum.Success) {\r\n        let {id, login, email} = responsData.data;\r\n        dispatch(authMeActions.setUserData(id, login, email, true));\r\n    } else {\r\n        return responsData.resultCode;\r\n    }\r\n}\r\n\r\nexport const login = \r\n(email: string, password: string, rememberMe: boolean, captcha: string): DispatchType => \r\nasync (dispatch) => {\r\n    const response = await authApi.login(email, password, rememberMe, captcha);\r\n    if(response.data.resultCode === 0) {\r\n        // dispatch(meThunk());\r\n        dispatch(initializeApp());\r\n    } else {\r\n        if(response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        let errorMessage = response.data.messages\r\n        //@ts-ignore\r\n        dispatch(stopSubmit('login', {_error: errorMessage}));\r\n    }\r\n}\r\n\r\nexport const logout = (): DispatchType => async (dispatch: any) => {\r\n    const response = await authApi.logout();\r\n    if(response.data.resultCode === 0) {\r\n        dispatch(authMeActions.setUserData(null, null, null, false));\r\n    } else {\r\n        console.log(response.data.messages);\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = (): DispatchType => async (dispatch: any) => {\r\n    const response = await securityApi.getCaptcha();\r\n    const url = response.data.url;\r\n    dispatch(authMeActions.getCaptchaUrlSuccess(url))\r\n}\r\n\r\ntype authStateType = typeof initialState;\r\n\r\nlet initialState = {\r\n    userId: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false as boolean,\r\n    captchaUrl: null as string | null,\r\n    userImage: null as string | null\r\n}\r\n\r\nlet authMeReducer = (state = initialState , action: ActionsTypes): authStateType => {\r\n    switch (action.type) {\r\n        case 'SET_USER_DATA':\r\n        case 'GET_CAPTCHA_URL':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case 'GET_USER_IMAGE':\r\n            return {...state, userImage: action.userImage}\r\n        default:\r\n           return state\r\n    }\r\n}\r\n\r\nexport default authMeReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__1MHgl\",\"item\":\"NavBar_item__3TPM-\",\"active\":\"NavBar_active__2gaxY\"};","import { InferActionsTypes } from \"./redux-store\";\r\n\r\ntype ActionsType = InferActionsTypes<typeof sidebarActions>\r\n\r\n\r\nexport const sidebarActions = {\r\n    addNoteActionCreator: () => ({type: 'ADD_NOTE' } as const),\r\n    newNoteTextActionCreator: (text: string) => ({type: 'CHANGE_NOTE_MESSAGE', text: text} as const)\r\n}\r\n\r\ntype sidebarDataType = {\r\n    id: number,\r\n    text: string\r\n}\r\n\r\nlet initialState = {\r\n    sidebarData: [\r\n        { id: 1, text: \"Hay que terminar React.ts\" }\r\n    ] as Array<sidebarDataType>,\r\n    newNoteText: \"\"\r\n}\r\n\r\ntype stateType = typeof initialState;\r\n\r\nlet sidebarReducer = (state = initialState, action: ActionsType): stateType => {\r\n    switch (action.type) {\r\n        case 'ADD_NOTE':\r\n            return {...state,\r\n            sidebarData: [...state.sidebarData, {\r\n                id: state.sidebarData.length + 1,\r\n                text: state.newNoteText\r\n            }],\r\n            newNoteText: \"\"\r\n        }\r\n        case 'CHANGE_NOTE_MESSAGE':\r\n            return {...state,\r\n                newNoteText: action.text\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default sidebarReducer;","import { usersType } from './../../types/types';\r\nexport const unfollowFollowChanging = (items: Array<usersType>, itemId: any, actionId: number, newObject: {}) => {\r\n    return items.map((u: any) => {\r\n        if (u[itemId] === actionId) {\r\n            return { ...u, ...newObject };\r\n        }\r\n        return u;\r\n    })\r\n}","import { unfollowFollowChanging } from './../utilities/objectHelpers/objectHelper';\r\nimport { usersAPI } from \"../dal/dal\";\r\nimport { usersType } from '../types/types';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport { Dispatch } from 'redux';\r\nimport { InferActionsTypes } from './redux-store';\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof userActions>\r\n\r\nexport const userActions = {\r\n    follow: (userId: number) => ({ type: 'FOLLOW', userId } as const),\r\n    unfollow: (userId: number) => ({ type: 'UNFOLLOW', userId } as const),\r\n    setUsers: (users: Array<usersType>) => ({ type: 'SET_USERS', users } as const),\r\n    setCurrentPage: (page: number) => ({ type: 'SET_CURRENT_PAGE', page } as const),\r\n    setUsersCount: (count: number) => ({ type: 'SET_USERS_COUNT', count } as const),\r\n    setFetching: (value: boolean) => ({ type: 'SET_FETCHING', value } as const),\r\n    setDisableUsers: (isDisable: boolean, usersId: number) => ({ type: 'DISABLE_USERS', isDisable, usersId } as const)\r\n}\r\n\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, stateType, unknown, ActionsTypes>\r\ntype DispatchType = Dispatch<ActionsTypes>\r\n\r\nexport const getUsersThunk = \r\n(currentPage: number, pageSize: number): ThunkType => async (dispatch) => {\r\n    dispatch(userActions.setFetching(true)) // Enable Preloader component\r\n    const data = await usersAPI.getUsers(currentPage, pageSize);\r\n    if (data.error === null) {\r\n        dispatch(userActions.setUsers(data.items))\r\n        dispatch(userActions.setUsersCount(data.totalCount))\r\n        dispatch(userActions.setCurrentPage(currentPage))\r\n        dispatch(userActions.setFetching(false)) // Disable Preloader component\r\n    } \r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: DispatchType, \r\n                                userId: number, \r\n                                dal: any, \r\n                                actionCreator: (userId: number) => ActionsTypes) => {\r\n    dispatch(userActions.setDisableUsers(true, userId))\r\n    const data = await dal(userId)\r\n    if (data.error == null) {\r\n        dispatch(userActions.setDisableUsers(false, userId))\r\n        dispatch(actionCreator(userId))\r\n    }\r\n}\r\n\r\nexport const unfollowThunk = (userId: number): ThunkType => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollow, userActions.unfollow);\r\n}\r\nexport const followThunk = (userId: number): ThunkType => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow, userActions.follow);\r\n}\r\n\r\n\r\nlet initialState = {\r\n    users: [] as Array<usersType>,\r\n    usersCount: 0,\r\n    pageSize: 5,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    disableUsers: [] as Array<number> // Aray of users id\r\n}\r\n\r\ntype stateType = typeof initialState;\r\n\r\n\r\nlet usersReducer = (state = initialState, action: ActionsTypes): stateType => {\r\n    switch (action.type) {\r\n        case 'FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: unfollowFollowChanging(state.users, [\"id\"], action.userId, {followed: true})\r\n            }\r\n        case 'UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: unfollowFollowChanging(state.users, [\"id\"], action.userId, {followed: false})\r\n            }\r\n        case 'SET_USERS':\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case 'SET_CURRENT_PAGE':\r\n            return {\r\n                ...state,\r\n                currentPage: action.page\r\n            }\r\n        case 'SET_USERS_COUNT':\r\n            return {\r\n                ...state,\r\n                usersCount: action.count\r\n            }\r\n        case 'SET_FETCHING':\r\n            return {\r\n                ...state,\r\n                isFetching: action.value\r\n            }\r\n        case 'DISABLE_USERS':\r\n            return {\r\n                ...state,\r\n                disableUsers: action.isDisable ? [...state.disableUsers, action.usersId]\r\n                    : state.disableUsers.filter((id: any) => id !== action.usersId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport dialogReducer from './dialogReducer';\r\nimport profileReducer from './profileReducer';\r\nimport sidebarReducer from './sidebarReducer';\r\nimport usersReducer from './usersReducer';\r\nimport authMeReducer from './authMeReducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from './appReducer';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nlet reducers = combineReducers({    \r\n    dialogPage: dialogReducer,\r\n    profilePage: profileReducer,\r\n    sidebarPage: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authMeReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\ntype RootReducerType = typeof reducers;\r\nexport type stateType = ReturnType<RootReducerType>;\r\n\r\ntype PropertieesType<T> = T extends {[key: string]: infer U} ? U : never\r\n\r\nexport type InferActionsTypes<T extends {[key: string]: (...args: any[]) => any}> = ReturnType<PropertieesType<T>>\r\n\r\nlet store = createStore(reducers, composeWithDevTools(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\nexport default store;","import React, { FunctionComponent } from 'react';\r\nimport s from './NavBar.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\ninterface PropsInterface {\r\n}\r\n\r\n\r\nconst NavBar: FunctionComponent<PropsInterface> = (props) => {\r\n    return (\r\n        <div className={s.nav}>\r\n            <nav>\r\n                <ul>\r\n                    <li>\r\n                        <NavLink to=\"/profile\" className={s.item} activeClassName={s.active} >Profile</NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/dialog\" className={s.item} activeClassName={s.active}>Messages</NavLink>\r\n                    </li>\r\n                    {/* <li>\r\n                        <NavLink to=\"/news\" className={s.item} activeClassName={s.active}>News</NavLink>\r\n                    </li> */}\r\n                    <li>\r\n                        <NavLink to=\"/users\" className={s.item} activeClassName={s.active}>Users</NavLink>\r\n                    </li>\r\n                    {/* <li>\r\n                        <NavLink to=\"/music\" className={s.item} activeClassName={s.active}>Music</NavLink>\r\n                    </li> */}\r\n                    <li>\r\n                        <NavLink to=\"/setting\" className={s.item} activeClassName={s.active}>Settings</NavLink>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavBar;","import React, { FunctionComponent, useState } from \"react\";\r\nimport s from \"./Paginator.module.scss\";\r\nimport cn from 'classnames';\r\n\r\ninterface PropsInterface {\r\n    itemCount: number,\r\n    pageSize: number,\r\n    currentPage: number,\r\n    onPaginationClick: (p: number) => void\r\n}\r\n\r\nlet Paginator: FunctionComponent<PropsInterface> = (props) => {\r\n\r\n    let pageCount = Math.ceil(props.itemCount / props.pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionSize = 10;\r\n    let portionCount = Math.ceil(pageCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionNumber = (portionNumber -1) * portionSize + 1;\r\n    let rightPortionNumber = portionNumber * portionSize;\r\n\r\n    return <div className={s.paginatorBox}>\r\n        <button className={s.btn} disabled={portionNumber <= 1}\r\n        onClick={() => {setPortionNumber(portionNumber - 1)}\r\n        }>Prev</button>\r\n        {pages.filter((p: any) => p >= leftPortionNumber && p <= rightPortionNumber).map((p: any) => {\r\n            return <span key={p} className={cn(s.paginationItem, {\r\n                    [s.selectedPage]: props.currentPage === p\r\n                })}\r\n                onClick={(e) => { \r\n                    props.onPaginationClick(p)\r\n                 }}>{p}</span>\r\n        })}\r\n        <button className={s.btn} onClick={() => {setPortionNumber(portionNumber + 1)}}\r\n        disabled={portionNumber >= portionCount}>Next</button>\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React, { FunctionComponent } from \"react\";\r\nimport s from \"../Users.module.scss\";\r\nimport userIcon from \"../../../assets/img/user.jpeg\";\r\nimport { NavLink, Redirect } from \"react-router-dom\";\r\nimport { usersType } from \"../../../types/types\";\r\nimport { isAuth } from \"../../../redux/usersSelectors\";\r\n\r\ninterface PropsType {\r\n    userData: usersType,\r\n    disableUsers: Array<number>,\r\n    isAuth: boolean,\r\n    unfollowThunk: (userId: number) => void,\r\n    followThunk: (userId: number) => void\r\n}\r\n\r\nlet User: FunctionComponent<PropsType> = (props) => {\r\n\r\n    // const followUnfollow = (thunk: () => void) => {\r\n    //     if(!props.isAuth) {\r\n    //         thunk()\r\n    //     } else {\r\n    //         return <Redirect to=\"/login\"/>\r\n    //     }\r\n\r\n    // }\r\n    // const makeRedirect = () => <Redirect to=\"#/profile\"/>\r\n\r\n    return <div className={s.userBox}>\r\n        <div>\r\n            <NavLink to={\"/profile/\" + props.userData.id}>\r\n                <img src={props.userData.photos.small != null ? props.userData.photos.small : userIcon} alt=\"\" className={s.avatar} />\r\n            </NavLink>\r\n            {props.userData.followed ?\r\n                <button disabled={props.disableUsers.some((id: any) => id === props.userData.id)} onClick={() => {\r\n                    props.unfollowThunk(props.userData.id);\r\n                }}>Unfollow</button> :\r\n                <button disabled={props.disableUsers.some((id: any) => id === props.userData.id)} onClick={() => {\r\n                    if(!props.isAuth) {\r\n                        // makeRedirect()\r\n                    } else {\r\n                        props.followThunk(props.userData.id);\r\n                    }\r\n                }}>Follow</button>}\r\n        </div>\r\n        <div>\r\n            <span><b>User name:</b> {props.userData.name}</span>\r\n            <span><b>Satus:</b> {props.userData.status || \"-----\" }</span>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default User;","import React, { FunctionComponent } from \"react\";\r\nimport Paginator from \"../../utilities/Paginator/Paginator\";\r\nimport User from \"./User/User\";\r\nimport { usersType } from \"../../types/types\";\r\n\r\ntype PropsInterface = {\r\n    users: Array<usersType>,\r\n    usersCount: number,\r\n    pageSize: number,\r\n    currentPage: number,\r\n    isAuth: boolean,\r\n    onPaginationClick: (p: number) => void,\r\n    disableUsers: Array<number>,\r\n    unfollowThunk: (userId: number) => void,\r\n    followThunk: (userId: number) => void\r\n}\r\n\r\nlet Users: FunctionComponent<PropsInterface> = (props) => {\r\n\r\n    return <div>\r\n        <Paginator itemCount={props.usersCount} \r\n                    pageSize={props.pageSize} \r\n                    currentPage={props.currentPage}\r\n                    onPaginationClick={props.onPaginationClick}\r\n                    />\r\n        {props.users.map((u: any) => <User disableUsers={props.disableUsers}\r\n                        isAuth={props.isAuth}\r\n                        unfollowThunk={props.unfollowThunk}\r\n                        followThunk={props.followThunk}\r\n                        key={u.id}\r\n                        userData={u}\r\n            /> \r\n        )}\r\n    </div>\r\n}\r\n\r\nexport default Users;","import { createSelector } from 'reselect';\r\nimport { stateType } from './redux-store';\r\nimport { usersType } from '../types/types';\r\n\r\n// At this moment i dont need reselector, so i just tested how its work\r\n\r\nconst getUsers = (state: stateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersSelector = createSelector(getUsers, (users: Array<usersType>) => {\r\n    return users.filter((a: usersType) => true)\r\n})\r\n\r\nexport const getUserCount = (state: stateType) => {\r\n    return state.usersPage.usersCount\r\n}\r\nexport const getPageSize = (state: stateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getCurrentPage = (state: stateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: stateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getDisableUsers = (state: stateType) => {\r\n    return state.usersPage.disableUsers\r\n}\r\n\r\nexport const isAuth = (state: stateType) => {\r\n    return state.auth.isAuth\r\n}","import { connect } from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport { getUsersThunk, unfollowThunk, followThunk } from \"../../redux/usersReducer\";\r\nimport React from \"react\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { getUsersSelector, getUserCount, getPageSize, getCurrentPage, getIsFetching, getDisableUsers, isAuth } from \"../../redux/usersSelectors\";\r\nimport { usersType } from \"../../types/types\";\r\nimport { stateType } from \"../../redux/redux-store\";\r\n\r\ntype mapStateToPropsType = {\r\n    users: Array<usersType>,\r\n    usersCount: number,\r\n    pageSize: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    disableUsers: Array<number>,\r\n    isAuth: boolean\r\n}\r\n\r\ntype mapDispatchToPropsType = {\r\n    getUsersThunk: (currentPage: number, pageSize: number) => void,\r\n    unfollowThunk: (userId: number) => void,\r\n    followThunk: (userId: number) => void\r\n}\r\n\r\ntype MyProps = mapStateToPropsType & mapDispatchToPropsType\r\n\r\nclass UsersClassComponent extends React.Component<MyProps>{\r\n\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props;\r\n        this.props.getUsersThunk(currentPage, pageSize);\r\n    }\r\n\r\n    onPaginationClick = (p: number) => {\r\n        this.props.getUsersThunk(p, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : <Users users={this.props.users}\r\n                usersCount={this.props.usersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                isAuth = {this.props.isAuth}\r\n                onPaginationClick={this.onPaginationClick}\r\n                disableUsers={this.props.disableUsers}\r\n                unfollowThunk={this.props.unfollowThunk}\r\n                followThunk={this.props.followThunk} />}\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: stateType): mapStateToPropsType => {\r\n    return {\r\n        users: getUsersSelector(state),\r\n        usersCount: getUserCount(state),\r\n        pageSize: getPageSize(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        disableUsers: getDisableUsers(state),\r\n        isAuth: isAuth(state)\r\n    }\r\n}\r\n\r\nlet UserContainer = connect<mapStateToPropsType, mapDispatchToPropsType, {}, stateType>\r\n(mapStateToProps, {getUsersThunk, unfollowThunk, followThunk})(UsersClassComponent);\r\n\r\nexport default UserContainer;","import React, { FunctionComponent } from 'react';\r\nimport s from './Header.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport cub from '../../assets/img/cub.png';\r\n\r\ninterface myProps {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout: () => void\r\n    profileImage: string | null\r\n}\r\n\r\n\r\n\r\nconst Header: FunctionComponent<myProps> = (props) => {\r\n    return (\r\n        <div className={s.header}>\r\n             <header>\r\n                {props.isAuth && props.profileImage ?\r\n                <div className={s.userBox}>  \r\n                    <img src={props.profileImage} alt=\"\"/>\r\n                    <span>{props.login}</span>\r\n                </div> : <div></div> }\r\n                <div>\r\n                    <img src={cub} alt=\"\"/>\r\n                </div>\r\n                <div>\r\n                    {props.isAuth ? <button onClick={props.logout}>LogOut</button> \r\n                    : <div><NavLink to=\"/login\">Login</NavLink></div>}\r\n                </div>\r\n            </header>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { logout } from './../../redux/authMeReducer';\r\nimport { stateType } from '../../redux/redux-store';\r\n\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    profileImage: string | null\r\n}\r\n\r\ntype mapDipatchToPropsType = {\r\n    logout: () => void\r\n}\r\n\r\ntype OwnProps = {\r\n\r\n}\r\n\r\ntype MyProps = mapStateToPropsType & mapDipatchToPropsType & OwnProps\r\n\r\nclass HeaderContainer extends React.Component<MyProps>{\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n    \r\n}\r\n\r\nlet mapStateToProps = (state: stateType): mapStateToPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        profileImage: state.auth.userImage\r\n    }\r\n}\r\n\r\nexport default connect<mapStateToPropsType, mapDipatchToPropsType, OwnProps, stateType>\r\n(mapStateToProps, { logout})(HeaderContainer);","import React, { FunctionComponent }from 'react';\r\nimport {Field, reduxForm, InjectedFormProps} from 'redux-form';\r\nimport { Input } from '../../utilities/ReduxForm/Form';\r\nimport { required } from '../../utilities/validator/validator';\r\nimport { Redirect } from 'react-router-dom';\r\nimport s from './../../utilities/ReduxForm/ReduxForm.module.scss';\r\n\r\ntype IFormProps = {\r\n    handleSubmit: () => void,\r\n    error: string,\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n    captcha: string\r\n}\r\n\r\ntype IDispatchProps = {\r\n    captchaUrl: string\r\n}\r\n\r\nlet LoginForm = (props: IDispatchProps & InjectedFormProps<IFormProps, IDispatchProps>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div onSubmit={props.handleSubmit}>\r\n                <Field placeholder=\"Email\" name=\"email\" component={Input} validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder=\"Password\" suggested=\"current-password\" name=\"password\" component={Input} type=\"password\" validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field type=\"checkbox\" name=\"rememberMe\" component={Input}/> Remember me\r\n            </div>\r\n            {props.error && <div className={s.commonError}> {props.error} </div>}\r\n            {props.captchaUrl && <img src={props.captchaUrl} alt=\"asd\"/>}\r\n            { props.captchaUrl && <div>\r\n                <Field placeholder=\"Input symbols of image\" name=\"captcha\" component={Input} validate={[required]}/>\r\n            </div> }\r\n            <div>\r\n                <button>Login</button>\r\n            </div> \r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nlet LoginReduxForm = reduxForm<IFormProps, IDispatchProps>({form: 'login'})(LoginForm);\r\n\r\ntype propsInter = {\r\n    login: (email: string, password: string, rememberMe: boolean, captcha: string) => void,\r\n    isAuth: boolean\r\n    captchaUrl: string\r\n}\r\n\r\ntype formDataType = {\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n    captcha: string\r\n}\r\n\r\n\r\n\r\nlet Login: FunctionComponent<propsInter> = (props) => {\r\n    let onSubmit = (formData: formDataType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    }\r\n\r\n    if(props.isAuth) return <Redirect to=\"/profile\" />\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport Login from './Login';\r\nimport { connect } from 'react-redux';\r\nimport { login } from './../../redux/authMeReducer';\r\nimport { stateType } from '../../redux/redux-store';\r\n\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean,\r\n    captchaUrl: string\r\n}\r\n\r\ntype mapDispatchToPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean, captcha: string) => void,\r\n}\r\n\r\ntype OwnProps = {\r\n\r\n}\r\n\r\ntype PropsType = mapStateToPropsType & mapDispatchToPropsType & OwnProps\r\n\r\nclass LoginContainer extends React.Component<PropsType> {\r\n    render() {\r\n        return <Login login={this.props.login} isAuth={this.props.isAuth} captchaUrl={this.props.captchaUrl}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: any) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl\r\n    }\r\n}\r\n\r\nexport default connect<mapStateToPropsType, mapDispatchToPropsType, OwnProps, stateType>\r\n(mapStateToProps,{login})(LoginContainer);","import React from \"react\";\r\n\r\nexport const withSuspense = (Component: any) => {\r\n    return (props: any) => {\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    }\r\n}\r\n\r\n","import React, { FunctionComponent } from 'react';\nimport s from './App.module.scss';\nimport NavBar from './component/NavBar/NavBar';\nimport { Route, HashRouter, Switch, Redirect } from 'react-router-dom';\nimport UserContainer from './component/Users/UsersContainer';\nimport HeaderContainer from './component/Header/HeaderContainer';\nimport LoginContainer from './component/Login/LoginContainer';\nimport { initializeApp } from './redux/appReducer';\nimport { connect, Provider } from 'react-redux';\nimport Preloader from './component/common/Preloader/Preloader';\nimport store, { stateType } from './redux/redux-store';\nimport { withSuspense } from './hoc/withSuspense';\n\nconst ProfileContainer = React.lazy(() => import('./component/Profile/ProfileContainer'));\nconst DialogContainer = React.lazy(() => import('./component/Dialog/DialogContainer'));\n\ntype mapStateToPropsType = {\n  appInitialized: boolean\n}\ntype mapDispatchToPropsType = {\n  initializeApp: () => void\n}\n\n\ntype PropsType = mapStateToPropsType & mapDispatchToPropsType\n\nclass App extends React.Component<PropsType> {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n\n  render() {\n    if(!this.props.appInitialized) return <Preloader />\n\n    return (\n      <div className={s.container}>\n        <div className={s.header}></div>\n        <HashRouter> {// Instead of hashRouter i was used BrowserRouter, but BrowserRouter is working incorrect with \n                      // GitHub pages\n                    }\n          <div className={s.app_wrapper}>\n            <HeaderContainer />\n            <NavBar/>\n            <div className={s.content}>\n              <Switch>\n                <Route exact path=\"/\" render={() => <Redirect to=\"/profile\" />}/>\n                <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}/>\n                <Route path=\"/dialog\" render={withSuspense(DialogContainer)}/>\n                <Route path=\"/users\" render={() => <UserContainer />} />\n                <Route path=\"/login\" render={() => <LoginContainer />} />\n                <Route path=\"*\" render={() => <div>404 Page not Found</div>}/>\n              </Switch>\n            </div>\n          </div>\n      </HashRouter>\n      </div>\n    );\n  }\n}\n\nlet mapStateToProps = (state: stateType): mapStateToPropsType => {\n  return {\n    appInitialized: state.app.initialazed\n  }\n}\n\nlet AppContainer =  connect<mapStateToPropsType, mapDispatchToPropsType, {}, stateType>\n(mapStateToProps, {initializeApp})(App);\n\ntype SocialApp = {}\n\nlet SocialApp: FunctionComponent<SocialApp> = (props) => {\n  return <Provider store={store}>\n    <AppContainer />\n  </Provider>\n}\n\nexport default SocialApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport store from './redux/redux-store';\nimport SocialApp from './App';\n\nlet rerenderEntireTree = (state: any): void => {\n    ReactDOM.render(<SocialApp />, document.getElementById('root'));\n}\nrerenderEntireTree(store.getState());\n\nstore.subscribe(() => {\n    let state = store.getState();\n    rerenderEntireTree(state);\n});","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"ReduxForm_error__233NZ\",\"commonError\":\"ReduxForm_commonError__cBGbG\",\"errorText\":\"ReduxForm_errorText__1DGgE\"};","import { meThunk, authMeActions } from './authMeReducer';\r\nimport { getProfileThunk } from './profileReducer';\r\nimport { stateType, InferActionsTypes } from './redux-store';\r\n\r\ntype ActionsType = InferActionsTypes<typeof appActions>\r\n\r\nexport const appActions = {\r\n    InitializedSuccess: () => ({type: 'SUCCESS_INITIALIZING' } as const)\r\n}\r\n\r\ntype getStateType = () => stateType\r\n// type dispatchType = Dispatch<ActioType>\r\n\r\nexport const initializeApp = () => async (dispatch: any, getState: getStateType) => {\r\n    let result = await dispatch(meThunk())\r\n    if(result !== 1) { // If user is authorized\r\n        let userId = getState().auth.userId;\r\n        let profile = await dispatch(getProfileThunk(userId))\r\n        dispatch(authMeActions.setUserFoto(profile.data.photos.small)) //Add foto of ayhorized user to store\r\n    }   \r\n    dispatch(appActions.InitializedSuccess()) \r\n}\r\n\r\ntype InicialStateType = {\r\n    initialazed: boolean\r\n}\r\n\r\nlet initialState: InicialStateType = {\r\n    initialazed: false\r\n}\r\n\r\nlet appReducer = (state = initialState , action: ActionsType): InicialStateType => {\r\n    switch (action.type) {\r\n        case 'SUCCESS_INITIALIZING':\r\n            return {\r\n                ...state,\r\n                initialazed: true\r\n            }\r\n        default:\r\n           return state\r\n    }\r\n}\r\n\r\nexport default appReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginatorBox\":\"Paginator_paginatorBox__1XIWO\",\"selectedPage\":\"Paginator_selectedPage__aL2Pb\",\"paginationItem\":\"Paginator_paginationItem__1uHLo\",\"btn\":\"Paginator_btn__1ItAy\"};","import React, { FunctionComponent } from 'react';\r\nimport s from './ReduxForm.module.scss';\r\nimport { WrappedFieldProps } from 'redux-form';\r\n\r\nexport const Textarea: FunctionComponent<WrappedFieldProps> = ({input, meta, ...props}) => {\r\n    let hasError = meta.error && meta.touched;\r\n   return (<div>\r\n        <textarea className={hasError ? s.error : \"\"} {...input} {...props}/>\r\n        {hasError && <span className={s.errorText}>{meta.error}</span>}\r\n   </div>)\r\n}\r\n\r\nexport const Input: FunctionComponent<WrappedFieldProps> = ({input, meta, ...props}) => {\r\n    let hasError = meta.error && meta.touched;\r\n   return (<div>\r\n        <input className={hasError ? s.error : \"\"} {...input} {...props}/>\r\n        {hasError && <span className={s.errorText}>{meta.error}</span>}\r\n   </div>)\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__3z5rM\",\"header\":\"App_header__2qVPg\",\"app_wrapper\":\"App_app_wrapper__1LIpW\",\"content\":\"App_content__19Ox-\"};","import { authMeActions } from './authMeReducer';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport { profileInfoType, photosType, postDataType } from './../types/types';\r\nimport { usersAPI, profileAPI, resultCodeEnum } from \"../dal/dal\";\r\nimport { stopSubmit } from \"redux-form\";\r\nimport { InferActionsTypes, stateType } from './redux-store';\r\nimport { AxiosResponse } from 'axios';\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof profileActions>\r\n\r\nexport const profileActions = {\r\n    addPostActionCreator: (postBody: string) => ({ type: 'ADD_POST', postBody } as const),\r\n    setPofileInfo: (profile: profileInfoType) => ({ type: 'SET_PROFILE_INFO', profile } as const),\r\n    setUserStatus: (status: string) => ({ type: 'SET_STATUS', status } as const),\r\n    deletePost: (postId: number) => ({ type: 'DELETE_POST', postId } as const),\r\n    savePhotoSuccess: (photoFile: photosType) => ({ type: 'SAVE_PHOTO', photoFile } as const),\r\n    setUserFoto: authMeActions.setUserFoto\r\n}\r\n\r\ntype DispatchType = ThunkAction<Promise<void | resultCodeEnum | null | AxiosResponse<profileInfoType>>, stateType, unknown, ActionsTypes >\r\n\r\nexport const getProfileThunk = (userId: number | null): DispatchType => async (dispatch) => {\r\n    const response = await usersAPI.getProfile(userId);\r\n    dispatch(profileActions.setPofileInfo(response.data));\r\n    return response;\r\n}\r\n\r\nexport const getUserStatusThunk = (userId: number): DispatchType => async (dispatch) => {\r\n    const response = await profileAPI.getUserStatus(userId)\r\n    dispatch(profileActions.setUserStatus(response.data))\r\n    \r\n}\r\n\r\nexport const updateUserStatusThunk = (status: string): DispatchType => async (dispatch) => {\r\n    const response = await profileAPI.updateUserStatus(status)\r\n    if(response.data.resultCode === resultCodeEnum.Success) {\r\n        dispatch(profileActions.setUserStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (photo: File): DispatchType => async (dispatch) => { //Update image of user account\r\n    const responseData = await profileAPI.savePhoto(photo)\r\n    if(responseData.resultCode === resultCodeEnum.Success) {\r\n        dispatch(profileActions.savePhotoSuccess(responseData.data.photos))\r\n        dispatch(authMeActions.setUserFoto(responseData.data.photos.small))\r\n    }\r\n}\r\n\r\n\r\nexport const saveProfileInfo = (profile: profileInfoType): DispatchType => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfileInfo(profile)\r\n    if(response.data.resultCode === resultCodeEnum.Success) {\r\n        dispatch(getProfileThunk(userId))\r\n    } else {\r\n        const errorMessage = response.data.messages[0];\r\n        let field = errorMessage.indexOf(\"Contacts->\") + 10;\r\n        if(field === 9) { // Handle general error\r\n            //@ts-ignore\r\n            dispatch(stopSubmit(\"profileData\", {_error: errorMessage}));\r\n        } else { // Handle error of some social network link\r\n            let socialNetworkName = errorMessage.substr(field, errorMessage.length - field - 1).toLowerCase();\r\n            let objError: Record<string, any> = {};\r\n            objError[socialNetworkName] = errorMessage;\r\n            const object = {\"contacts\": objError}\r\n            //@ts-ignore\r\n            dispatch(stopSubmit(\"profileData\", object));\r\n        }\r\n        return Promise.reject(errorMessage)\r\n    }\r\n}\r\n\r\n\r\ntype profileStateType = typeof initialState;\r\n\r\nlet initialState = {\r\n    PostData: [\r\n        { id: 1, text: \"Super puper ninja 1\", like: 4 },\r\n        { id: 2, text: \"OMG I'm in Internet\", like: 2 },\r\n        { id: 3, text: \"Join to my way of samurai\", like: 13 }\r\n    ] as Array<postDataType>,\r\n    profileInfo: null as profileInfoType | null,\r\n    status: \"\"\r\n}\r\n\r\nlet profileReducer = (state = initialState, action: ActionsTypes): profileStateType => {\r\n    switch (action.type) {\r\n        case 'ADD_POST': {\r\n            let newPost: postDataType = {\r\n                id: state.PostData.length + 1,\r\n                text: action.postBody,\r\n                like: 0\r\n            };\r\n            return { ...state,\r\n                PostData: [...state.PostData, newPost]\r\n            }\r\n        }\r\n        case 'DELETE_POST': \r\n            return {...state, PostData: state.PostData.filter( (p: any) => p.id !== action.postId)}\r\n        case 'SET_PROFILE_INFO': \r\n            return {\r\n                ...state,\r\n                profileInfo: {...action.profile}\r\n            }\r\n        case 'SET_STATUS': \r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case 'SAVE_PHOTO': \r\n            return {\r\n                ...state,\r\n                //@ts-ignore\r\n                profileInfo: {...state.profileInfo, photos: action.photoFile}\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import React, { FunctionComponent } from 'react';\r\nimport preloader from '../../../assets/img/preloader.gif';\r\n\r\ninterface propsInterface {\r\n\r\n}\r\n\r\nlet Preloader: FunctionComponent<propsInterface> = (props) => {\r\n    return <div>\r\n        <img src={preloader} alt=\"\"/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","export const required = (value: any) => {\r\n    if(value) return undefined;\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLength = (length: number) => (value: any) => {\r\n    if(value.length > length) return `Max length is ${length} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userBox\":\"Users_userBox__3CZSm\",\"avatar\":\"Users_avatar__sR2i7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3AoGm\",\"userBox\":\"Header_userBox__QXeqq\"};","import { InferActionsTypes } from './redux-store';\r\nimport { DialogItemDataType, DialogMessageDataType } from './../types/types';\r\n\r\ntype ActionsType = InferActionsTypes<typeof DialogActions>\r\n\r\nexport const DialogActions = {\r\n    addMessageActionCreator: (messageBody: string) => ({ type: 'ADD_MESSAGE', messageBody } as const)\r\n}\r\n\r\n\r\ntype stateType = typeof initialState;\r\n\r\nlet initialState = {\r\n    DialogItemData: [\r\n        { id: 1, name: \"User 1\" },\r\n        { id: 2, name: \"User 2\" },\r\n        { id: 3, name: \"User 3\" },\r\n        { id: 4, name: \"User 4\" },\r\n        { id: 5, name: \"User 5\" },\r\n        { id: 6, name: \"User 6\" }\r\n    ] as Array<DialogItemDataType>,\r\n    DialogMessageData: [\r\n        { id: 1, text: \"PrePrePre\" },\r\n        { id: 2, text: \"PrePrePrePrePrePrePrePrePre\" },\r\n        { id: 3, text: \"OMG, i am in YouTube\" }\r\n    ] as Array<DialogMessageDataType>\r\n}\r\n\r\nlet dialogReducer = (state = initialState, action: ActionsType): stateType => {\r\n    switch (action.type) {\r\n        case 'ADD_MESSAGE':\r\n            return {\r\n                ...state,\r\n                DialogMessageData: [...state.DialogMessageData, {\r\n                    id: state.DialogMessageData.length + 1,\r\n                    text: action.messageBody }],\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default dialogReducer;"],"sourceRoot":""}