(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{103:function(e,t,n){e.exports={userBox:"Users_userBox__3CZSm",avatar:"Users_avatar__sR2i7"}},104:function(e,t,n){e.exports={header:"Header_header__3AoGm",userBox:"Header_userBox__QXeqq"}},107:function(e,t,n){e.exports=n.p+"static/media/user.5e1a27cf.jpeg"},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(37),r=n(4),u={addMessageActionCreator:function(e){return{type:"ADD_MESSAGE",messageBody:e}}},c={DialogItemData:[{id:1,name:"User 1"},{id:2,name:"User 2"},{id:3,name:"User 3"},{id:4,name:"User 4"},{id:5,name:"User 5"},{id:6,name:"User 6"}],DialogMessageData:[{id:1,text:"First message"},{id:2,text:"This part of social network is just simulation"},{id:3,text:"This is static message"}]};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return Object(r.a)(Object(r.a)({},e),{},{DialogMessageData:[].concat(Object(a.a)(e.DialogMessageData),[{id:e.DialogMessageData.length+1,text:t.messageBody}])});default:return e}}},150:function(e,t,n){e.exports=n.p+"static/media/preloader.4c140210.gif"},151:function(e,t,n){e.exports={preloaderImg:"Preloader_preloaderImg__KVjXn"}},153:function(e,t){e.exports="data:image/png;base64,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"},179:function(e,t,n){e.exports=n(302)},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return m}));var a=n(4),r=n(6),u=n.n(r),c=n(12),o=n(9),i=n(41),s=n(48),l={setUserData:function(e,t,n,a){return{type:"SET_USER_DATA",payload:{userId:e,login:t,email:n,isAuth:a}}},getCaptchaUrlSuccess:function(e){return{type:"GET_CAPTCHA_URL",payload:{captchaUrl:e}}},setUserFoto:function(e){return{type:"GET_USER_IMAGE",userImage:e}}},p=function(){return function(){var e=Object(c.a)(u.a.mark((function e(t){var n,a,r,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.me();case 2:if((n=e.sent).resultCode!==o.c.Success){e.next=8;break}a=n.data,r=a.id,c=a.login,i=a.email,t(l.setUserData(r,c,i,!0)),e.next=9;break;case 8:return e.abrupt("return",n.resultCode);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e,t,n,a){return function(){var r=Object(c.a)(u.a.mark((function r(c){var l,p;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.a.login(e,t,n,a);case 2:(l=r.sent).resultCode===o.c.Success?c(Object(s.b)()):(l.resultCode===o.d.CaptchaRequired&&c(d()),p=l.messages,c(Object(i.a)("login",{_error:p})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},m=function(){return function(){var e=Object(c.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.logout();case 2:(n=e.sent).resultCode===o.c.Success?t(l.setUserData(null,null,null,!1)):console.log(n.messages);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(){return function(){var e=Object(c.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.e.getCaptcha();case 2:n=e.sent,a=n.url,t(l.getCaptchaUrlSuccess(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null,userImage:null};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":case"GET_CAPTCHA_URL":return Object(a.a)(Object(a.a)({},e),t.payload);case"GET_USER_IMAGE":return Object(a.a)(Object(a.a)({},e),{},{userImage:t.userImage});default:return e}}},27:function(e,t,n){e.exports={nav:"NavBar_nav__1MHgl",item:"NavBar_item__3TPM-",active:"NavBar_active__2gaxY"}},302:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(75),c=n.n(u),o=n(10),i=n(110),s=n(65),l=n(37),p=n(4),f={sidebarData:[{id:1,text:"Hay que terminar React.ts"}],newNoteText:""},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTE":return Object(p.a)(Object(p.a)({},e),{},{sidebarData:[].concat(Object(l.a)(e.sidebarData),[{id:e.sidebarData.length+1,text:e.newNoteText}]),newNoteText:""});case"CHANGE_NOTE_MESSAGE":return Object(p.a)(Object(p.a)({},e),{},{newNoteText:t.text});default:return e}},d=n(6),h=n.n(d),b=n(12),g=function(e,t,n,a){return e.map((function(e){return e[t]===n?Object(p.a)(Object(p.a)({},e),a):e}))},E=n(9),v=function(e){return{type:"FOLLOW",userId:e}},O=function(e){return{type:"UNFOLLOW",userId:e}},A=function(e){return{type:"SET_USERS",users:e}},w=function(e){return{type:"SET_CURRENT_PAGE",page:e}},S=function(e){return{type:"SET_FILTER",payload:e}},j=function(e){return{type:"SET_USERS_COUNT",count:e}},I=function(e){return{type:"SET_FETCHING",value:e}},y=function(e,t){return{type:"DISABLE_USERS",isDisable:e,usersId:t}},x=function(){var e=Object(b.a)(h.a.mark((function e(t,n,a,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(y(!0,n)),e.next=3,a(n);case 3:e.sent.resultCode===E.c.Success&&(t(y(!1,n)),t(r(n)));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),P={users:[],usersCount:0,pageSize:5,currentPage:1,isFetching:!0,disableUsers:[],filter:{term:"",friend:null}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(p.a)(Object(p.a)({},e),{},{users:g(e.users,["id"],t.userId,{followed:!0})});case"UNFOLLOW":return Object(p.a)(Object(p.a)({},e),{},{users:g(e.users,["id"],t.userId,{followed:!1})});case"SET_USERS":return Object(p.a)(Object(p.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(p.a)(Object(p.a)({},e),{},{currentPage:t.page});case"SET_USERS_COUNT":return Object(p.a)(Object(p.a)({},e),{},{usersCount:t.count});case"SET_FETCHING":return Object(p.a)(Object(p.a)({},e),{},{isFetching:t.value});case"DISABLE_USERS":return Object(p.a)(Object(p.a)({},e),{},{disableUsers:t.isDisable?[].concat(Object(l.a)(e.disableUsers),[t.usersId]):e.disableUsers.filter((function(e){return e!==t.usersId}))});case"SET_FILTER":return Object(p.a)(Object(p.a)({},e),{},{filter:t.payload});default:return e}},_=n(21),C=n(143),k=n(141),D=n(48),T=n(144),N=Object(o.combineReducers)({dialogPage:i.b,profilePage:s.a,sidebarPage:m,usersPage:U,auth:_.b,form:k.a,app:D.a}),F=Object(o.createStore)(N,Object(T.composeWithDevTools)(Object(o.applyMiddleware)(C.a))),M=n(46),R=n(32),G=n(33),B=n(35),L=n(34),H=n(40),z=n.n(H),V=n(27),J=n.n(V),q=n(20),Q=function(e){return r.a.createElement("div",{className:J.a.nav},r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(q.b,{to:"/profile",className:J.a.item,activeClassName:J.a.active},"Profile")),r.a.createElement("li",null,r.a.createElement(q.b,{to:"/dialog",className:J.a.item,activeClassName:J.a.active},"Messages")),r.a.createElement("li",null,r.a.createElement(q.b,{to:"/users",className:J.a.item,activeClassName:J.a.active},"Users")),r.a.createElement("li",null,r.a.createElement(q.b,{to:"/setting",className:J.a.item,activeClassName:J.a.active},"Settings")))))},X=n(39),W=n(17),Z=n(108),K=n(52),Y=n.n(K),$=n(76),ee=n.n($),te=function(e){for(var t=Math.ceil(e.itemCount/e.pageSize),n=[],u=1;u<=t;u++)n.push(u);var c=Math.ceil(t/10),o=Object(a.useState)(1),i=Object(Z.a)(o,2),s=i[0],l=i[1],p=10*(s-1)+1,f=10*s;return r.a.createElement("div",{className:Y.a.paginatorBox},r.a.createElement("button",{className:Y.a.btn,disabled:s<=1,onClick:function(){l(s-1)}},"Prev"),n.filter((function(e){return e>=p&&e<=f})).map((function(t){return r.a.createElement("span",{key:t,className:ee()(Y.a.paginationItem,Object(M.a)({},Y.a.selectedPage,e.currentPage===t)),onClick:function(n){e.onPaginationClick(t)}},t)})),r.a.createElement("button",{className:Y.a.btn,onClick:function(){l(s+1)},disabled:s>=c},"Next"))},ne=n(103),ae=n.n(ne),re=n(107),ue=n.n(re),ce=function(e){return r.a.createElement("div",{className:ae.a.userBox},r.a.createElement("div",null,r.a.createElement(q.b,{to:"/profile/"+e.userData.id},r.a.createElement("img",{src:null!=e.userData.photos.small?e.userData.photos.small:ue.a,alt:"",className:ae.a.avatar})),e.userData.followed?r.a.createElement("button",{disabled:e.disableUsers.some((function(t){return t===e.userData.id})),onClick:function(){e.unfollowThunk(e.userData.id)}},"Unfollow"):r.a.createElement("button",{disabled:e.disableUsers.some((function(t){return t===e.userData.id}))&&e.isAuth,onClick:function(){e.followThunk(e.userData.id)}},"Follow")),r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("b",null,"User name:")," ",e.userData.name),r.a.createElement("span",null,r.a.createElement("b",null,"Satus:")," ",e.userData.status||"-----")))},oe=n(64),ie=r.a.memo((function(e){return r.a.createElement("div",null,r.a.createElement(oe.c,{initialValues:{term:"",friend:"null"},onSubmit:function(t,n){var a=n.setSubmitting,r={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterApply(r),a(!1)}},(function(e){var t=e.isSubmitting;return r.a.createElement(oe.b,null,r.a.createElement(oe.a,{type:"text",name:"term"}),r.a.createElement(oe.a,{name:"friend",as:"select"},r.a.createElement("option",{value:"null"},"All"),r.a.createElement("option",{value:"true"},"Only followed"),r.a.createElement("option",{value:"false"},"Onlu Unfolowed")),r.a.createElement("button",{type:"submit",disabled:t},"Find"))})))})),se=function(e){return r.a.createElement("div",null,r.a.createElement(ie,{onFilterApply:e.onFilterApply}),r.a.createElement(te,{itemCount:e.usersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPaginationClick:e.onPaginationClick}),e.users.map((function(t){return r.a.createElement(ce,{disableUsers:e.disableUsers,isAuth:e.isAuth,unfollowThunk:e.unfollowThunk,followThunk:e.followThunk,key:t.id,userData:t})})))},le=n(77),pe=n(152),fe=Object(pe.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),me=function(e){return e.usersPage.usersCount},de=function(e){return e.usersPage.pageSize},he=function(e){return e.usersPage.currentPage},be=function(e){return e.usersPage.isFetching},ge=function(e){return e.usersPage.disableUsers},Ee=function(e){return e.auth.isAuth},ve=function(e){return e.usersPage.filter},Oe=function(e){Object(B.a)(n,e);var t=Object(L.a)(n);function n(){var e;Object(R.a)(this,n);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(e=t.call.apply(t,[this].concat(r))).onPaginationClick=function(t){e.props.getUsersThunk(t,e.props.pageSize,e.props.filter)},e.onFilterApply=function(t){e.props.getUsersThunk(1,e.props.pageSize,t)},e}return Object(G.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsersThunk(t,n,this.props.filter)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(le.a,null):r.a.createElement(se,{users:this.props.users,usersCount:this.props.usersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,isAuth:this.props.isAuth,onPaginationClick:this.onPaginationClick,disableUsers:this.props.disableUsers,unfollowThunk:this.props.unfollowThunk,followThunk:this.props.followThunk,onFilterApply:this.onFilterApply}))}}]),n}(r.a.Component),Ae=Object(W.b)((function(e){return{users:fe(e),usersCount:me(e),pageSize:de(e),currentPage:he(e),isFetching:be(e),disableUsers:ge(e),isAuth:Ee(e),filter:ve(e)}}),{getUsersThunk:function(e,t,n){return function(){var a=Object(b.a)(h.a.mark((function a(r){var u;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(I(!0)),a.next=3,E.f.getUsers(e,t,n.term,n.friend);case 3:null===(u=a.sent).error&&(r(A(u.items)),r(j(u.totalCount)),r(w(e)),r(S(n)),r(I(!1)));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},unfollowThunk:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(n,e,E.f.unfollow,O);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},followThunk:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(n,e,E.f.follow,v);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Oe),we=n(104),Se=n.n(we),je=n(153),Ie=n.n(je),ye=function(e){return r.a.createElement("div",{className:Se.a.header},r.a.createElement("header",null,e.isAuth&&e.profileImage?r.a.createElement("div",{className:Se.a.userBox},r.a.createElement("img",{src:e.profileImage,alt:""}),r.a.createElement("span",null,e.login)):r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("img",{src:Ie.a,alt:""})),r.a.createElement("div",null,e.isAuth?r.a.createElement("button",{onClick:e.logout},"LogOut"):r.a.createElement("div",null,r.a.createElement(q.b,{to:"/login"},"Login")))))},xe=function(e){Object(B.a)(n,e);var t=Object(L.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"render",value:function(){return r.a.createElement(ye,this.props)}}]),n}(r.a.Component),Pe=Object(W.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,profileImage:e.auth.userImage}}),{logout:_.d})(xe),Ue=n(139),_e=n(140),Ce=n(57),ke=n(78),De=n(38),Te=n.n(De),Ne=Object(_e.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{onSubmit:e.handleSubmit},r.a.createElement(Ue.a,{placeholder:"Email",name:"email",component:Ce.a,validate:[ke.b]})),r.a.createElement("div",null,r.a.createElement(Ue.a,{placeholder:"Password",suggested:"current-password",name:"password",component:Ce.a,type:"password",validate:[ke.b]})),r.a.createElement("div",null,r.a.createElement(Ue.a,{type:"checkbox",name:"rememberMe",component:Ce.a})," Remember me"),e.error&&r.a.createElement("div",{className:Te.a.commonError}," ",e.error," "),e.captchaUrl&&r.a.createElement("img",{src:e.captchaUrl,className:Te.a.captchaImg,alt:"captch"}),e.captchaUrl&&r.a.createElement("div",null,r.a.createElement(Ue.a,{placeholder:"Input symbols of image",name:"captcha",component:Ce.a,validate:[ke.b]})),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))})),Fe=function(e){return e.isAuth?r.a.createElement(X.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(Ne,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl}))},Me=function(e){Object(B.a)(n,e);var t=Object(L.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"render",value:function(){return r.a.createElement(Fe,{login:this.props.login,isAuth:this.props.isAuth,captchaUrl:this.props.captchaUrl})}}]),n}(r.a.Component),Re=Object(W.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:_.c})(Me),Ge=function(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(e,t))}},Be=r.a.lazy((function(){return n.e(3).then(n.bind(null,317))})),Le=r.a.lazy((function(){return n.e(4).then(n.bind(null,318))})),He=function(e){Object(B.a)(n,e);var t=Object(L.a)(n);function n(){var e;Object(R.a)(this,n);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(e=t.call.apply(t,[this].concat(r))).state={isOpenMenu:!1},e}return Object(G.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){var e=this;return this.props.appInitialized?r.a.createElement("div",{className:z.a.container},r.a.createElement("button",{className:z.a.menu,onClick:function(){return e.setState({isOpenMenu:!e.state.isOpenMenu})}},"\u2630"),r.a.createElement("div",{className:z.a.header}),r.a.createElement(q.a,null," ",r.a.createElement("div",{className:z.a.app_wrapper},r.a.createElement(Pe,null),r.a.createElement("div",{className:ee()(z.a.navBar,Object(M.a)({},z.a.mobileNavBar,this.state.isOpenMenu))},r.a.createElement(Q,null)),r.a.createElement("div",{className:z.a.content},r.a.createElement(X.d,null,r.a.createElement(X.b,{exact:!0,path:"/",render:function(){return r.a.createElement(X.a,{to:"/profile"})}}),r.a.createElement(X.b,{path:"/profile/:userId?",render:Ge(Be)}),r.a.createElement(X.b,{path:"/dialog",render:Ge(Le)}),r.a.createElement(X.b,{path:"/users",render:function(){return r.a.createElement(Ae,null)}}),r.a.createElement(X.b,{path:"/login",render:function(){return r.a.createElement(Re,null)}}),r.a.createElement(X.b,{path:"*",render:function(){return r.a.createElement("div",null,"404 Page not Found")}})))))):r.a.createElement(le.a,null)}}]),n}(r.a.Component),ze=Object(W.b)((function(e){return{appInitialized:e.app.initialazed}}),{initializeApp:D.b})(He),Ve=function(e){return r.a.createElement(W.a,{store:F},r.a.createElement(ze,null))},Je=function(e){c.a.render(r.a.createElement(Ve,null),document.getElementById("root"))};Je(F.getState()),F.subscribe((function(){F.getState();Je()}))},38:function(e,t,n){e.exports={error:"ReduxForm_error__233NZ",commonError:"ReduxForm_commonError__cBGbG",errorText:"ReduxForm_errorText__1DGgE",captchaImg:"ReduxForm_captchaImg__2FHiG"}},40:function(e,t,n){e.exports={container:"App_container__3z5rM",menu:"App_menu__1RU7z",header:"App_header__2qVPg",app_wrapper:"App_app_wrapper__1LIpW",content:"App_content__19Ox-",navBar:"App_navBar__19uDn",mobileNavBar:"App_mobileNavBar__3a9zf"}},48:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var a=n(4),r=n(6),u=n.n(r),c=n(12),o=n(21),i=n(65),s=function(){return{type:"SUCCESS_INITIALIZING"}},l=function(){return function(){var e=Object(c.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(o.e)());case 2:if(1===e.sent){e.next=9;break}return a=n().auth.userId,e.next=7,t(Object(i.b)(a));case 7:r=e.sent,t(o.a.setUserFoto(r.photos.small));case 9:t(s());case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},p={initialazed:!1};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESS_INITIALIZING":return Object(a.a)(Object(a.a)({},e),{},{initialazed:!0});default:return e}}},52:function(e,t,n){e.exports={paginatorBox:"Paginator_paginatorBox__1XIWO",selectedPage:"Paginator_selectedPage__aL2Pb",paginationItem:"Paginator_paginationItem__1uHLo",btn:"Paginator_btn__1ItAy",captchaImg:"Paginator_captchaImg__28son"}},57:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(100),r=n(0),u=n.n(r),c=n(38),o=n.n(c),i=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]),c=n.error&&n.touched;return u.a.createElement("div",null,u.a.createElement("textarea",Object.assign({className:c?o.a.error:""},t,r)),c&&u.a.createElement("span",{className:o.a.errorText},n.error))},s=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]),c=n.error&&n.touched;return u.a.createElement("div",null,u.a.createElement("input",Object.assign({className:c?o.a.error:""},t,r)),c&&u.a.createElement("span",{className:o.a.errorText},n.error))}},65:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return b}));var a=n(37),r=n(4),u=n(6),c=n.n(u),o=n(12),i=n(21),s=n(9),l=n(41),p={addPostActionCreator:function(e){return{type:"ADD_POST",postBody:e}},setPofileInfo:function(e){return{type:"SET_PROFILE_INFO",profile:e}},setUserStatus:function(e){return{type:"SET_STATUS",status:e}},deletePost:function(e){return{type:"DELETE_POST",postId:e}},savePhotoSuccess:function(e){return{type:"SAVE_PHOTO",photoFile:e}},setUserFoto:function(e){return i.a.setUserFoto(e)}},f=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.getProfile(e);case 2:return a=t.sent,n(p.setPofileInfo(a)),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.getUserStatus(e);case 2:a=t.sent,n(p.setUserStatus(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.updateUserStatus(e);case 2:t.sent.resultCode===s.c.Success&&n(p.setUserStatus(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.savePhoto(e);case 2:(a=t.sent).resultCode===s.c.Success&&(n(p.savePhotoSuccess(a.data.photos)),n(i.a.setUserFoto(a.data.photos.small)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n,a){var r,u,o,i,p,m,d;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.userId,t.next=3,s.b.saveProfileInfo(e);case 3:if((u=t.sent).resultCode!==s.c.Success){t.next=8;break}f(r),t.next=12;break;case 8:return o=u.messages[0],9===(i=o.indexOf("Contacts->")+10)?n(Object(l.a)("profileData",{_error:o})):(p=o.substr(i,o.length-i-1).toLowerCase(),(m={})[p]=o,d={contacts:m},n(Object(l.a)("profileData",d))),t.abrupt("return",Promise.reject(o));case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},g={PostData:[{id:1,text:"Super puper ninja 1",like:4},{id:2,text:"OMG I'm in Internet",like:2},{id:3,text:"Join to my way of samurai",like:13}],profileInfo:null,status:""};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var n={id:e.PostData.length+1,text:t.postBody,like:0};return Object(r.a)(Object(r.a)({},e),{},{PostData:[].concat(Object(a.a)(e.PostData),[n])});case"DELETE_POST":return Object(r.a)(Object(r.a)({},e),{},{PostData:e.PostData.filter((function(e){return e.id!==t.postId}))});case"SET_PROFILE_INFO":return Object(r.a)(Object(r.a)({},e),{},{profileInfo:Object(r.a)({},t.profile)});case"SET_STATUS":return Object(r.a)(Object(r.a)({},e),{},{status:t.status});case"SAVE_PHOTO":return Object(r.a)(Object(r.a)({},e),{},{profileInfo:Object(r.a)(Object(r.a)({},e.profileInfo),{},{photos:t.photoFile})});default:return e}}},77:function(e,t,n){"use strict";var a=n(0),r=n.n(a),u=n(150),c=n.n(u),o=n(151),i=n.n(o);t.a=function(e){return r.a.createElement("div",null,r.a.createElement("img",{src:c.a,className:i.a.preloaderImg,alt:""}))}},78:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}}},9:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return l}));var a,r,u=n(142),c=n.n(u).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"fdd75b8c-6436-43ef-9820-ed9356461c34"}}),o={getUsers:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0;return c.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===a?"":"&friend=".concat(a))).then((function(e){return e.data}))},unfollow:function(e){return c.delete("follow/".concat(e)).then((function(e){return e.data}))},follow:function(e){return c.post("follow/".concat(e)).then((function(e){return e.data}))},getProfile:function(e){return console.warn("Obsolete method. Please use profileAPI."),i.getProfile(e)}},i={getProfile:function(e){return c.get("profile/".concat(e)).then((function(e){return e.data}))},getUserStatus:function(e){return c.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateUserStatus:function(e){return c.put("profile/status",{status:e}).then((function(e){return e.data}))},savePhoto:function(e){var t=new FormData;return t.append("image",e),c.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},saveProfileInfo:function(e){return c.put("profile",e).then((function(e){return e.data}))}};!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(a||(a={})),function(e){e[e.CaptchaRequired=10]="CaptchaRequired"}(r||(r={}));var s={me:function(){return c.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return c.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a}).then((function(e){return e.data}))},logout:function(){return c.delete("auth/login").then((function(e){return e.data}))}},l={getCaptcha:function(){return c.get("security/get-captcha-url").then((function(e){return e.data}))}}}},[[179,1,2]]]);
//# sourceMappingURL=main.7cad9a79.chunk.js.map