{"version":3,"sources":["component/Users/Users.module.scss","component/Header/Header.module.scss","assets/img/user.jpeg","redux/dialogReducer.ts","assets/img/preloader.gif","component/common/Preloader/Preloader.module.scss","assets/img/cub.png","redux/authMeReducer.ts","component/NavBar/NavBar.module.scss","redux/sidebarReducer.ts","utilities/objectHelpers/objectHelper.ts","redux/usersReducer.ts","redux/redux-store.ts","component/NavBar/NavBar.tsx","utilities/Paginator/Paginator.tsx","component/Users/User/User.tsx","component/UserSearchForm/UserSearchForm.tsx","component/Users/Users.tsx","redux/usersSelectors.ts","component/Users/UsersContainer.tsx","component/Header/Header.tsx","component/Header/HeaderContainer.tsx","component/Login/Login.tsx","component/Login/LoginContainer.tsx","hoc/withSuspense.tsx","App.tsx","index.tsx","utilities/ReduxForm/ReduxForm.module.scss","App.module.scss","redux/appReducer.ts","utilities/Paginator/Paginator.module.scss","utilities/ReduxForm/Form.tsx","redux/profileReducer.ts","component/common/Preloader/Preloader.tsx","utilities/validator/validator.ts","dal/dal.ts"],"names":["module","exports","DialogActions","addMessageActionCreator","messageBody","type","initialState","DialogItemData","id","name","DialogMessageData","text","dialogReducer","state","action","length","authMeActions","setUserData","userId","login","email","isAuth","payload","getCaptchaUrlSuccess","captchaUrl","setUserFoto","userImage","meThunk","dispatch","a","authApi","me","responsData","resultCode","resultCodeEnum","Success","data","password","rememberMe","captcha","initializeApp","resultCodeForCaptcha","CaptchaRequired","getCaptchaUrl","errorMessage","messages","stopSubmit","_error","logout","console","log","securityAPI","getCaptcha","url","authMeReducer","sidebarData","newNoteText","sidebarReducer","unfollowFollowChanging","items","itemId","actionId","newObject","map","u","userActions","users","page","filter","count","value","isDisable","usersId","followUnfollowFlow","userAPI","actionCreator","usersCount","pageSize","currentPage","isFetching","disableUsers","term","friend","usersReducer","followed","reducers","combineReducers","dialogPage","profilePage","profileReducer","sidebarPage","usersPage","auth","form","formReducer","app","appReducer","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","NavBar","props","className","s","nav","to","item","activeClassName","active","Paginator","pageCount","Math","ceil","itemCount","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","paginatorBox","btn","disabled","onClick","p","key","cn","paginationItem","selectedPage","e","onPaginationClick","User","userBox","userData","src","photos","small","userIcon","alt","avatar","some","unfollowThunk","followThunk","status","UserSearchForm","React","memo","initialValues","onSubmit","values","setSubmitting","onFilterApply","isSubmitting","as","Users","getUsersSelector","createSelector","getUserCount","getPageSize","getCurrentPage","getIsFetching","getDisableUsers","getFilter","UsersClassComponent","PageNumber","getUsersThunk","this","Preloader","Component","UserContainer","connect","usersAPI","getUsers","error","totalCount","unfollow","follow","Header","header","profileImage","cub","HeaderContainer","LoginReduxForm","reduxForm","handleSubmit","Field","placeholder","component","Input","validate","required","suggested","commonError","captchaImg","Login","formData","LoginContainer","withSuspense","Suspense","fallback","ProfileContainer","lazy","DialogContainer","App","isOpenMenu","appInitialized","container","menu","setState","app_wrapper","navBar","mobileNavBar","content","exact","path","render","AppContainer","initialazed","SocialApp","rerenderEntireTree","ReactDOM","document","getElementById","getState","subscribe","appActions","getProfileThunk","profile","Textarea","input","meta","hasError","touched","errorText","profileActions","addPostActionCreator","postBody","setPofileInfo","setUserStatus","deletePost","postId","savePhotoSuccess","photoFile","profileAPI","getProfile","response","getUserStatusThunk","getUserStatus","updateUserStatusThunk","updateUserStatus","savePhoto","photo","responseData","saveProfileInfo","field","indexOf","socialNetworkName","substr","toLowerCase","objError","object","Promise","reject","PostData","like","profileInfo","newPost","preloader","preloaderImg","maxLength","instance","Axios","create","withCredentials","baseURL","headers","get","then","delete","post","warn","put","FormData","append","res","result"],"mappings":"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","file":"static/js/main.7cad9a79.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userBox\":\"Users_userBox__3CZSm\",\"avatar\":\"Users_avatar__sR2i7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3AoGm\",\"userBox\":\"Header_userBox__QXeqq\"};","module.exports = __webpack_public_path__ + \"static/media/user.5e1a27cf.jpeg\";","import { InferActionsTypes } from './redux-store';\r\nimport { DialogItemDataType, DialogMessageDataType } from './../types/types';\r\n\r\ntype ActionsType = InferActionsTypes<typeof DialogActions>\r\n\r\nexport const DialogActions = {\r\n    addMessageActionCreator: (messageBody: string) => ({ type: 'ADD_MESSAGE', messageBody } as const)\r\n}\r\n\r\n\r\nexport type dialogStateType = typeof initialState;\r\n\r\nlet initialState = {\r\n    DialogItemData: [\r\n        { id: 1, name: \"User 1\" },\r\n        { id: 2, name: \"User 2\" },\r\n        { id: 3, name: \"User 3\" },\r\n        { id: 4, name: \"User 4\" },\r\n        { id: 5, name: \"User 5\" },\r\n        { id: 6, name: \"User 6\" }\r\n    ] as Array<DialogItemDataType>,\r\n    DialogMessageData: [\r\n        { id: 1, text: \"First message\" },\r\n        { id: 2, text: \"This part of social network is just simulation\" },\r\n        { id: 3, text: \"This is static message\" }\r\n    ] as Array<DialogMessageDataType>\r\n}\r\n\r\nlet dialogReducer = (state = initialState, action: ActionsType): dialogStateType => {\r\n    switch (action.type) {\r\n        case 'ADD_MESSAGE':\r\n            return {\r\n                ...state,\r\n                DialogMessageData: [...state.DialogMessageData, {\r\n                    id: state.DialogMessageData.length + 1,\r\n                    text: action.messageBody }],\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default dialogReducer;","module.exports = __webpack_public_path__ + \"static/media/preloader.4c140210.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderImg\":\"Preloader_preloaderImg__KVjXn\"};","module.exports = \"data:image/png;base64,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\"","import { InferActionsTypes, stateType } from './redux-store';\r\nimport { authApi, securityAPI, resultCodeEnum, resultCodeForCaptcha } from './../dal/dal';\r\nimport { stopSubmit } from 'redux-form';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport { initializeApp } from './appReducer';\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof authMeActions>;\r\n\r\nexport const authMeActions = {\r\n    setUserData: (userId: number | null, login: string  | null, email: string  | null, isAuth: boolean) =>\r\n    ({type: 'SET_USER_DATA', payload: {userId, login, email, isAuth} } as const),\r\n    getCaptchaUrlSuccess: (captchaUrl: string) =>\r\n    ({type: 'GET_CAPTCHA_URL', payload: {captchaUrl} } as const),\r\n    setUserFoto: (userImage: string) => ({type: 'GET_USER_IMAGE', userImage} as const)\r\n}\r\n\r\n\r\ntype DispatchType = ThunkAction<Promise<void | resultCodeEnum | null>, stateType, unknown, ActionsTypes>\r\n\r\nexport const meThunk = (): DispatchType => async (dispatch) => {\r\n    const responsData = await authApi.me();\r\n    if(responsData.resultCode === resultCodeEnum.Success) {\r\n        let {id, login, email} = responsData.data;\r\n        dispatch(authMeActions.setUserData(id, login, email, true));\r\n    } else {\r\n        return responsData.resultCode;\r\n    }\r\n}\r\n\r\nexport const login = \r\n(email: string, password: string, rememberMe: boolean, captcha: string): DispatchType => \r\nasync (dispatch) => {\r\n    const data = await authApi.login(email, password, rememberMe, captcha);\r\n    if(data.resultCode === resultCodeEnum.Success) {\r\n        // dispatch(meThunk());\r\n        dispatch(initializeApp());\r\n    } else {\r\n        if(data.resultCode === resultCodeForCaptcha.CaptchaRequired) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        let errorMessage = data.messages\r\n        //@ts-ignore\r\n        dispatch(stopSubmit('login', {_error: errorMessage}));\r\n    }\r\n}\r\n\r\nexport const logout = (): DispatchType => async (dispatch: any) => {\r\n    const data = await authApi.logout();\r\n    if(data.resultCode === resultCodeEnum.Success) {\r\n        dispatch(authMeActions.setUserData(null, null, null, false));\r\n    } else {\r\n        console.log(data.messages);\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = (): DispatchType => async (dispatch: any) => {\r\n    const data = await securityAPI.getCaptcha();\r\n    const url = data.url;\r\n    dispatch(authMeActions.getCaptchaUrlSuccess(url))\r\n}\r\n\r\nexport type authStateType = typeof initialState;\r\n\r\nlet initialState = {\r\n    userId: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false as boolean,\r\n    captchaUrl: null as string | null,\r\n    userImage: null as string | null\r\n}\r\n\r\nlet authMeReducer = (state = initialState , action: ActionsTypes): authStateType => {\r\n    switch (action.type) {\r\n        case 'SET_USER_DATA':\r\n        case 'GET_CAPTCHA_URL':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case 'GET_USER_IMAGE':\r\n            return {...state, userImage: action.userImage}\r\n        default:\r\n           return state\r\n    }\r\n}\r\n\r\nexport default authMeReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__1MHgl\",\"item\":\"NavBar_item__3TPM-\",\"active\":\"NavBar_active__2gaxY\"};","import { InferActionsTypes } from \"./redux-store\";\r\n\r\ntype ActionsType = InferActionsTypes<typeof sidebarActions>\r\n\r\n\r\nexport const sidebarActions = {\r\n    addNoteActionCreator: () => ({type: 'ADD_NOTE' } as const),\r\n    newNoteTextActionCreator: (text: string) => ({type: 'CHANGE_NOTE_MESSAGE', text: text} as const)\r\n}\r\n\r\ntype sidebarDataType = {\r\n    id: number,\r\n    text: string\r\n}\r\n\r\nlet initialState = {\r\n    sidebarData: [\r\n        { id: 1, text: \"Hay que terminar React.ts\" }\r\n    ] as Array<sidebarDataType>,\r\n    newNoteText: \"\"\r\n}\r\n\r\nexport type sidebarStateType = typeof initialState;\r\n\r\nlet sidebarReducer = (state = initialState, action: ActionsType): sidebarStateType => {\r\n    switch (action.type) {\r\n        case 'ADD_NOTE':\r\n            return {...state,\r\n            sidebarData: [...state.sidebarData, {\r\n                id: state.sidebarData.length + 1,\r\n                text: state.newNoteText\r\n            }],\r\n            newNoteText: \"\"\r\n        }\r\n        case 'CHANGE_NOTE_MESSAGE':\r\n            return {...state,\r\n                newNoteText: action.text\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default sidebarReducer;","import { usersType } from './../../types/types';\r\nexport const unfollowFollowChanging = (items: Array<usersType>, itemId: any, actionId: number, newObject: {}) => {\r\n    return items.map((u: any) => {\r\n        if (u[itemId] === actionId) {\r\n            return { ...u, ...newObject };\r\n        }\r\n        return u;\r\n    })\r\n}","import { unfollowFollowChanging } from './../utilities/objectHelpers/objectHelper';\r\nimport { usersAPI, unfollowFollowTypes, resultCodeEnum } from \"../dal/dal\";\r\nimport { usersType } from '../types/types';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport { Dispatch } from 'redux';\r\nimport { InferActionsTypes } from './redux-store';\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof userActions>\r\n\r\nexport const userActions = {\r\n    follow: (userId: number) => ({ type: 'FOLLOW', userId } as const),\r\n    unfollow: (userId: number) => ({ type: 'UNFOLLOW', userId } as const),\r\n    setUsers: (users: Array<usersType>) => ({ type: 'SET_USERS', users } as const),\r\n    setCurrentPage: (page: number) => ({ type: 'SET_CURRENT_PAGE', page } as const),\r\n    setFilter: (filter: FilterType) => ({ type: 'SET_FILTER', payload: filter } as const),\r\n    setUsersCount: (count: number) => ({ type: 'SET_USERS_COUNT', count } as const),\r\n    setFetching: (value: boolean) => ({ type: 'SET_FETCHING', value } as const),\r\n    setDisableUsers: (isDisable: boolean, usersId: number) => ({ type: 'DISABLE_USERS', isDisable, usersId } as const)\r\n}\r\n\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, userStateType, unknown, ActionsTypes>\r\ntype DispatchType = Dispatch<ActionsTypes>\r\n\r\nexport const getUsersThunk =\r\n(currentPage: number, pageSize: number, filter: FilterType): ThunkType => async (dispatch) => {\r\n    dispatch(userActions.setFetching(true)) // Enable Preloader component\r\n    const data = await usersAPI.getUsers(currentPage, pageSize, filter.term, filter.friend);\r\n    if (data.error === null) {\r\n        dispatch(userActions.setUsers(data.items))\r\n        dispatch(userActions.setUsersCount(data.totalCount))\r\n        dispatch(userActions.setCurrentPage(currentPage))\r\n        dispatch(userActions.setFilter(filter))\r\n        dispatch(userActions.setFetching(false)) // Disable Preloader component\r\n    } \r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: DispatchType, \r\n                                userId: number, \r\n                                userAPI: (userId: number) => Promise<unfollowFollowTypes>, \r\n                                actionCreator: (userId: number) => ActionsTypes) => {\r\n    dispatch(userActions.setDisableUsers(true, userId))\r\n    const data = await userAPI(userId)\r\n    if (data.resultCode === resultCodeEnum.Success) {\r\n        dispatch(userActions.setDisableUsers(false, userId))\r\n        dispatch(actionCreator(userId))\r\n    }\r\n} \r\n\r\nexport const unfollowThunk = (userId: number): ThunkType => async (dispatch) => {\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.unfollow, userActions.unfollow);\r\n}\r\nexport const followThunk = (userId: number): ThunkType => async (dispatch) => {\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.follow, userActions.follow);\r\n}\r\n\r\n\r\nlet initialState = {\r\n    users: [] as Array<usersType>,\r\n    usersCount: 0,\r\n    pageSize: 5,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    disableUsers: [] as Array<number>, // Aray of users id\r\n    filter: {\r\n        term: '',\r\n        friend: null as null | boolean\r\n    }\r\n}\r\n\r\nexport type userStateType = typeof initialState;\r\nexport type FilterType = typeof initialState.filter\r\n\r\n\r\nlet usersReducer = (state = initialState, action: ActionsTypes): userStateType => {\r\n    switch (action.type) {\r\n        case 'FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: unfollowFollowChanging(state.users, [\"id\"], action.userId, {followed: true})\r\n            }\r\n        case 'UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: unfollowFollowChanging(state.users, [\"id\"], action.userId, {followed: false})\r\n            }\r\n        case 'SET_USERS':\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case 'SET_CURRENT_PAGE':\r\n            return {\r\n                ...state,\r\n                currentPage: action.page\r\n            }\r\n        case 'SET_USERS_COUNT':\r\n            return {\r\n                ...state,\r\n                usersCount: action.count\r\n            }\r\n        case 'SET_FETCHING':\r\n            return {\r\n                ...state,\r\n                isFetching: action.value\r\n            }\r\n        case 'DISABLE_USERS':\r\n            return {\r\n                ...state,\r\n                disableUsers: action.isDisable ? [...state.disableUsers, action.usersId]\r\n                    : state.disableUsers.filter((id: number) => id !== action.usersId)\r\n            }\r\n        case 'SET_FILTER':\r\n            return {...state, filter: action.payload}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport dialogReducer from './dialogReducer';\r\nimport profileReducer from './profileReducer';\r\nimport sidebarReducer from './sidebarReducer';\r\nimport usersReducer from './usersReducer';\r\nimport authMeReducer from './authMeReducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from './appReducer';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nexport let reducers = combineReducers({    \r\n    dialogPage: dialogReducer,\r\n    profilePage: profileReducer,\r\n    sidebarPage: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authMeReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\ntype RootReducerType = typeof reducers;\r\nexport type stateType = ReturnType<RootReducerType>;\r\n\r\ntype PropertieesType<T> = T extends {[key: string]: infer U} ? U : never\r\n\r\nexport type InferActionsTypes<T extends {[key: string]: (...args: any[]) => any}> = ReturnType<PropertieesType<T>>\r\n\r\nlet store = createStore(reducers, composeWithDevTools(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\nexport default store;","import React, { FunctionComponent } from 'react';\r\nimport s from './NavBar.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\ninterface PropsInterface {\r\n}\r\n\r\n\r\nconst NavBar: FunctionComponent<PropsInterface> = (props) => {\r\n    return (\r\n        <div className={s.nav}>\r\n            <nav>\r\n                <ul>\r\n                    <li>\r\n                        <NavLink to=\"/profile\" className={s.item} activeClassName={s.active} >Profile</NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/dialog\" className={s.item} activeClassName={s.active}>Messages</NavLink>\r\n                    </li>\r\n                    {/* <li>\r\n                        <NavLink to=\"/news\" className={s.item} activeClassName={s.active}>News</NavLink>\r\n                    </li> */}\r\n                    <li>\r\n                        <NavLink to=\"/users\" className={s.item} activeClassName={s.active}>Users</NavLink>\r\n                    </li>\r\n                    {/* <li>\r\n                        <NavLink to=\"/music\" className={s.item} activeClassName={s.active}>Music</NavLink>\r\n                    </li> */}\r\n                    <li>\r\n                        <NavLink to=\"/setting\" className={s.item} activeClassName={s.active}>Settings</NavLink>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavBar;","import React, { FunctionComponent, useState } from \"react\";\r\nimport s from \"./Paginator.module.scss\";\r\nimport cn from 'classnames';\r\n\r\ninterface PropsInterface {\r\n    itemCount: number,\r\n    pageSize: number,\r\n    currentPage: number,\r\n    onPaginationClick: (p: number) => void\r\n}\r\n\r\nlet Paginator: FunctionComponent<PropsInterface> = (props) => {\r\n\r\n    let pageCount = Math.ceil(props.itemCount / props.pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionSize = 10;\r\n    let portionCount = Math.ceil(pageCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionNumber = (portionNumber -1) * portionSize + 1;\r\n    let rightPortionNumber = portionNumber * portionSize;\r\n\r\n    return <div className={s.paginatorBox}>\r\n        <button className={s.btn} disabled={portionNumber <= 1}\r\n        onClick={() => {setPortionNumber(portionNumber - 1)}\r\n        }>Prev</button>\r\n        {pages.filter((p: any) => p >= leftPortionNumber && p <= rightPortionNumber).map((p: any) => {\r\n            return <span key={p} className={cn(s.paginationItem, {\r\n                    [s.selectedPage]: props.currentPage === p\r\n                })}\r\n                onClick={(e) => { \r\n                    props.onPaginationClick(p)\r\n                 }}>{p}</span>\r\n        })}\r\n        <button className={s.btn} onClick={() => {setPortionNumber(portionNumber + 1)}}\r\n        disabled={portionNumber >= portionCount}>Next</button>\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React, { FunctionComponent } from \"react\";\r\nimport s from \"../Users.module.scss\";\r\nimport userIcon from \"../../../assets/img/user.jpeg\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { usersType } from \"../../../types/types\";\r\n\r\ninterface PropsType {\r\n    userData: usersType,\r\n    disableUsers: Array<number>,\r\n    isAuth: boolean,\r\n    unfollowThunk: (userId: number) => void,\r\n    followThunk: (userId: number) => void\r\n}\r\n\r\nlet User: FunctionComponent<PropsType> = (props) => {\r\n\r\n    return <div className={s.userBox}>\r\n        <div>\r\n            <NavLink to={\"/profile/\" + props.userData.id}>\r\n                <img src={props.userData.photos.small != null ? props.userData.photos.small : userIcon} alt=\"\" className={s.avatar} />\r\n            </NavLink>\r\n            {props.userData.followed ?\r\n                <button disabled={props.disableUsers.some((id: number) => id === props.userData.id )} onClick={() => {\r\n                    props.unfollowThunk(props.userData.id);\r\n                }}>Unfollow</button> :\r\n                <button disabled={props.disableUsers.some((id: number) => id === props.userData.id) && props.isAuth} onClick={() => {\r\n                    props.followThunk(props.userData.id);\r\n                }}>Follow</button>}\r\n        </div>\r\n        <div>\r\n            <span><b>User name:</b> {props.userData.name}</span>\r\n            <span><b>Satus:</b> {props.userData.status || \"-----\" }</span>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default User;","import React, { FC } from \"react\"\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport { FilterType } from \"../../redux/usersReducer\";\r\n\r\ntype PropsType = {\r\n    onFilterApply: (fitler: FilterType) => void\r\n}\r\n\r\ntype FormType = {\r\n    term: string,\r\n    friend: \"true\" | \"false\" | \"null\"\r\n}\r\n\r\nlet UserSearchForm: FC<PropsType> = React.memo((props) => {\r\n\r\n    let onSubmitForm = (values: FormType, {setSubmitting}: {setSubmitting: (value: boolean) => void}) => {\r\n        const filter: FilterType = {\r\n            term: values.term,\r\n            friend: values.friend === \"null\" ? null : values.friend === \"true\" ? true : false\r\n        }\r\n        props.onFilterApply(filter)\r\n        setSubmitting(false)\r\n    }\r\n\r\n    return <div>\r\n        <Formik\r\n       initialValues={{ term: '', friend: 'null'}}\r\n       onSubmit={onSubmitForm}\r\n     >\r\n       {({ isSubmitting }) => (\r\n         <Form>\r\n           <Field type=\"text\" name=\"term\" />\r\n           <Field name=\"friend\" as=\"select\">\r\n                <option value=\"null\">All</option>\r\n                <option value=\"true\">Only followed</option>\r\n                <option value=\"false\">Onlu Unfolowed</option>\r\n            </Field>\r\n           <button type=\"submit\" disabled={isSubmitting}>\r\n             Find\r\n           </button>\r\n         </Form>\r\n       )}\r\n     </Formik>\r\n    </div>\r\n})\r\n\r\nexport default UserSearchForm","import React, { FunctionComponent } from \"react\";\r\nimport Paginator from \"../../utilities/Paginator/Paginator\";\r\nimport User from \"./User/User\";\r\nimport { usersType } from \"../../types/types\";\r\nimport UserSearchForm from \"../UserSearchForm/UserSearchForm\";\r\nimport { FilterType } from \"../../redux/usersReducer\";\r\n\r\ntype PropsInterface = {\r\n    users: Array<usersType>,\r\n    usersCount: number,\r\n    pageSize: number,\r\n    currentPage: number,\r\n    isAuth: boolean,\r\n    onPaginationClick: (p: number) => void,\r\n    disableUsers: Array<number>,\r\n    unfollowThunk: (userId: number) => void,\r\n    followThunk: (userId: number) => void,\r\n    onFilterApply: (filter: FilterType) => void\r\n}\r\n\r\nlet Users: FunctionComponent<PropsInterface> = (props) => {\r\n\r\n    return <div>\r\n        <UserSearchForm onFilterApply={props.onFilterApply}/>\r\n        <Paginator itemCount={props.usersCount} \r\n                    pageSize={props.pageSize} \r\n                    currentPage={props.currentPage}\r\n                    onPaginationClick={props.onPaginationClick}\r\n                    />\r\n        {props.users.map((u: any) => <User disableUsers={props.disableUsers}\r\n                        isAuth={props.isAuth}\r\n                        unfollowThunk={props.unfollowThunk}\r\n                        followThunk={props.followThunk}\r\n                        key={u.id}\r\n                        userData={u}\r\n            /> \r\n        )}\r\n    </div>\r\n}\r\n\r\nexport default Users;","import { createSelector } from 'reselect';\r\nimport { stateType } from './redux-store';\r\nimport { usersType } from '../types/types';\r\n\r\n// At this moment i dont need reselector, so i just tested how its work\r\n\r\nconst getUsers = (state: stateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersSelector = createSelector(getUsers, (users: Array<usersType>) => {\r\n    return users.filter((a: usersType) => true)\r\n})\r\n\r\nexport const getUserCount = (state: stateType) => {\r\n    return state.usersPage.usersCount\r\n}\r\nexport const getPageSize = (state: stateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getCurrentPage = (state: stateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: stateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getDisableUsers = (state: stateType) => {\r\n    return state.usersPage.disableUsers\r\n}\r\nexport const isAuth = (state: stateType) => {\r\n    return state.auth.isAuth\r\n}\r\nexport const getFilter = (state: stateType) => {\r\n    return state.usersPage.filter\r\n}","import { connect } from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport { getUsersThunk, unfollowThunk, followThunk, FilterType } from \"../../redux/usersReducer\";\r\nimport React from \"react\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { getUsersSelector, getUserCount, getPageSize, \r\n        getCurrentPage, getIsFetching, getDisableUsers, \r\n        isAuth, getFilter } from \"../../redux/usersSelectors\";\r\nimport { usersType } from \"../../types/types\";\r\nimport { stateType } from \"../../redux/redux-store\";\r\n\r\ntype mapStateToPropsType = {\r\n    users: Array<usersType>,\r\n    usersCount: number,\r\n    pageSize: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    disableUsers: Array<number>,\r\n    isAuth: boolean,\r\n    filter: FilterType\r\n}\r\n\r\ntype mapDispatchToPropsType = {\r\n    getUsersThunk: (currentPage: number, pageSize: number, filter: FilterType) => void,\r\n    unfollowThunk: (userId: number) => void,\r\n    followThunk: (userId: number) => void\r\n}\r\n\r\ntype MyProps = mapStateToPropsType & mapDispatchToPropsType\r\n\r\nclass UsersClassComponent extends React.Component<MyProps>{\r\n\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props;\r\n        this.props.getUsersThunk(currentPage, pageSize, this.props.filter);\r\n    }\r\n\r\n    onPaginationClick = (PageNumber: number) => {\r\n        this.props.getUsersThunk(PageNumber, this.props.pageSize, this.props.filter);\r\n    }\r\n\r\n    onFilterApply = (filter: FilterType) => {\r\n        this.props.getUsersThunk(1, this.props.pageSize, filter);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : <Users users={this.props.users}\r\n                usersCount={this.props.usersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                isAuth = {this.props.isAuth}\r\n                onPaginationClick={this.onPaginationClick}\r\n                disableUsers={this.props.disableUsers}\r\n                unfollowThunk={this.props.unfollowThunk}\r\n                followThunk={this.props.followThunk}\r\n                onFilterApply={this.onFilterApply} />}\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: stateType): mapStateToPropsType => {\r\n    return {\r\n        users: getUsersSelector(state),\r\n        usersCount: getUserCount(state),\r\n        pageSize: getPageSize(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        disableUsers: getDisableUsers(state),\r\n        isAuth: isAuth(state),\r\n        filter: getFilter(state)\r\n    }\r\n}\r\n\r\nlet UserContainer = connect<mapStateToPropsType, mapDispatchToPropsType, {}, stateType>\r\n(mapStateToProps, {getUsersThunk, unfollowThunk, followThunk})(UsersClassComponent);\r\n\r\nexport default UserContainer;","import React, { FunctionComponent } from 'react';\r\nimport s from './Header.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport cub from '../../assets/img/cub.png';\r\n\r\ninterface myProps {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout: () => void\r\n    profileImage: string | null\r\n}\r\n\r\n\r\n\r\nconst Header: FunctionComponent<myProps> = (props) => {\r\n    return (\r\n        <div className={s.header}>\r\n             <header>\r\n                {props.isAuth && props.profileImage ?\r\n                <div className={s.userBox}>  \r\n                    <img src={props.profileImage} alt=\"\"/>\r\n                    <span>{props.login}</span>\r\n                </div> : <div></div> }\r\n                <div>\r\n                    <img src={cub} alt=\"\"/>\r\n                </div>\r\n                <div>\r\n                    {props.isAuth ? <button onClick={props.logout}>LogOut</button> \r\n                    : <div><NavLink to=\"/login\">Login</NavLink></div>}\r\n                </div>\r\n            </header>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { logout } from './../../redux/authMeReducer';\r\nimport { stateType } from '../../redux/redux-store';\r\n\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    profileImage: string | null\r\n}\r\n\r\ntype mapDipatchToPropsType = {\r\n    logout: () => void\r\n}\r\n\r\ntype OwnProps = {\r\n\r\n}\r\n\r\ntype MyProps = mapStateToPropsType & mapDipatchToPropsType & OwnProps\r\n\r\nclass HeaderContainer extends React.Component<MyProps>{\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n    \r\n}\r\n\r\nlet mapStateToProps = (state: stateType): mapStateToPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        profileImage: state.auth.userImage\r\n    }\r\n}\r\n\r\nexport default connect<mapStateToPropsType, mapDipatchToPropsType, OwnProps, stateType>\r\n(mapStateToProps, { logout})(HeaderContainer);","import React, { FunctionComponent }from 'react';\r\nimport {Field, reduxForm, InjectedFormProps} from 'redux-form';\r\nimport { Input } from '../../utilities/ReduxForm/Form';\r\nimport { required } from '../../utilities/validator/validator';\r\nimport { Redirect } from 'react-router-dom';\r\nimport s from './../../utilities/ReduxForm/ReduxForm.module.scss';\r\n\r\ntype IFormProps = {\r\n    handleSubmit: () => void,\r\n    error: string,\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n    captcha: string\r\n}\r\n\r\ntype IDispatchProps = {\r\n    captchaUrl: string\r\n}\r\n\r\nlet LoginForm = (props: IDispatchProps & InjectedFormProps<IFormProps, IDispatchProps>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div onSubmit={props.handleSubmit}>\r\n                <Field placeholder=\"Email\" name=\"email\" component={Input} validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder=\"Password\" suggested=\"current-password\" name=\"password\" component={Input} type=\"password\" validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field type=\"checkbox\" name=\"rememberMe\" component={Input}/> Remember me\r\n            </div>\r\n            {props.error && <div className={s.commonError}> {props.error} </div>}\r\n            {props.captchaUrl && <img src={props.captchaUrl} className={s.captchaImg} alt=\"captch\"/>}\r\n            { props.captchaUrl && <div>\r\n                <Field placeholder=\"Input symbols of image\" name=\"captcha\" component={Input} validate={[required]}/>\r\n            </div> }\r\n            <div>\r\n                <button>Login</button>\r\n            </div> \r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nlet LoginReduxForm = reduxForm<IFormProps, IDispatchProps>({form: 'login'})(LoginForm);\r\n\r\ntype propsInter = {\r\n    login: (email: string, password: string, rememberMe: boolean, captcha: string) => void,\r\n    isAuth: boolean\r\n    captchaUrl: string\r\n}\r\n\r\ntype formDataType = {\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n    captcha: string\r\n}\r\n\r\n\r\n\r\nlet Login: FunctionComponent<propsInter> = (props) => {\r\n    let onSubmit = (formData: formDataType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    }\r\n\r\n    if(props.isAuth) return <Redirect to=\"/profile\" />\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport Login from './Login';\r\nimport { connect } from 'react-redux';\r\nimport { login } from './../../redux/authMeReducer';\r\nimport { stateType } from '../../redux/redux-store';\r\n\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean,\r\n    captchaUrl: string\r\n}\r\n\r\ntype mapDispatchToPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean, captcha: string) => void,\r\n}\r\n\r\ntype OwnProps = {\r\n\r\n}\r\n\r\ntype PropsType = mapStateToPropsType & mapDispatchToPropsType & OwnProps\r\n\r\nclass LoginContainer extends React.Component<PropsType> {\r\n    render() {\r\n        return <Login login={this.props.login} isAuth={this.props.isAuth} captchaUrl={this.props.captchaUrl}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: any) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl\r\n    }\r\n}\r\n\r\nexport default connect<mapStateToPropsType, mapDispatchToPropsType, OwnProps, stateType>\r\n(mapStateToProps,{login})(LoginContainer);","import React from \"react\";\r\n\r\nexport const withSuspense = (Component: any) => {\r\n    return (props: any) => {\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    }\r\n}\r\n\r\n","import React, { FunctionComponent } from 'react';\nimport s from './App.module.scss';\nimport NavBar from './component/NavBar/NavBar';\nimport { Route, HashRouter, Switch, Redirect } from 'react-router-dom';\nimport UserContainer from './component/Users/UsersContainer';\nimport HeaderContainer from './component/Header/HeaderContainer';\nimport LoginContainer from './component/Login/LoginContainer';\nimport { initializeApp } from './redux/appReducer';\nimport { connect, Provider } from 'react-redux';\nimport Preloader from './component/common/Preloader/Preloader';\nimport store, { stateType } from './redux/redux-store';\nimport { withSuspense } from './hoc/withSuspense';\nimport cn from 'classnames';\n\nconst ProfileContainer = React.lazy(() => import('./component/Profile/ProfileContainer'));\nconst DialogContainer = React.lazy(() => import('./component/Dialog/DialogContainer'));\n\ntype mapStateToPropsType = {\n  appInitialized: boolean\n}\ntype mapDispatchToPropsType = {\n  initializeApp: () => void\n}\n\n\ntype PropsType = mapStateToPropsType & mapDispatchToPropsType\n\ntype LocalStateType = {\n  isOpenMenu: boolean\n}\n\nclass App extends React.Component<PropsType> {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  state: LocalStateType = {\n    isOpenMenu: false\n}\n\n  render() {\n    if(!this.props.appInitialized) return <Preloader />\n\n    return (\n      <div className={s.container}>\n        <button className={s.menu} onClick={() => this.setState({\n          isOpenMenu: !this.state.isOpenMenu\n        })}>☰</button>\n        <div className={s.header}></div>\n        <HashRouter> {// Instead of hashRouter i was used BrowserRouter, but BrowserRouter is working incorrect with \n                      // GitHub pages\n                    }\n          <div className={s.app_wrapper}>\n            <HeaderContainer />\n            <div className={cn(s.navBar, {\n              [s.mobileNavBar]: this.state.isOpenMenu \n            })}>\n              <NavBar/>\n            </div>\n            <div className={s.content}>\n              <Switch>\n                <Route exact path=\"/\" render={() => <Redirect to=\"/profile\" />}/>\n                <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}/>\n                <Route path=\"/dialog\" render={withSuspense(DialogContainer)}/>\n                <Route path=\"/users\" render={() => <UserContainer />} />\n                <Route path=\"/login\" render={() => <LoginContainer />} />\n                <Route path=\"*\" render={() => <div>404 Page not Found</div>}/>\n              </Switch>\n            </div>\n          </div>\n      </HashRouter>\n      </div>\n    );\n  }\n}\n\nlet mapStateToProps = (state: stateType): mapStateToPropsType => {\n  return {\n    appInitialized: state.app.initialazed\n  }\n}\n\nlet AppContainer =  connect<mapStateToPropsType, mapDispatchToPropsType, {}, stateType>\n(mapStateToProps, {initializeApp})(App);\n\ntype SocialApp = {}\n\nlet SocialApp: FunctionComponent<SocialApp> = (props) => {\n  return <Provider store={store}>\n    <AppContainer />\n  </Provider>\n}\n\nexport default SocialApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport store from './redux/redux-store';\nimport SocialApp from './App';\n\nlet rerenderEntireTree = (state: any): void => {\n    ReactDOM.render(<SocialApp />, document.getElementById('root'));\n}\nrerenderEntireTree(store.getState());\n\nstore.subscribe(() => {\n    let state = store.getState();\n    rerenderEntireTree(state);\n});","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"ReduxForm_error__233NZ\",\"commonError\":\"ReduxForm_commonError__cBGbG\",\"errorText\":\"ReduxForm_errorText__1DGgE\",\"captchaImg\":\"ReduxForm_captchaImg__2FHiG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__3z5rM\",\"menu\":\"App_menu__1RU7z\",\"header\":\"App_header__2qVPg\",\"app_wrapper\":\"App_app_wrapper__1LIpW\",\"content\":\"App_content__19Ox-\",\"navBar\":\"App_navBar__19uDn\",\"mobileNavBar\":\"App_mobileNavBar__3a9zf\"};","import { meThunk, authMeActions } from './authMeReducer';\r\nimport { getProfileThunk } from './profileReducer';\r\nimport { stateType, InferActionsTypes } from './redux-store';\r\n\r\ntype ActionsType = InferActionsTypes<typeof appActions>\r\n\r\nexport const appActions = {\r\n    InitializedSuccess: () => ({type: 'SUCCESS_INITIALIZING' } as const)\r\n}\r\n\r\ntype getStateType = () => stateType\r\n// type dispatchType = Dispatch<ActioType>\r\n\r\nexport const initializeApp = () => async (dispatch: any, getState: getStateType) => {\r\n    let result = await dispatch(meThunk())\r\n    if(result !== 1) { // If user is authorized\r\n        let userId = getState().auth.userId;\r\n        let profile = await dispatch(getProfileThunk(userId))\r\n        dispatch(authMeActions.setUserFoto(profile.photos.small)) //Add foto of aythorized user to store\r\n    }   \r\n    dispatch(appActions.InitializedSuccess()) \r\n}\r\n\r\n export type inicialStateType = {\r\n    initialazed: boolean\r\n}\r\n\r\nlet initialState: inicialStateType = {\r\n    initialazed: false\r\n}\r\n\r\nlet appReducer = (state = initialState , action: ActionsType): inicialStateType => {\r\n    switch (action.type) {\r\n        case 'SUCCESS_INITIALIZING':\r\n            return {\r\n                ...state,\r\n                initialazed: true\r\n            }\r\n        default:\r\n           return state\r\n    }\r\n}\r\n\r\nexport default appReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginatorBox\":\"Paginator_paginatorBox__1XIWO\",\"selectedPage\":\"Paginator_selectedPage__aL2Pb\",\"paginationItem\":\"Paginator_paginationItem__1uHLo\",\"btn\":\"Paginator_btn__1ItAy\",\"captchaImg\":\"Paginator_captchaImg__28son\"};","import React, { FunctionComponent } from 'react';\r\nimport s from './ReduxForm.module.scss';\r\nimport { WrappedFieldProps } from 'redux-form';\r\n\r\nexport const Textarea: FunctionComponent<WrappedFieldProps> = ({input, meta, ...props}) => {\r\n    let hasError = meta.error && meta.touched;\r\n   return (<div>\r\n        <textarea className={hasError ? s.error : \"\"} {...input} {...props}/>\r\n        {hasError && <span className={s.errorText}>{meta.error}</span>}\r\n   </div>)\r\n}\r\n\r\nexport const Input: FunctionComponent<WrappedFieldProps> = ({input, meta, ...props}) => {\r\n    let hasError = meta.error && meta.touched;\r\n   return (<div>\r\n        <input className={hasError ? s.error : \"\"} {...input} {...props}/>\r\n        {hasError && <span className={s.errorText}>{meta.error}</span>}\r\n   </div>)\r\n}","import { authMeActions } from './authMeReducer';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport { profileInfoType, photosType, postDataType } from './../types/types';\r\nimport { profileAPI, resultCodeEnum } from \"../dal/dal\";\r\nimport { stopSubmit } from \"redux-form\";\r\nimport { InferActionsTypes, stateType } from './redux-store';\r\nimport { AxiosResponse } from 'axios';\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof profileActions>\r\n\r\nexport const profileActions = {\r\n    addPostActionCreator: (postBody: string) => ({ type: 'ADD_POST', postBody } as const),\r\n    setPofileInfo: (profile: profileInfoType) => ({ type: 'SET_PROFILE_INFO', profile } as const),\r\n    setUserStatus: (status: string) => ({ type: 'SET_STATUS', status } as const),\r\n    deletePost: (postId: number) => ({ type: 'DELETE_POST', postId } as const),\r\n    savePhotoSuccess: (photoFile: photosType) => ({ type: 'SAVE_PHOTO', photoFile } as const),\r\n    setUserFoto: (userImage: string) => (authMeActions.setUserFoto(userImage))\r\n}\r\n\r\ntype DispatchType = ThunkAction<Promise<void | resultCodeEnum | null | AxiosResponse<profileInfoType> | profileInfoType>, stateType, unknown, ActionsTypes>\r\n\r\nexport const getProfileThunk = (userId: number | null): DispatchType => async (dispatch) => {\r\n    const response = await profileAPI.getProfile(userId);\r\n    dispatch(profileActions.setPofileInfo(response));\r\n    return response;\r\n}\r\n\r\nexport const getUserStatusThunk = (userId: number): DispatchType => async (dispatch) => {\r\n    const data = await profileAPI.getUserStatus(userId)\r\n    dispatch(profileActions.setUserStatus(data))\r\n    \r\n}\r\n\r\nexport const updateUserStatusThunk = (status: string): DispatchType => async (dispatch) => {\r\n    const data = await profileAPI.updateUserStatus(status)\r\n    if(data.resultCode === resultCodeEnum.Success) {\r\n        dispatch(profileActions.setUserStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (photo: File): DispatchType => async (dispatch) => { //Update image of user account\r\n    const responseData = await profileAPI.savePhoto(photo)\r\n    if(responseData.resultCode === resultCodeEnum.Success) {\r\n        dispatch(profileActions.savePhotoSuccess(responseData.data.photos))\r\n        dispatch(authMeActions.setUserFoto(responseData.data.photos.small))\r\n    }\r\n}\r\n\r\n\r\nexport const saveProfileInfo = (profile: profileInfoType): DispatchType => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const data = await profileAPI.saveProfileInfo(profile)\r\n    if(data.resultCode === resultCodeEnum.Success) {\r\n        getProfileThunk(userId)\r\n    } else {\r\n        const errorMessage = data.messages[0];\r\n        let field = errorMessage.indexOf(\"Contacts->\") + 10\r\n        if(field === 9) { // Handle general error\r\n            //@ts-ignore\r\n            dispatch(stopSubmit(\"profileData\", {_error: errorMessage}))\r\n        } else { // Handle error of some social network link\r\n            let socialNetworkName = errorMessage.substr(field, errorMessage.length - field - 1).toLowerCase()\r\n            let objError: Record<string, any> = {}\r\n            objError[socialNetworkName] = errorMessage\r\n            const object = {\"contacts\": objError}\r\n            //@ts-ignore\r\n            dispatch(stopSubmit(\"profileData\", object))\r\n        }\r\n        return Promise.reject(errorMessage)\r\n    }\r\n}\r\n\r\n\r\nexport type profileStateType = typeof initialState;\r\n\r\nlet initialState = {\r\n    PostData: [\r\n        { id: 1, text: \"Super puper ninja 1\", like: 4 },\r\n        { id: 2, text: \"OMG I'm in Internet\", like: 2 },\r\n        { id: 3, text: \"Join to my way of samurai\", like: 13 }\r\n    ] as Array<postDataType>,\r\n    profileInfo: null as profileInfoType | null,\r\n    status: \"\"\r\n}\r\n\r\nlet profileReducer = (state = initialState, action: ActionsTypes): profileStateType => {\r\n    switch (action.type) {\r\n        case 'ADD_POST': {\r\n            let newPost: postDataType = {\r\n                id: state.PostData.length + 1,\r\n                text: action.postBody,\r\n                like: 0\r\n            };\r\n            return { ...state,\r\n                PostData: [...state.PostData, newPost]\r\n            }\r\n        }\r\n        case 'DELETE_POST': \r\n            return {...state, PostData: state.PostData.filter( (p: any) => p.id !== action.postId)}\r\n        case 'SET_PROFILE_INFO': \r\n            return {\r\n                ...state,\r\n                profileInfo: {...action.profile}\r\n            }\r\n        case 'SET_STATUS': \r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case 'SAVE_PHOTO': \r\n            return {\r\n                ...state,\r\n                //@ts-ignore\r\n                profileInfo: {...state.profileInfo, photos: action.photoFile}\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import React, { FunctionComponent } from 'react';\r\nimport preloader from '../../../assets/img/preloader.gif';\r\nimport s from './Preloader.module.scss';\r\n\r\ninterface propsInterface {\r\n\r\n}\r\n\r\nlet Preloader: FunctionComponent<propsInterface> = (props) => {\r\n    return <div>\r\n        <img src={preloader} className={s.preloaderImg} alt=\"\"/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","export const required = (value: any) => {\r\n    if(value) return undefined;\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLength = (length: number) => (value?: string) => {\r\n    if(value) {\r\n        if(value.length > length) return `Max length is ${length} symbols`;\r\n    }\r\n    return undefined;\r\n}","import { usersType, profileInfoType, photosType } from './../types/types';\r\nimport Axios from 'axios';\r\nimport { FilterType } from '../redux/usersReducer';\r\n\r\n\r\nlet instance = Axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"fdd75b8c-6436-43ef-9820-ed9356461c34\"\r\n    },\r\n})\r\n\r\nexport type getUsersType = {\r\n    items: Array<usersType>,\r\n    totalCount: number,\r\n    error: string | null\r\n}\r\n\r\nexport type unfollowFollowTypes = {\r\n    data?: {},\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number, term: string = '', friend: null | boolean) {\r\n        return instance.get<getUsersType>(`users?page=${currentPage}&count=${pageSize}&term=${term}` + (friend === null ? '' : `&friend=${friend}`))\r\n        .then( response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete<unfollowFollowTypes>(`follow/${userId}`).then( response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post<unfollowFollowTypes>(`follow/${userId}`).then((response) => {\r\n            return response.data;\r\n        })\r\n    },\r\n    getProfile(userId: number | null) {\r\n        console.warn(\"Obsolete method. Please use profileAPI.\")\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\n\r\nexport type updateUserStatusType = {\r\n    data?: {},\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\nexport type savePhotoType = {\r\n    data: {\r\n        photos: photosType\r\n    },\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\nexport type saveProfileInfoType = {\r\n    data?: {},\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number | null) {\r\n        return instance.get<profileInfoType>(`profile/${userId}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    getUserStatus(userId: number) {\r\n        return instance.get<string>(`profile/status/${userId}`).then(response => {return response.data})\r\n    },\r\n    updateUserStatus(status: string) {\r\n        return instance.put<updateUserStatusType>(`profile/status`, {status: status}).then(response => response.data)\r\n    },\r\n    savePhoto(photo: File) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photo)\r\n        return instance.put<savePhotoType>(`profile/photo`, formData, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(res => res.data)\r\n    },\r\n    saveProfileInfo(profile: profileInfoType) {\r\n        return instance.put<saveProfileInfoType>(`profile`, profile).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport enum resultCodeEnum {\r\n    Success = 0,\r\n    Error = 1\r\n}\r\n\r\nexport enum resultCodeForCaptcha {\r\n    CaptchaRequired = 10\r\n}\r\n\r\nexport type meType = {\r\n    data: {\r\n        id: number,\r\n        email: string,\r\n        login: string\r\n    },\r\n    resultCode: resultCodeEnum | null,\r\n    messages: Array<string>\r\n}\r\n\r\nexport type loginType = {\r\n    data: {\r\n        userId?: number\r\n    },\r\n    resultCode: resultCodeEnum | resultCodeForCaptcha,\r\n    messages: Array<string>\r\n}\r\n\r\nexport const authApi = {\r\n    me() {\r\n        return instance.get<meType>(`auth/me`).then(result => result.data);\r\n    },\r\n    login(email: string, password: string, rememberMe = false, captcha: string | null = null) {\r\n        return instance.post<loginType>(`auth/login`, {email, password, rememberMe, captcha}).then( response => response.data)\r\n    },\r\n    logout() {\r\n        return instance.delete<loginType>(`auth/login`).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport type getCaptchaType = {\r\n    url: string\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get<getCaptchaType>(`security/get-captcha-url`).then(response => response.data)\r\n    }\r\n}"],"sourceRoot":""}